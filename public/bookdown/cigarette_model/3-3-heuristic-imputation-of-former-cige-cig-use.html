<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="3.3 Heuristic Imputation of Former Cig/E-Cig Use | Aim #2: Mathematical Model" />
<meta property="og:type" content="book" />


<meta property="og:description" content="This book contains the analyses for the mathematical model for Aim #2 of Charlie’s dissertation" />


<meta name="author" content="Charles Marks" />

<meta name="date" content="2021-04-12" />


<meta name="description" content="This book contains the analyses for the mathematical model for Aim #2 of Charlie’s dissertation">

<title>3.3 Heuristic Imputation of Former Cig/E-Cig Use | Aim #2: Mathematical Model</title>

<script src="libs/header-attrs-2.6/header-attrs.js"></script>
<script src="libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="libs/navigation-1.1/tabsets.js"></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
</style>
</head>

<body>

<div class="container-fluid main-container">


<div class="row">
<div class="col-sm-12">
<div id="TOC">
<ul>
<li><a href="index.html#in-this-book"><span class="toc-section-number">1</span> In This Book</a></li>
<li><a href="2-dataset.html#dataset"><span class="toc-section-number">2</span> Generating the Initial Dataset</a>
<ul>
<li><a href="2-1-participants.html#participants"><span class="toc-section-number">2.1</span> Participants</a></li>
<li><a href="2-2-defining-variables-we-wish-to-capture.html#defining-variables-we-wish-to-capture"><span class="toc-section-number">2.2</span> Defining Variables We Wish to Capture</a></li>
<li><a href="2-3-loading-the-necessary-datasets.html#loading-the-necessary-datasets"><span class="toc-section-number">2.3</span> Loading the Necessary Datasets</a></li>
<li><a href="2-4-iterating-through-the-datasets.html#iterating-through-the-datasets"><span class="toc-section-number">2.4</span> Iterating Through the Datasets</a></li>
<li><a href="2-5-factoring-the-data.html#factoring-the-data"><span class="toc-section-number">2.5</span> Factoring the Data</a></li>
<li><a href="2-6-adding-the-weights-and-replicate-weights-to-the-study.html#adding-the-weights-and-replicate-weights-to-the-study"><span class="toc-section-number">2.6</span> Adding the Weights and Replicate Weights to the Study</a></li>
<li><a href="2-7-save-the-data-frame-for-future-use.html#save-the-data-frame-for-future-use"><span class="toc-section-number">2.7</span> Save the Data Frame for Future Use</a></li>
</ul></li>
<li><a href="3-imputation.html#imputation"><span class="toc-section-number">3</span> Data Imputation</a>
<ul>
<li><a href="3-1-loading-libraries-and-the-data.html#loading-libraries-and-the-data"><span class="toc-section-number">3.1</span> Loading Libraries and the Data</a></li>
<li><a href="3-2-heuristic-imputation-of-income.html#heuristic-imputation-of-income"><span class="toc-section-number">3.2</span> Heuristic Imputation of Income</a></li>
<li><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#heuristic-imputation-of-former-cige-cig-use"><span class="toc-section-number">3.3</span> Heuristic Imputation of Former Cig/E-Cig Use</a></li>
<li><a href="3-4-imputation-with-mice.html#imputation-with-mice"><span class="toc-section-number">3.4</span> Imputation with <em>mice()</em></a></li>
<li><a href="3-5-generating-some-additional-variables.html#generating-some-additional-variables"><span class="toc-section-number">3.5</span> Generating Some Additional Variables</a>
<ul>
<li><a href="3-5-generating-some-additional-variables.html#cateogry-cigarette-and-e-cigarette-use"><span class="toc-section-number">3.5.1</span> 3-Cateogry Cigarette and E-Cigarette Use</a></li>
<li><a href="3-5-generating-some-additional-variables.html#income-change-from-waves-1---2"><span class="toc-section-number">3.5.2</span> Income Change from Waves 1 - 2</a></li>
</ul></li>
<li><a href="3-6-output-the-imputed-dataset.html#output-the-imputed-dataset"><span class="toc-section-number">3.6</span> Output the Imputed Dataset</a></li>
</ul></li>
<li><a href="4-paramset.html#paramset"><span class="toc-section-number">4</span> Generate Parameter Set</a></li>
<li><a href="5-ode.html#ode"><span class="toc-section-number">5</span> ODE Functions</a>
<ul>
<li><a href="5-1-helper-functions.html#helper-functions"><span class="toc-section-number">5.1</span> Helper Functions</a></li>
</ul></li>
<li><a href="6-calibration.html#calibration"><span class="toc-section-number">6</span> Calibration</a></li>
<li><a href="7-start.html#start"><span class="toc-section-number">7</span> Initial Start State</a>
<ul>
<li><a href="7-1-stratifying-by-sex-and-age.html#stratifying-by-sex-and-age"><span class="toc-section-number">7.1</span> Stratifying by Sex and Age</a></li>
<li><a href="7-2-stratifying-the-population-by-income-level.html#stratifying-the-population-by-income-level"><span class="toc-section-number">7.2</span> Stratifying the Population by Income Level</a></li>
<li><a href="7-3-distributing-cigarette-use.html#distributing-cigarette-use"><span class="toc-section-number">7.3</span> Distributing Cigarette Use</a></li>
<li><a href="7-4-distributing-e-cigarette-use.html#distributing-e-cigarette-use"><span class="toc-section-number">7.4</span> Distributing E-Cigarette Use</a></li>
<li><a href="7-5-outputting-states-to-confirm.html#outputting-states-to-confirm"><span class="toc-section-number">7.5</span> Outputting States to Confirm</a></li>
</ul></li>
</ul>
</div>
</div>
</div>
<div class="row">
<div class="col-sm-12">
<div id="heuristic-imputation-of-former-cige-cig-use" class="section level2" number="3.3">
<h2><span class="header-section-number">3.3</span> Heuristic Imputation of Former Cig/E-Cig Use</h2>
<p>The PATH Study computes former use based on a series of questions. The bar for concluding former use is higher than for concluding current use, as such they reported a greater number of missing former values than current. But, we can hope to derive best estimates for former values by looking at previous waves. We are only interested in imputing former status at Waves 2 and 3 (we don’t use Wave 1 values in our study). For example, someone who reports Current Use at Wave 1 but no Current Use at Wave 2, should be classified as a former smoker. We generated a series of rules for imputation to try to capture each of these potential imputation pathways when former use status was missing for a given Wave X (either Wave 2 or 3):</p>
<ol style="list-style-type: decimal">
<li>If an individual reports former smoking at Wave X - 1 and no current smoking at Wave X, then they are labeled as former smoking at Wave X</li>
<li>If an individuals reports no former smoking at Wave X - 1 and no current smoking at Wave X, then they are labeled as no former smoking at Wave X</li>
<li>If an individuals reports current smoking at Wave X, then they are labeled as no former smoking at Wave X (as they are current)</li>
</ol>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="do">## We will go through each participant one by one</span></span>
<span id="cb10-2"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(data)){</span>
<span id="cb10-3"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-3" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb10-4"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="do">## We want to extract needed information</span></span>
<span id="cb10-5"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="do">## First we extract current and former use status for cigarettes at Waves 1 - 3</span></span>
<span id="cb10-6"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-6" aria-hidden="true" tabindex="-1"></a>  wave1_current <span class="ot">&lt;-</span> data<span class="sc">$</span>wave1_smoker[i]</span>
<span id="cb10-7"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-7" aria-hidden="true" tabindex="-1"></a>  wave1_former <span class="ot">&lt;-</span> data<span class="sc">$</span>wave1_former_smoker[i]</span>
<span id="cb10-8"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-8" aria-hidden="true" tabindex="-1"></a>  wave2_current <span class="ot">&lt;-</span> data<span class="sc">$</span>wave2_smoker[i]</span>
<span id="cb10-9"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-9" aria-hidden="true" tabindex="-1"></a>  wave2_former <span class="ot">&lt;-</span> data<span class="sc">$</span>wave2_former_smoker[i]</span>
<span id="cb10-10"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-10" aria-hidden="true" tabindex="-1"></a>  wave3_current <span class="ot">&lt;-</span> data<span class="sc">$</span>wave3_smoker[i]</span>
<span id="cb10-11"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-11" aria-hidden="true" tabindex="-1"></a>  wave3_former <span class="ot">&lt;-</span> data<span class="sc">$</span>wave3_former_smoker[i]</span>
<span id="cb10-12"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-12" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb10-13"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-13" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Next we extract current and former e-cigarette use status at Waves 1 - 3</span></span>
<span id="cb10-14"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-14" aria-hidden="true" tabindex="-1"></a>  wave1_e_current <span class="ot">&lt;-</span> data<span class="sc">$</span>wave1_e_smoker[i]</span>
<span id="cb10-15"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-15" aria-hidden="true" tabindex="-1"></a>  wave1_e_former <span class="ot">&lt;-</span> data<span class="sc">$</span>wave1_former_e_smoker[i]</span>
<span id="cb10-16"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-16" aria-hidden="true" tabindex="-1"></a>  wave2_e_current <span class="ot">&lt;-</span> data<span class="sc">$</span>wave2_e_smoker[i]</span>
<span id="cb10-17"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-17" aria-hidden="true" tabindex="-1"></a>  wave2_e_former <span class="ot">&lt;-</span> data<span class="sc">$</span>wave2_former_e_smoker[i]</span>
<span id="cb10-18"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-18" aria-hidden="true" tabindex="-1"></a>  wave3_e_current <span class="ot">&lt;-</span> data<span class="sc">$</span>wave3_e_smoker[i]</span>
<span id="cb10-19"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-19" aria-hidden="true" tabindex="-1"></a>  wave3_e_former <span class="ot">&lt;-</span> data<span class="sc">$</span>wave3_former_e_smoker[i]</span>
<span id="cb10-20"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-20" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb10-21"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-21" aria-hidden="true" tabindex="-1"></a>  <span class="do">## First we will impute former cigarette use at Wave 2</span></span>
<span id="cb10-22"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-22" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="fu">is.na</span>(wave2_former)){</span>
<span id="cb10-23"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-23" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb10-24"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-24" aria-hidden="true" tabindex="-1"></a>    <span class="do">## Scenario 1</span></span>
<span id="cb10-25"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-25" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(<span class="sc">!</span><span class="fu">is.na</span>(wave1_former) <span class="sc">&amp;&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(wave2_current) <span class="sc">&amp;&amp;</span> wave1_former <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span> <span class="sc">&amp;&amp;</span> wave2_current <span class="sc">==</span> <span class="st">&quot;No&quot;</span>){</span>
<span id="cb10-26"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-26" aria-hidden="true" tabindex="-1"></a>      data<span class="sc">$</span>wave2_former_smoker[i] <span class="ot">&lt;-</span> <span class="st">&quot;Yes&quot;</span></span>
<span id="cb10-27"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-27" aria-hidden="true" tabindex="-1"></a>      wave2_former <span class="ot">&lt;-</span> <span class="st">&quot;Yes&quot;</span></span>
<span id="cb10-28"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-28" aria-hidden="true" tabindex="-1"></a>    <span class="do">## Scenario 2  </span></span>
<span id="cb10-29"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-29" aria-hidden="true" tabindex="-1"></a>    }<span class="cf">else</span> <span class="cf">if</span>(<span class="sc">!</span><span class="fu">is.na</span>(wave1_former) <span class="sc">&amp;&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(wave2_current) <span class="sc">&amp;&amp;</span> wave1_former <span class="sc">==</span> <span class="st">&quot;No&quot;</span> <span class="sc">&amp;&amp;</span> wave2_current <span class="sc">==</span> <span class="st">&quot;No&quot;</span>){</span>
<span id="cb10-30"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-30" aria-hidden="true" tabindex="-1"></a>      data<span class="sc">$</span>wave2_former_smoker[i] <span class="ot">&lt;-</span> <span class="st">&quot;No&quot;</span></span>
<span id="cb10-31"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-31" aria-hidden="true" tabindex="-1"></a>      wave2_former <span class="ot">&lt;-</span> <span class="st">&quot;No&quot;</span></span>
<span id="cb10-32"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-32" aria-hidden="true" tabindex="-1"></a>    <span class="do">## Scenario 3.1  </span></span>
<span id="cb10-33"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-33" aria-hidden="true" tabindex="-1"></a>    }<span class="cf">else</span> <span class="cf">if</span>(<span class="sc">!</span><span class="fu">is.na</span>(wave1_former) <span class="sc">&amp;&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(wave2_current) <span class="sc">&amp;&amp;</span> wave1_former <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span> <span class="sc">&amp;&amp;</span> wave2_current <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span>){</span>
<span id="cb10-34"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-34" aria-hidden="true" tabindex="-1"></a>      data<span class="sc">$</span>wave2_former_smoker[i] <span class="ot">&lt;-</span> <span class="st">&quot;No&quot;</span></span>
<span id="cb10-35"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-35" aria-hidden="true" tabindex="-1"></a>      wave2_former <span class="ot">&lt;-</span> <span class="st">&quot;No&quot;</span></span>
<span id="cb10-36"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-36" aria-hidden="true" tabindex="-1"></a>    <span class="do">## Scenario 3.2  </span></span>
<span id="cb10-37"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-37" aria-hidden="true" tabindex="-1"></a>    }<span class="cf">else</span> <span class="cf">if</span>(<span class="sc">!</span><span class="fu">is.na</span>(wave1_former) <span class="sc">&amp;&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(wave2_current) <span class="sc">&amp;&amp;</span> wave1_former <span class="sc">==</span> <span class="st">&quot;No&quot;</span> <span class="sc">&amp;&amp;</span> wave2_current <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span>){</span>
<span id="cb10-38"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-38" aria-hidden="true" tabindex="-1"></a>      data<span class="sc">$</span>wave2_former_smoker[i] <span class="ot">&lt;-</span> <span class="st">&quot;No&quot;</span></span>
<span id="cb10-39"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-39" aria-hidden="true" tabindex="-1"></a>      wave2_former <span class="ot">&lt;-</span> <span class="st">&quot;No&quot;</span></span>
<span id="cb10-40"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-40" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb10-41"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-41" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb10-42"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-42" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb10-43"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-43" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb10-44"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-44" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Next we repeat the process for Wave 3</span></span>
<span id="cb10-45"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-45" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="fu">is.na</span>(wave3_former)){</span>
<span id="cb10-46"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-46" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb10-47"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-47" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(<span class="sc">!</span><span class="fu">is.na</span>(wave2_former) <span class="sc">&amp;&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(wave3_current) <span class="sc">&amp;&amp;</span> wave2_former <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span> <span class="sc">&amp;&amp;</span> wave3_current <span class="sc">==</span> <span class="st">&quot;No&quot;</span>){</span>
<span id="cb10-48"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-48" aria-hidden="true" tabindex="-1"></a>      data<span class="sc">$</span>wave3_former_smoker[i] <span class="ot">&lt;-</span> <span class="st">&quot;Yes&quot;</span></span>
<span id="cb10-49"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-49" aria-hidden="true" tabindex="-1"></a>    }<span class="cf">else</span> <span class="cf">if</span>(<span class="sc">!</span><span class="fu">is.na</span>(wave2_former) <span class="sc">&amp;&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(wave3_current) <span class="sc">&amp;&amp;</span> wave2_former <span class="sc">==</span> <span class="st">&quot;No&quot;</span> <span class="sc">&amp;&amp;</span> wave3_current <span class="sc">==</span> <span class="st">&quot;No&quot;</span>){</span>
<span id="cb10-50"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-50" aria-hidden="true" tabindex="-1"></a>      data<span class="sc">$</span>wave3_former_smoker[i] <span class="ot">&lt;-</span> <span class="st">&quot;No&quot;</span></span>
<span id="cb10-51"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-51" aria-hidden="true" tabindex="-1"></a>    }<span class="cf">else</span> <span class="cf">if</span>(<span class="sc">!</span><span class="fu">is.na</span>(wave2_former) <span class="sc">&amp;&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(wave3_current) <span class="sc">&amp;&amp;</span> wave2_former <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span> <span class="sc">&amp;&amp;</span> wave3_current <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span>){</span>
<span id="cb10-52"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-52" aria-hidden="true" tabindex="-1"></a>      data<span class="sc">$</span>wave3_former_smoker[i] <span class="ot">&lt;-</span> <span class="st">&quot;No&quot;</span></span>
<span id="cb10-53"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-53" aria-hidden="true" tabindex="-1"></a>    }<span class="cf">else</span> <span class="cf">if</span>(<span class="sc">!</span><span class="fu">is.na</span>(wave2_former) <span class="sc">&amp;&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(wave3_current) <span class="sc">&amp;&amp;</span> wave2_former <span class="sc">==</span> <span class="st">&quot;No&quot;</span> <span class="sc">&amp;&amp;</span> wave3_current <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span>){</span>
<span id="cb10-54"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-54" aria-hidden="true" tabindex="-1"></a>      data<span class="sc">$</span>wave3_former_smoker[i] <span class="ot">&lt;-</span> <span class="st">&quot;No&quot;</span></span>
<span id="cb10-55"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-55" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb10-56"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-56" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb10-57"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-57" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb10-58"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-58" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb10-59"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-59" aria-hidden="true" tabindex="-1"></a>  <span class="do">## We then, similarly, repeat this process for the e-cigarette values as well</span></span>
<span id="cb10-60"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-60" aria-hidden="true" tabindex="-1"></a>  <span class="do">## First, we impute for Wave 2</span></span>
<span id="cb10-61"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-61" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="fu">is.na</span>(wave2_e_former)){</span>
<span id="cb10-62"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-62" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb10-63"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-63" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(<span class="sc">!</span><span class="fu">is.na</span>(wave1_e_former) <span class="sc">&amp;&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(wave2_e_current) <span class="sc">&amp;&amp;</span> wave1_e_former <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span> <span class="sc">&amp;&amp;</span> wave2_e_current <span class="sc">==</span> <span class="st">&quot;No&quot;</span>){</span>
<span id="cb10-64"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-64" aria-hidden="true" tabindex="-1"></a>      data<span class="sc">$</span>wave2_former_e_smoker[i] <span class="ot">&lt;-</span> <span class="st">&quot;Yes&quot;</span></span>
<span id="cb10-65"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-65" aria-hidden="true" tabindex="-1"></a>      wave2_e_former <span class="ot">&lt;-</span> <span class="st">&quot;Yes&quot;</span></span>
<span id="cb10-66"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-66" aria-hidden="true" tabindex="-1"></a>    }<span class="cf">else</span> <span class="cf">if</span>(<span class="sc">!</span><span class="fu">is.na</span>(wave1_e_former) <span class="sc">&amp;&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(wave2_e_current) <span class="sc">&amp;&amp;</span> wave1_e_former <span class="sc">==</span> <span class="st">&quot;No&quot;</span> <span class="sc">&amp;&amp;</span> wave2_e_current <span class="sc">==</span> <span class="st">&quot;No&quot;</span>){</span>
<span id="cb10-67"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-67" aria-hidden="true" tabindex="-1"></a>      data<span class="sc">$</span>wave2_former_e_smoker[i] <span class="ot">&lt;-</span> <span class="st">&quot;No&quot;</span></span>
<span id="cb10-68"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-68" aria-hidden="true" tabindex="-1"></a>      wave2_e_former <span class="ot">&lt;-</span> <span class="st">&quot;No&quot;</span></span>
<span id="cb10-69"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-69" aria-hidden="true" tabindex="-1"></a>    }<span class="cf">else</span> <span class="cf">if</span>(<span class="sc">!</span><span class="fu">is.na</span>(wave1_e_former) <span class="sc">&amp;&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(wave2_e_current) <span class="sc">&amp;&amp;</span> wave1_e_former <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span> <span class="sc">&amp;&amp;</span> wave2_e_current <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span>){</span>
<span id="cb10-70"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-70" aria-hidden="true" tabindex="-1"></a>      data<span class="sc">$</span>wave2_former_e_smoker[i] <span class="ot">&lt;-</span> <span class="st">&quot;No&quot;</span></span>
<span id="cb10-71"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-71" aria-hidden="true" tabindex="-1"></a>      wave2_e_former <span class="ot">&lt;-</span> <span class="st">&quot;No&quot;</span></span>
<span id="cb10-72"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-72" aria-hidden="true" tabindex="-1"></a>    }<span class="cf">else</span> <span class="cf">if</span>(<span class="sc">!</span><span class="fu">is.na</span>(wave1_e_former) <span class="sc">&amp;&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(wave2_e_current) <span class="sc">&amp;&amp;</span> wave1_e_former <span class="sc">==</span> <span class="st">&quot;No&quot;</span> <span class="sc">&amp;&amp;</span> wave2_e_current <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span>){</span>
<span id="cb10-73"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-73" aria-hidden="true" tabindex="-1"></a>      data<span class="sc">$</span>wave2_former_e_smoker[i] <span class="ot">&lt;-</span> <span class="st">&quot;No&quot;</span></span>
<span id="cb10-74"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-74" aria-hidden="true" tabindex="-1"></a>      wave2_e_former <span class="ot">&lt;-</span> <span class="st">&quot;No&quot;</span></span>
<span id="cb10-75"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-75" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb10-76"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-76" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb10-77"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-77" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb10-78"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-78" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb10-79"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-79" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Next we impute for Wave 3</span></span>
<span id="cb10-80"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-80" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="fu">is.na</span>(wave3_e_former)){</span>
<span id="cb10-81"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-81" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb10-82"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-82" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(<span class="sc">!</span><span class="fu">is.na</span>(wave2_e_former) <span class="sc">&amp;&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(wave3_e_current) <span class="sc">&amp;&amp;</span> wave2_e_former <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span> <span class="sc">&amp;&amp;</span> wave3_e_current <span class="sc">==</span> <span class="st">&quot;No&quot;</span>){</span>
<span id="cb10-83"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-83" aria-hidden="true" tabindex="-1"></a>      data<span class="sc">$</span>wave3_former_e_smoker[i] <span class="ot">&lt;-</span> <span class="st">&quot;Yes&quot;</span></span>
<span id="cb10-84"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-84" aria-hidden="true" tabindex="-1"></a>    }<span class="cf">else</span> <span class="cf">if</span>(<span class="sc">!</span><span class="fu">is.na</span>(wave2_e_former) <span class="sc">&amp;&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(wave3_e_current) <span class="sc">&amp;&amp;</span> wave2_e_former <span class="sc">==</span> <span class="st">&quot;No&quot;</span> <span class="sc">&amp;&amp;</span> wave3_e_current <span class="sc">==</span> <span class="st">&quot;No&quot;</span>){</span>
<span id="cb10-85"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-85" aria-hidden="true" tabindex="-1"></a>      data<span class="sc">$</span>wave3_former_e_smoker[i] <span class="ot">&lt;-</span> <span class="st">&quot;No&quot;</span></span>
<span id="cb10-86"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-86" aria-hidden="true" tabindex="-1"></a>    }<span class="cf">else</span> <span class="cf">if</span>(<span class="sc">!</span><span class="fu">is.na</span>(wave2_e_former) <span class="sc">&amp;&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(wave3_e_current) <span class="sc">&amp;&amp;</span> wave2_e_former <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span> <span class="sc">&amp;&amp;</span> wave3_e_current <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span>){</span>
<span id="cb10-87"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-87" aria-hidden="true" tabindex="-1"></a>      data<span class="sc">$</span>wave3_former_e_smoker[i] <span class="ot">&lt;-</span> <span class="st">&quot;No&quot;</span></span>
<span id="cb10-88"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-88" aria-hidden="true" tabindex="-1"></a>    }<span class="cf">else</span> <span class="cf">if</span>(<span class="sc">!</span><span class="fu">is.na</span>(wave2_e_former) <span class="sc">&amp;&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(wave3_e_current) <span class="sc">&amp;&amp;</span> wave2_e_former <span class="sc">==</span> <span class="st">&quot;No&quot;</span> <span class="sc">&amp;&amp;</span> wave3_e_current <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span>){</span>
<span id="cb10-89"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-89" aria-hidden="true" tabindex="-1"></a>      data<span class="sc">$</span>wave3_former_e_smoker[i] <span class="ot">&lt;-</span> <span class="st">&quot;No&quot;</span></span>
<span id="cb10-90"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-90" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb10-91"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-91" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb10-92"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-92" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb10-93"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-93" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb10-94"><a href="3-3-heuristic-imputation-of-former-cige-cig-use.html#cb10-94" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
</div>
<p style="text-align: center;">
<a href="3-2-heuristic-imputation-of-income.html"><button class="btn btn-default">Previous</button></a>
<a href="3-4-imputation-with-mice.html"><button class="btn btn-default">Next</button></a>
</p>
</div>
</div>


</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>

</body>
</html>
