<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Generate Parameter Set | Aim #2: Mathematical Model</title>
  <meta name="description" content="This book contains the analyses for the mathematical model for Aim #2 of Charlie’s dissertation" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Generate Parameter Set | Aim #2: Mathematical Model" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This book contains the analyses for the mathematical model for Aim #2 of Charlie’s dissertation" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Generate Parameter Set | Aim #2: Mathematical Model" />
  
  <meta name="twitter:description" content="This book contains the analyses for the mathematical model for Aim #2 of Charlie’s dissertation" />
  

<meta name="author" content="Charles Marks" />


<meta name="date" content="2021-04-22" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="imputation.html"/>
<link rel="next" href="start.html"/>
<script src="libs/header-attrs-2.6/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> In This Book</a></li>
<li class="chapter" data-level="2" data-path="dataset.html"><a href="dataset.html"><i class="fa fa-check"></i><b>2</b> Generating the Initial Dataset</a>
<ul>
<li class="chapter" data-level="2.1" data-path="dataset.html"><a href="dataset.html#participants"><i class="fa fa-check"></i><b>2.1</b> Participants</a></li>
<li class="chapter" data-level="2.2" data-path="dataset.html"><a href="dataset.html#defining-variables-we-wish-to-capture"><i class="fa fa-check"></i><b>2.2</b> Defining Variables We Wish to Capture</a></li>
<li class="chapter" data-level="2.3" data-path="dataset.html"><a href="dataset.html#loading-the-necessary-datasets"><i class="fa fa-check"></i><b>2.3</b> Loading the Necessary Datasets</a></li>
<li class="chapter" data-level="2.4" data-path="dataset.html"><a href="dataset.html#iterating-through-the-datasets"><i class="fa fa-check"></i><b>2.4</b> Iterating Through the Datasets</a></li>
<li class="chapter" data-level="2.5" data-path="dataset.html"><a href="dataset.html#factoring-the-data"><i class="fa fa-check"></i><b>2.5</b> Factoring the Data</a></li>
<li class="chapter" data-level="2.6" data-path="dataset.html"><a href="dataset.html#adding-the-weights-and-replicate-weights-to-the-study"><i class="fa fa-check"></i><b>2.6</b> Adding the Weights and Replicate Weights to the Study</a></li>
<li class="chapter" data-level="2.7" data-path="dataset.html"><a href="dataset.html#save-the-data-frame-for-future-use"><i class="fa fa-check"></i><b>2.7</b> Save the Data Frame for Future Use</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="imputation.html"><a href="imputation.html"><i class="fa fa-check"></i><b>3</b> Data Imputation</a>
<ul>
<li class="chapter" data-level="3.1" data-path="imputation.html"><a href="imputation.html#loading-libraries-and-the-data"><i class="fa fa-check"></i><b>3.1</b> Loading Libraries and the Data</a></li>
<li class="chapter" data-level="3.2" data-path="imputation.html"><a href="imputation.html#heuristic-imputation-of-income"><i class="fa fa-check"></i><b>3.2</b> Heuristic Imputation of Income</a></li>
<li class="chapter" data-level="3.3" data-path="imputation.html"><a href="imputation.html#heuristic-imputation-of-former-cige-cig-use"><i class="fa fa-check"></i><b>3.3</b> Heuristic Imputation of Former Cig/E-Cig Use</a></li>
<li class="chapter" data-level="3.4" data-path="imputation.html"><a href="imputation.html#imputation-with-mice"><i class="fa fa-check"></i><b>3.4</b> Imputation with <em>mice()</em></a></li>
<li class="chapter" data-level="3.5" data-path="imputation.html"><a href="imputation.html#generating-some-additional-variables"><i class="fa fa-check"></i><b>3.5</b> Generating Some Additional Variables</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="imputation.html"><a href="imputation.html#cateogry-cigarette-and-e-cigarette-use"><i class="fa fa-check"></i><b>3.5.1</b> 3-Cateogry Cigarette and E-Cigarette Use</a></li>
<li class="chapter" data-level="3.5.2" data-path="imputation.html"><a href="imputation.html#income-change-from-waves-1---2"><i class="fa fa-check"></i><b>3.5.2</b> Income Change from Waves 1 - 2</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="imputation.html"><a href="imputation.html#output-the-imputed-dataset"><i class="fa fa-check"></i><b>3.6</b> Output the Imputed Dataset</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="paramset.html"><a href="paramset.html"><i class="fa fa-check"></i><b>4</b> Generate Parameter Set</a>
<ul>
<li class="chapter" data-level="4.1" data-path="paramset.html"><a href="paramset.html#loading-necessary-packages-and-helper-functions"><i class="fa fa-check"></i><b>4.1</b> Loading Necessary Packages and Helper Functions</a></li>
<li class="chapter" data-level="4.2" data-path="paramset.html"><a href="paramset.html#set-some-hyperparamets-to-customize-parameter-set"><i class="fa fa-check"></i><b>4.2</b> Set Some Hyperparamets to Customize Parameter Set</a></li>
<li class="chapter" data-level="4.3" data-path="paramset.html"><a href="paramset.html#loading-our-dataset-and-defining-some-variables"><i class="fa fa-check"></i><b>4.3</b> Loading Our Dataset and Defining Some Variables</a></li>
<li class="chapter" data-level="4.4" data-path="paramset.html"><a href="paramset.html#defining-absolute-age-specific-income-transition-totals"><i class="fa fa-check"></i><b>4.4</b> Defining Absolute Age-Specific Income Transition Totals</a></li>
<li class="chapter" data-level="4.5" data-path="paramset.html"><a href="paramset.html#defining-cigarette-use-transitions"><i class="fa fa-check"></i><b>4.5</b> Defining Cigarette Use Transitions</a></li>
<li class="chapter" data-level="4.6" data-path="paramset.html"><a href="paramset.html#defining-e-cigarette-transitions"><i class="fa fa-check"></i><b>4.6</b> Defining E-Cigarette Transitions</a></li>
<li class="chapter" data-level="4.7" data-path="paramset.html"><a href="paramset.html#running-regression-analyses-to-extract-log-relative-risks"><i class="fa fa-check"></i><b>4.7</b> Running Regression Analyses to Extract Log-Relative Risks</a>
<ul>
<li class="chapter" data-level="4.7.1" data-path="paramset.html"><a href="paramset.html#defining-income-change-variable"><i class="fa fa-check"></i><b>4.7.1</b> Defining Income Change Variable</a></li>
<li class="chapter" data-level="4.7.2" data-path="paramset.html"><a href="paramset.html#cigarette-initiation-model"><i class="fa fa-check"></i><b>4.7.2</b> Cigarette Initiation Model</a></li>
<li class="chapter" data-level="4.7.3" data-path="paramset.html"><a href="paramset.html#cigarette-cessation-model"><i class="fa fa-check"></i><b>4.7.3</b> Cigarette Cessation Model</a></li>
<li class="chapter" data-level="4.7.4" data-path="paramset.html"><a href="paramset.html#cigarette-re-instatement-model"><i class="fa fa-check"></i><b>4.7.4</b> Cigarette Re-Instatement Model</a></li>
<li class="chapter" data-level="4.7.5" data-path="paramset.html"><a href="paramset.html#e-cigarette-initiation-model"><i class="fa fa-check"></i><b>4.7.5</b> E-Cigarette Initiation Model</a></li>
<li class="chapter" data-level="4.7.6" data-path="paramset.html"><a href="paramset.html#e-cigarette-cessation-model"><i class="fa fa-check"></i><b>4.7.6</b> E-Cigarette Cessation Model</a></li>
<li class="chapter" data-level="4.7.7" data-path="paramset.html"><a href="paramset.html#e-cigarette-reinstatement-model"><i class="fa fa-check"></i><b>4.7.7</b> E-Cigarette Reinstatement Model</a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="paramset.html"><a href="paramset.html#drawing-our-parameter-set-samples"><i class="fa fa-check"></i><b>4.8</b> Drawing Our Parameter Set Samples</a>
<ul>
<li class="chapter" data-level="4.8.1" data-path="paramset.html"><a href="paramset.html#income-transitions-sample"><i class="fa fa-check"></i><b>4.8.1</b> Income Transitions Sample</a></li>
<li class="chapter" data-level="4.8.2" data-path="paramset.html"><a href="paramset.html#cigarette-transitions-sample"><i class="fa fa-check"></i><b>4.8.2</b> Cigarette Transitions Sample</a></li>
<li class="chapter" data-level="4.8.3" data-path="paramset.html"><a href="paramset.html#e-cigarette-transitions-sample"><i class="fa fa-check"></i><b>4.8.3</b> E-Cigarette Transitions Sample</a></li>
<li class="chapter" data-level="4.8.4" data-path="paramset.html"><a href="paramset.html#sampling-relative-risks"><i class="fa fa-check"></i><b>4.8.4</b> Sampling Relative Risks</a></li>
</ul></li>
<li class="chapter" data-level="4.9" data-path="paramset.html"><a href="paramset.html#generating-the-final-parameter-set-sampling"><i class="fa fa-check"></i><b>4.9</b> Generating the Final Parameter Set Sampling</a></li>
<li class="chapter" data-level="4.10" data-path="paramset.html"><a href="paramset.html#output-the-results"><i class="fa fa-check"></i><b>4.10</b> Output the Results</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="start.html"><a href="start.html"><i class="fa fa-check"></i><b>5</b> Initial Start State</a>
<ul>
<li class="chapter" data-level="5.1" data-path="start.html"><a href="start.html#stratifying-by-sex-and-age"><i class="fa fa-check"></i><b>5.1</b> Stratifying by Sex and Age</a></li>
<li class="chapter" data-level="5.2" data-path="start.html"><a href="start.html#stratifying-the-population-by-income-level"><i class="fa fa-check"></i><b>5.2</b> Stratifying the Population by Income Level</a></li>
<li class="chapter" data-level="5.3" data-path="start.html"><a href="start.html#distributing-cigarette-use"><i class="fa fa-check"></i><b>5.3</b> Distributing Cigarette Use</a></li>
<li class="chapter" data-level="5.4" data-path="start.html"><a href="start.html#distributing-e-cigarette-use"><i class="fa fa-check"></i><b>5.4</b> Distributing E-Cigarette Use</a></li>
<li class="chapter" data-level="5.5" data-path="start.html"><a href="start.html#saving-the-states"><i class="fa fa-check"></i><b>5.5</b> Saving the States</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="ode.html"><a href="ode.html"><i class="fa fa-check"></i><b>6</b> ODE Functions</a>
<ul>
<li class="chapter" data-level="6.1" data-path="ode.html"><a href="ode.html#ode-function"><i class="fa fa-check"></i><b>6.1</b> ODE Function</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="calibration.html"><a href="calibration.html"><i class="fa fa-check"></i><b>7</b> Calibration</a>
<ul>
<li class="chapter" data-level="7.1" data-path="calibration.html"><a href="calibration.html#load-the-necessary-libraries"><i class="fa fa-check"></i><b>7.1</b> Load the Necessary Libraries</a></li>
<li class="chapter" data-level="7.2" data-path="calibration.html"><a href="calibration.html#define-our-calibration-function"><i class="fa fa-check"></i><b>7.2</b> Define Our Calibration Function</a></li>
<li class="chapter" data-level="7.3" data-path="calibration.html"><a href="calibration.html#run-the-calibration"><i class="fa fa-check"></i><b>7.3</b> Run the Calibration</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="ref.html"><a href="ref.html"><i class="fa fa-check"></i><b>8</b> Run Primary Model and Income Scenario Analysis</a>
<ul>
<li class="chapter" data-level="8.1" data-path="ref.html"><a href="ref.html#run-primary-model"><i class="fa fa-check"></i><b>8.1</b> Run Primary Model</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="ref.html"><a href="ref.html#load-the-needed-libraries-and-functions"><i class="fa fa-check"></i><b>8.1.1</b> Load the Needed Libraries and Functions</a></li>
<li class="chapter" data-level="8.1.2" data-path="ref.html"><a href="ref.html#initialize-the-start-state-and-entry-object"><i class="fa fa-check"></i><b>8.1.2</b> Initialize the Start State and Entry Object</a></li>
<li class="chapter" data-level="8.1.3" data-path="ref.html"><a href="ref.html#load-appropraite-parameters"><i class="fa fa-check"></i><b>8.1.3</b> Load Appropraite Parameters</a></li>
<li class="chapter" data-level="8.1.4" data-path="ref.html"><a href="ref.html#actually-run-the-model"><i class="fa fa-check"></i><b>8.1.4</b> Actually Run the Model</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="ref.html"><a href="ref.html#run-high-income-scenario-analysis"><i class="fa fa-check"></i><b>8.2</b> Run High-Income Scenario Analysis</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>9</b> Results</a>
<ul>
<li class="chapter" data-level="9.1" data-path="results.html"><a href="results.html#calibration-confirmation"><i class="fa fa-check"></i><b>9.1</b> Calibration Confirmation</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="results.html"><a href="results.html#population-growth"><i class="fa fa-check"></i><b>9.1.1</b> Population Growth</a></li>
<li class="chapter" data-level="9.1.2" data-path="results.html"><a href="results.html#current-cigarette-use"><i class="fa fa-check"></i><b>9.1.2</b> Current Cigarette Use</a></li>
<li class="chapter" data-level="9.1.3" data-path="results.html"><a href="results.html#former-cigarette-use"><i class="fa fa-check"></i><b>9.1.3</b> Former Cigarette Use</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="results.html"><a href="results.html#scenario-analysis-results"><i class="fa fa-check"></i><b>9.2</b> Scenario Analysis Results</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="results.html"><a href="results.html#cigarette-prevalence"><i class="fa fa-check"></i><b>9.2.1</b> Cigarette Prevalence</a></li>
<li class="chapter" data-level="9.2.2" data-path="results.html"><a href="results.html#population-attributable-fraction"><i class="fa fa-check"></i><b>9.2.2</b> Population Attributable Fraction</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Aim #2: Mathematical Model</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="paramset" class="section level1" number="4">
<h1><span class="header-section-number">Chapter 4</span> Generate Parameter Set</h1>
<p>In order to run the model we need several pieces: a parameter set, an initial model state, an ODE function which simulates the model, calibration step to fine tune the parameters to historical data. Once these pieces are in place, we can actually run the model. In this chapter, we focus on generating a parameter set. The full description of the model is available in the manuscript, but, briefly, we are using the PATH Study dataset to extract information about both absolute and relative transitions. Of importance, we highlight that due to potential sampling bias, we believe that many of the absolute transitions (such as how many people who smoke cigarettes end their use each other) may be biased. As such, in the calibration chapter, we will modify some of these absolute rates. The relative rates (for example, the relative risk initiating smoking for someone making 25-50k versus &lt;10k) will be extracted from the PATH Study as well.</p>
<div id="loading-necessary-packages-and-helper-functions" class="section level2" number="4.1">
<h2><span class="header-section-number">4.1</span> Loading Necessary Packages and Helper Functions</h2>
<p>First, we will load in some of the packages that we need. (Need to double check, some of these might not be used in this file)</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="paramset.html#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(deSolve)</span>
<span id="cb15-2"><a href="paramset.html#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(minpack.lm)</span>
<span id="cb15-3"><a href="paramset.html#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb15-4"><a href="paramset.html#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra)</span>
<span id="cb15-5"><a href="paramset.html#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(triangle)</span>
<span id="cb15-6"><a href="paramset.html#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(epiR)</span>
<span id="cb15-7"><a href="paramset.html#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(matlab)</span>
<span id="cb15-8"><a href="paramset.html#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sandwich)</span>
<span id="cb15-9"><a href="paramset.html#cb15-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lmtest)</span>
<span id="cb15-10"><a href="paramset.html#cb15-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(MCMCpack)</span>
<span id="cb15-11"><a href="paramset.html#cb15-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(survey)</span>
<span id="cb15-12"><a href="paramset.html#cb15-12" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(mice)</span>
<span id="cb15-13"><a href="paramset.html#cb15-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-14"><a href="paramset.html#cb15-14" aria-hidden="true" tabindex="-1"></a>toArray <span class="ot">&lt;-</span> <span class="cf">function</span>(vector, <span class="at">dim =</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">6</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">13</span>)){</span>
<span id="cb15-15"><a href="paramset.html#cb15-15" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb15-16"><a href="paramset.html#cb15-16" aria-hidden="true" tabindex="-1"></a>  array_structure <span class="ot">&lt;-</span> <span class="fu">array</span>(<span class="at">dim =</span> dim)</span>
<span id="cb15-17"><a href="paramset.html#cb15-17" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb15-18"><a href="paramset.html#cb15-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">replace</span>(array_structure, <span class="cn">TRUE</span>, vector))</span>
<span id="cb15-19"><a href="paramset.html#cb15-19" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb15-20"><a href="paramset.html#cb15-20" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb15-21"><a href="paramset.html#cb15-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-22"><a href="paramset.html#cb15-22" aria-hidden="true" tabindex="-1"></a>toVector <span class="ot">&lt;-</span> <span class="cf">function</span>(array){</span>
<span id="cb15-23"><a href="paramset.html#cb15-23" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb15-24"><a href="paramset.html#cb15-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">c</span>(array))</span>
<span id="cb15-25"><a href="paramset.html#cb15-25" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb15-26"><a href="paramset.html#cb15-26" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb15-27"><a href="paramset.html#cb15-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-28"><a href="paramset.html#cb15-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-29"><a href="paramset.html#cb15-29" aria-hidden="true" tabindex="-1"></a><span class="do">## We also define several variable to indicate the number of categories there are for each strata of interest</span></span>
<span id="cb15-30"><a href="paramset.html#cb15-30" aria-hidden="true" tabindex="-1"></a><span class="do">## For ease of use, the categories for each value are presented here as well!</span></span>
<span id="cb15-31"><a href="paramset.html#cb15-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-32"><a href="paramset.html#cb15-32" aria-hidden="true" tabindex="-1"></a><span class="do">## First Dimension</span></span>
<span id="cb15-33"><a href="paramset.html#cb15-33" aria-hidden="true" tabindex="-1"></a>sex_types <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb15-34"><a href="paramset.html#cb15-34" aria-hidden="true" tabindex="-1"></a><span class="do">## 1 == Male, 2 == Female</span></span>
<span id="cb15-35"><a href="paramset.html#cb15-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-36"><a href="paramset.html#cb15-36" aria-hidden="true" tabindex="-1"></a><span class="do">## Second Dimension</span></span>
<span id="cb15-37"><a href="paramset.html#cb15-37" aria-hidden="true" tabindex="-1"></a>age_types <span class="ot">&lt;-</span> <span class="dv">6</span></span>
<span id="cb15-38"><a href="paramset.html#cb15-38" aria-hidden="true" tabindex="-1"></a><span class="do">## 1 = 18-24, 2 = 25-34, 3 = 35-44, 4 = 45-54, 5 = 55-64, 6 = 65+</span></span>
<span id="cb15-39"><a href="paramset.html#cb15-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-40"><a href="paramset.html#cb15-40" aria-hidden="true" tabindex="-1"></a><span class="do">## Third Dimension</span></span>
<span id="cb15-41"><a href="paramset.html#cb15-41" aria-hidden="true" tabindex="-1"></a>cigarette_types <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb15-42"><a href="paramset.html#cb15-42" aria-hidden="true" tabindex="-1"></a><span class="do">## 1 =  Never Cigarette Smoker, 2 = Current, 3 = Former</span></span>
<span id="cb15-43"><a href="paramset.html#cb15-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-44"><a href="paramset.html#cb15-44" aria-hidden="true" tabindex="-1"></a><span class="do">## Fourth Dimension</span></span>
<span id="cb15-45"><a href="paramset.html#cb15-45" aria-hidden="true" tabindex="-1"></a>e_cigarette_types <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb15-46"><a href="paramset.html#cb15-46" aria-hidden="true" tabindex="-1"></a><span class="do">## 1 =  Never E-Cigarette Smoker, 2 = Current, 3 = Former</span></span>
<span id="cb15-47"><a href="paramset.html#cb15-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-48"><a href="paramset.html#cb15-48" aria-hidden="true" tabindex="-1"></a><span class="do">## Fifth Dimension</span></span>
<span id="cb15-49"><a href="paramset.html#cb15-49" aria-hidden="true" tabindex="-1"></a>income_types <span class="ot">&lt;-</span> <span class="dv">13</span></span>
<span id="cb15-50"><a href="paramset.html#cb15-50" aria-hidden="true" tabindex="-1"></a><span class="do">## 1 = &lt;10k annually,   6 = &lt;10, decreased from previous</span></span>
<span id="cb15-51"><a href="paramset.html#cb15-51" aria-hidden="true" tabindex="-1"></a><span class="do">## 2 = 10-25k,          7 = 10-25k decreased from previous,     10 = 10-25k increased from previous</span></span>
<span id="cb15-52"><a href="paramset.html#cb15-52" aria-hidden="true" tabindex="-1"></a><span class="do">## 3 = 25-50k,          8 = 25-50k decreased from previous,     11 = 25-50k increased from previous</span></span>
<span id="cb15-53"><a href="paramset.html#cb15-53" aria-hidden="true" tabindex="-1"></a><span class="do">## 4 = 50-100k,         9 = 50-100k decreased from previous,    12 = increased from previous</span></span>
<span id="cb15-54"><a href="paramset.html#cb15-54" aria-hidden="true" tabindex="-1"></a><span class="do">## 5 = &gt;100k,</span></span></code></pre></div>
</div>
<div id="set-some-hyperparamets-to-customize-parameter-set" class="section level2" number="4.2">
<h2><span class="header-section-number">4.2</span> Set Some Hyperparamets to Customize Parameter Set</h2>
<p>Prior to running the code, we want to identify the number of parameter sets (i.e. how many uncertainty analyses we will run) and we want to assign the dataset a name. This way we can keep track of which parameter set we are using in later steps. This can be quite helpful when troubleshooting and developing the model – when we might only want 5 or 10 perameter sets. Whereas, for the final results, we will want to have 1,000 (give or take a zero).</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="paramset.html#cb16-1" aria-hidden="true" tabindex="-1"></a>sampling_number <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb16-2"><a href="paramset.html#cb16-2" aria-hidden="true" tabindex="-1"></a>parameter_set_number <span class="ot">&lt;-</span> <span class="st">&quot;One&quot;</span></span></code></pre></div>
</div>
<div id="loading-our-dataset-and-defining-some-variables" class="section level2" number="4.3">
<h2><span class="header-section-number">4.3</span> Loading Our Dataset and Defining Some Variables</h2>
<p>We are going to load our imputed dataset from the prior chapter. Then, our model is stratified by age, sex, cigarette use, e-cigarette use, and income, and so we want to identify the baseline (i.e. Wave 2 values for each participant). For income, we have 5 income levels but 13 compartments total, as there are compartments for whether someone recently changed income. For example, “&lt;$10k stable”, “&lt;10k decreased from previous year”, etc etc. So we will identify changes in income by looking at differences between Wave 1 and Wave 2 income level.</p>
<p>As well, it is important to highlight that our dataset is actually 15 imputed datasets. There will be some instances where we must run analyses 15 distinct times and pool the results (regression analyses) and cases were we can simply run the analysis for all 15 at once and the value will represent an average across the 15 datasets (i.e. the same as running the analysis 15 times and then pooling (via average)). As we go, the distinction will be highlighted for transparency (and to ensure a proofreader can confirm!) Further, the data is weighted to be representative of the US adult population and we will highlight where and when these weights are applied.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="paramset.html#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="do">## First we load in the dataset.</span></span>
<span id="cb17-2"><a href="paramset.html#cb17-2" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;Data/Imputed_Dataset_2021-04-08.csv&quot;</span>, <span class="at">header =</span> T)</span>
<span id="cb17-3"><a href="paramset.html#cb17-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-4"><a href="paramset.html#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="do">## For later, we are going to store the number of imputed datasets</span></span>
<span id="cb17-5"><a href="paramset.html#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="do">## This will come in handy if we ever change the number of imputed datasets we use </span></span>
<span id="cb17-6"><a href="paramset.html#cb17-6" aria-hidden="true" tabindex="-1"></a>imputations <span class="ot">&lt;-</span> <span class="fu">max</span>(data<span class="sc">$</span>.imp)</span>
<span id="cb17-7"><a href="paramset.html#cb17-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-8"><a href="paramset.html#cb17-8" aria-hidden="true" tabindex="-1"></a><span class="do">## Next we initialize the 5 strata variables in our dataset</span></span>
<span id="cb17-9"><a href="paramset.html#cb17-9" aria-hidden="true" tabindex="-1"></a><span class="do">## Note, for our analyses, we want the variables in numeric format</span></span>
<span id="cb17-10"><a href="paramset.html#cb17-10" aria-hidden="true" tabindex="-1"></a><span class="do">## Whereas, the initial dataset has them stored as factor variables (i.e. strings whose numeric values may not be appropriately ordered)</span></span>
<span id="cb17-11"><a href="paramset.html#cb17-11" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>baseline_age <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb17-12"><a href="paramset.html#cb17-12" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>baseline_sex <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb17-13"><a href="paramset.html#cb17-13" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>baseline_income <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb17-14"><a href="paramset.html#cb17-14" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>baseline_cigarette <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb17-15"><a href="paramset.html#cb17-15" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>baseline_e_cigarette <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb17-16"><a href="paramset.html#cb17-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-17"><a href="paramset.html#cb17-17" aria-hidden="true" tabindex="-1"></a><span class="do">## Next we will loop through each of the participants and </span></span>
<span id="cb17-18"><a href="paramset.html#cb17-18" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(data)){</span>
<span id="cb17-19"><a href="paramset.html#cb17-19" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb17-20"><a href="paramset.html#cb17-20" aria-hidden="true" tabindex="-1"></a>  <span class="do">## First we extract the wave 2 age</span></span>
<span id="cb17-21"><a href="paramset.html#cb17-21" aria-hidden="true" tabindex="-1"></a>  age <span class="ot">&lt;-</span> data<span class="sc">$</span>wave2_age[i]</span>
<span id="cb17-22"><a href="paramset.html#cb17-22" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb17-23"><a href="paramset.html#cb17-23" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Based on the value, we assign the appropriate numeric value</span></span>
<span id="cb17-24"><a href="paramset.html#cb17-24" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(age <span class="sc">==</span> <span class="st">&quot;18-24&quot;</span>){data<span class="sc">$</span>baseline_age[i] <span class="ot">&lt;-</span> <span class="dv">1</span>}</span>
<span id="cb17-25"><a href="paramset.html#cb17-25" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span> <span class="cf">if</span>(age <span class="sc">==</span> <span class="st">&quot;25-34&quot;</span>){data<span class="sc">$</span>baseline_age[i] <span class="ot">&lt;-</span> <span class="dv">2</span>}</span>
<span id="cb17-26"><a href="paramset.html#cb17-26" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span> <span class="cf">if</span>(age <span class="sc">==</span> <span class="st">&quot;35-44&quot;</span>){data<span class="sc">$</span>baseline_age[i] <span class="ot">&lt;-</span> <span class="dv">3</span>}</span>
<span id="cb17-27"><a href="paramset.html#cb17-27" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span> <span class="cf">if</span>(age <span class="sc">==</span> <span class="st">&quot;45-54&quot;</span>){data<span class="sc">$</span>baseline_age[i] <span class="ot">&lt;-</span> <span class="dv">4</span>}</span>
<span id="cb17-28"><a href="paramset.html#cb17-28" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span> <span class="cf">if</span>(age <span class="sc">==</span> <span class="st">&quot;55-64&quot;</span>){data<span class="sc">$</span>baseline_age[i] <span class="ot">&lt;-</span> <span class="dv">5</span>}</span>
<span id="cb17-29"><a href="paramset.html#cb17-29" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span> <span class="cf">if</span>(age <span class="sc">==</span> <span class="st">&quot;&gt;65&quot;</span>){data<span class="sc">$</span>baseline_age[i] <span class="ot">&lt;-</span> <span class="dv">6</span>}</span>
<span id="cb17-30"><a href="paramset.html#cb17-30" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb17-31"><a href="paramset.html#cb17-31" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Next, we extract sex</span></span>
<span id="cb17-32"><a href="paramset.html#cb17-32" aria-hidden="true" tabindex="-1"></a>  sex <span class="ot">&lt;-</span> data<span class="sc">$</span>gender[i]</span>
<span id="cb17-33"><a href="paramset.html#cb17-33" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb17-34"><a href="paramset.html#cb17-34" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Based on the value, we assign the appropriate value</span></span>
<span id="cb17-35"><a href="paramset.html#cb17-35" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(sex <span class="sc">==</span> <span class="st">&quot;Male&quot;</span>){data<span class="sc">$</span>baseline_sex[i] <span class="ot">&lt;-</span> <span class="dv">1</span>}</span>
<span id="cb17-36"><a href="paramset.html#cb17-36" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span> <span class="cf">if</span>(sex <span class="sc">==</span> <span class="st">&quot;Female&quot;</span>){data<span class="sc">$</span>baseline_sex[i] <span class="ot">&lt;-</span> <span class="dv">2</span>}</span>
<span id="cb17-37"><a href="paramset.html#cb17-37" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb17-38"><a href="paramset.html#cb17-38" aria-hidden="true" tabindex="-1"></a>  <span class="do">##</span></span>
<span id="cb17-39"><a href="paramset.html#cb17-39" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Next, we will do cigarette smoking status</span></span>
<span id="cb17-40"><a href="paramset.html#cb17-40" aria-hidden="true" tabindex="-1"></a>  <span class="do">## In the initial PATH dataset, they had a measure for current use and a measure for former use</span></span>
<span id="cb17-41"><a href="paramset.html#cb17-41" aria-hidden="true" tabindex="-1"></a>  <span class="do">## However, we want a 3 category (never, current, former) variable</span></span>
<span id="cb17-42"><a href="paramset.html#cb17-42" aria-hidden="true" tabindex="-1"></a>  <span class="do">##</span></span>
<span id="cb17-43"><a href="paramset.html#cb17-43" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb17-44"><a href="paramset.html#cb17-44" aria-hidden="true" tabindex="-1"></a>  <span class="do">## First we extract the current and former status variable</span></span>
<span id="cb17-45"><a href="paramset.html#cb17-45" aria-hidden="true" tabindex="-1"></a>  cigarette_current <span class="ot">&lt;-</span> data<span class="sc">$</span>wave2_smoker[i]</span>
<span id="cb17-46"><a href="paramset.html#cb17-46" aria-hidden="true" tabindex="-1"></a>  cigarette_former <span class="ot">&lt;-</span> data<span class="sc">$</span>wave2_former_smoker[i]</span>
<span id="cb17-47"><a href="paramset.html#cb17-47" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb17-48"><a href="paramset.html#cb17-48" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Then we define three booleans (true/false), such that two are false and one is true</span></span>
<span id="cb17-49"><a href="paramset.html#cb17-49" aria-hidden="true" tabindex="-1"></a>  <span class="do">## The true one then corresponds to the value we want to assign</span></span>
<span id="cb17-50"><a href="paramset.html#cb17-50" aria-hidden="true" tabindex="-1"></a>  never_smoker <span class="ot">&lt;-</span> cigarette_current <span class="sc">==</span> <span class="st">&quot;No&quot;</span> <span class="sc">&amp;&amp;</span> cigarette_former <span class="sc">==</span> <span class="st">&quot;No&quot;</span> <span class="do">## If neither a current nor former smoker, then assign never</span></span>
<span id="cb17-51"><a href="paramset.html#cb17-51" aria-hidden="true" tabindex="-1"></a>  current_smoker <span class="ot">&lt;-</span> cigarette_current <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span>  <span class="do">## If a current smoker, then assign current</span></span>
<span id="cb17-52"><a href="paramset.html#cb17-52" aria-hidden="true" tabindex="-1"></a>  former_smoker <span class="ot">&lt;-</span> cigarette_current <span class="sc">==</span> <span class="st">&quot;No&quot;</span> <span class="sc">&amp;&amp;</span> cigarette_former <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span> <span class="do">## if not current, but are a former smoker, then assign former</span></span>
<span id="cb17-53"><a href="paramset.html#cb17-53" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb17-54"><a href="paramset.html#cb17-54" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Assign the appropriate value</span></span>
<span id="cb17-55"><a href="paramset.html#cb17-55" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(never_smoker){data<span class="sc">$</span>baseline_cigarette[i] <span class="ot">&lt;-</span> <span class="dv">1</span>}</span>
<span id="cb17-56"><a href="paramset.html#cb17-56" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(current_smoker){data<span class="sc">$</span>baseline_cigarette[i] <span class="ot">&lt;-</span> <span class="dv">2</span>}</span>
<span id="cb17-57"><a href="paramset.html#cb17-57" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(former_smoker){data<span class="sc">$</span>baseline_cigarette[i] <span class="ot">&lt;-</span> <span class="dv">3</span>}</span>
<span id="cb17-58"><a href="paramset.html#cb17-58" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb17-59"><a href="paramset.html#cb17-59" aria-hidden="true" tabindex="-1"></a>  <span class="do">## We will assign our e-cigarette use status variable by the same logic</span></span>
<span id="cb17-60"><a href="paramset.html#cb17-60" aria-hidden="true" tabindex="-1"></a>  <span class="do">## First, extract current and former use</span></span>
<span id="cb17-61"><a href="paramset.html#cb17-61" aria-hidden="true" tabindex="-1"></a>  ecig_current <span class="ot">&lt;-</span> data<span class="sc">$</span>wave2_e_smoker[i]</span>
<span id="cb17-62"><a href="paramset.html#cb17-62" aria-hidden="true" tabindex="-1"></a>  ecig_former <span class="ot">&lt;-</span> data<span class="sc">$</span>wave2_former_e_smoker[i]</span>
<span id="cb17-63"><a href="paramset.html#cb17-63" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb17-64"><a href="paramset.html#cb17-64" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Generate three booleans to identify the correct level</span></span>
<span id="cb17-65"><a href="paramset.html#cb17-65" aria-hidden="true" tabindex="-1"></a>  never_smoker <span class="ot">&lt;-</span> ecig_current <span class="sc">==</span> <span class="st">&quot;No&quot;</span> <span class="sc">&amp;&amp;</span> ecig_former <span class="sc">==</span> <span class="st">&quot;No&quot;</span></span>
<span id="cb17-66"><a href="paramset.html#cb17-66" aria-hidden="true" tabindex="-1"></a>  current_smoker <span class="ot">&lt;-</span> ecig_current <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span> </span>
<span id="cb17-67"><a href="paramset.html#cb17-67" aria-hidden="true" tabindex="-1"></a>  former_smoker <span class="ot">&lt;-</span> ecig_current <span class="sc">==</span> <span class="st">&quot;No&quot;</span> <span class="sc">&amp;&amp;</span> ecig_former <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span></span>
<span id="cb17-68"><a href="paramset.html#cb17-68" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb17-69"><a href="paramset.html#cb17-69" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Assign value</span></span>
<span id="cb17-70"><a href="paramset.html#cb17-70" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(never_smoker){data<span class="sc">$</span>baseline_e_cigarette[i] <span class="ot">&lt;-</span> <span class="dv">1</span>}</span>
<span id="cb17-71"><a href="paramset.html#cb17-71" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(current_smoker){data<span class="sc">$</span>baseline_e_cigarette[i] <span class="ot">&lt;-</span> <span class="dv">2</span>}</span>
<span id="cb17-72"><a href="paramset.html#cb17-72" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(former_smoker){data<span class="sc">$</span>baseline_e_cigarette[i] <span class="ot">&lt;-</span> <span class="dv">3</span>}</span>
<span id="cb17-73"><a href="paramset.html#cb17-73" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb17-74"><a href="paramset.html#cb17-74" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb17-75"><a href="paramset.html#cb17-75" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Next we will do income</span></span>
<span id="cb17-76"><a href="paramset.html#cb17-76" aria-hidden="true" tabindex="-1"></a>  <span class="do">## We need to determine both the wave2 income level</span></span>
<span id="cb17-77"><a href="paramset.html#cb17-77" aria-hidden="true" tabindex="-1"></a>  <span class="do">## and if (and which direction) income changed from wave1 to wave2</span></span>
<span id="cb17-78"><a href="paramset.html#cb17-78" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Below are the 13 different compartments:</span></span>
<span id="cb17-79"><a href="paramset.html#cb17-79" aria-hidden="true" tabindex="-1"></a>  <span class="do">## 1 = &lt;10k annually,   6 = &lt;10, decreased from previous</span></span>
<span id="cb17-80"><a href="paramset.html#cb17-80" aria-hidden="true" tabindex="-1"></a>  <span class="do">## 2 = 10-25k,          7 = 10-25k decreased from previous,     10 = 10-25k increased from previous</span></span>
<span id="cb17-81"><a href="paramset.html#cb17-81" aria-hidden="true" tabindex="-1"></a>  <span class="do">## 3 = 25-50k,          8 = 25-50k decreased from previous,     11 = 25-50k increased from previous</span></span>
<span id="cb17-82"><a href="paramset.html#cb17-82" aria-hidden="true" tabindex="-1"></a>  <span class="do">## 4 = 50-100k,         9 = 50-100k decreased from previous,    12 = 50-100k increased from previous</span></span>
<span id="cb17-83"><a href="paramset.html#cb17-83" aria-hidden="true" tabindex="-1"></a>  <span class="do">## 5 = &gt;100k,                                                   13 = &gt;100k increased from previous        </span></span>
<span id="cb17-84"><a href="paramset.html#cb17-84" aria-hidden="true" tabindex="-1"></a>  wave1_income <span class="ot">&lt;-</span> data<span class="sc">$</span>wave1_income[i]</span>
<span id="cb17-85"><a href="paramset.html#cb17-85" aria-hidden="true" tabindex="-1"></a>  wave2_income <span class="ot">&lt;-</span> data<span class="sc">$</span>wave2_income[i]</span>
<span id="cb17-86"><a href="paramset.html#cb17-86" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb17-87"><a href="paramset.html#cb17-87" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Go through each set of possibilities</span></span>
<span id="cb17-88"><a href="paramset.html#cb17-88" aria-hidden="true" tabindex="-1"></a>  <span class="do">## First if the wave2 income is &lt;$10k</span></span>
<span id="cb17-89"><a href="paramset.html#cb17-89" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(wave2_income <span class="sc">==</span> <span class="st">&quot;&lt;$10k&quot;</span>){</span>
<span id="cb17-90"><a href="paramset.html#cb17-90" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb17-91"><a href="paramset.html#cb17-91" aria-hidden="true" tabindex="-1"></a>    <span class="do">## Either the income stayed the same (i.e. stable)</span></span>
<span id="cb17-92"><a href="paramset.html#cb17-92" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(wave1_income <span class="sc">==</span> <span class="st">&quot;&lt;$10k&quot;</span>){</span>
<span id="cb17-93"><a href="paramset.html#cb17-93" aria-hidden="true" tabindex="-1"></a>      data<span class="sc">$</span>baseline_income[i] <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="do">## $10k, stable </span></span>
<span id="cb17-94"><a href="paramset.html#cb17-94" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb17-95"><a href="paramset.html#cb17-95" aria-hidden="true" tabindex="-1"></a>    <span class="do">## Or it went down from prior (because this is the lowest income group)   </span></span>
<span id="cb17-96"><a href="paramset.html#cb17-96" aria-hidden="true" tabindex="-1"></a>    }<span class="cf">else</span> <span class="cf">if</span>(wave1_income <span class="sc">!=</span> <span class="st">&quot;&lt;$10k&quot;</span>){</span>
<span id="cb17-97"><a href="paramset.html#cb17-97" aria-hidden="true" tabindex="-1"></a>      data<span class="sc">$</span>baseline_income[i] <span class="ot">&lt;-</span> <span class="dv">6</span> <span class="do">## decreased to $10k</span></span>
<span id="cb17-98"><a href="paramset.html#cb17-98" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb17-99"><a href="paramset.html#cb17-99" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb17-100"><a href="paramset.html#cb17-100" aria-hidden="true" tabindex="-1"></a>  <span class="do">## For each of the 5 income levels, we follow the same logic and assign the appropriate income level value     </span></span>
<span id="cb17-101"><a href="paramset.html#cb17-101" aria-hidden="true" tabindex="-1"></a>  }<span class="cf">else</span> <span class="cf">if</span>(wave2_income <span class="sc">==</span> <span class="st">&quot;$10-25k&quot;</span>){</span>
<span id="cb17-102"><a href="paramset.html#cb17-102" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb17-103"><a href="paramset.html#cb17-103" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(wave1_income <span class="sc">==</span> <span class="st">&quot;$10-25k&quot;</span>){</span>
<span id="cb17-104"><a href="paramset.html#cb17-104" aria-hidden="true" tabindex="-1"></a>      data<span class="sc">$</span>baseline_income[i] <span class="ot">&lt;-</span> <span class="dv">2</span> <span class="do">## $10-25k, stable </span></span>
<span id="cb17-105"><a href="paramset.html#cb17-105" aria-hidden="true" tabindex="-1"></a>    }<span class="cf">else</span> <span class="cf">if</span>(wave1_income <span class="sc">==</span> <span class="st">&quot;&lt;$10k&quot;</span>){</span>
<span id="cb17-106"><a href="paramset.html#cb17-106" aria-hidden="true" tabindex="-1"></a>      data<span class="sc">$</span>baseline_income[i] <span class="ot">&lt;-</span> <span class="dv">10</span> <span class="do">## increased to 10-25</span></span>
<span id="cb17-107"><a href="paramset.html#cb17-107" aria-hidden="true" tabindex="-1"></a>    }<span class="cf">else</span> <span class="cf">if</span>(wave1_income <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;$25-50k&quot;</span>,<span class="st">&quot;$50k-100k&quot;</span>,<span class="st">&quot;&gt;=$100k&quot;</span>)){</span>
<span id="cb17-108"><a href="paramset.html#cb17-108" aria-hidden="true" tabindex="-1"></a>      data<span class="sc">$</span>baseline_income[i] <span class="ot">&lt;-</span> <span class="dv">7</span> <span class="do">## decreased to 10-25</span></span>
<span id="cb17-109"><a href="paramset.html#cb17-109" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb17-110"><a href="paramset.html#cb17-110" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb17-111"><a href="paramset.html#cb17-111" aria-hidden="true" tabindex="-1"></a>  }<span class="cf">else</span> <span class="cf">if</span>(wave2_income <span class="sc">==</span> <span class="st">&quot;$25-50k&quot;</span>){</span>
<span id="cb17-112"><a href="paramset.html#cb17-112" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb17-113"><a href="paramset.html#cb17-113" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(wave1_income <span class="sc">==</span> <span class="st">&quot;$25-50k&quot;</span>){</span>
<span id="cb17-114"><a href="paramset.html#cb17-114" aria-hidden="true" tabindex="-1"></a>      data<span class="sc">$</span>baseline_income[i] <span class="ot">&lt;-</span> <span class="dv">3</span> <span class="do">## $25-50k, stable </span></span>
<span id="cb17-115"><a href="paramset.html#cb17-115" aria-hidden="true" tabindex="-1"></a>    }<span class="cf">else</span> <span class="cf">if</span>(wave1_income <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;&lt;$10k&quot;</span>, <span class="st">&quot;$10-25k&quot;</span>)){</span>
<span id="cb17-116"><a href="paramset.html#cb17-116" aria-hidden="true" tabindex="-1"></a>      data<span class="sc">$</span>baseline_income[i] <span class="ot">&lt;-</span> <span class="dv">11</span> <span class="do">## increased to 25-50k</span></span>
<span id="cb17-117"><a href="paramset.html#cb17-117" aria-hidden="true" tabindex="-1"></a>    }<span class="cf">else</span> <span class="cf">if</span>(wave1_income <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;$50k-100k&quot;</span>,<span class="st">&quot;&gt;=$100k&quot;</span>)){</span>
<span id="cb17-118"><a href="paramset.html#cb17-118" aria-hidden="true" tabindex="-1"></a>      data<span class="sc">$</span>baseline_income[i] <span class="ot">&lt;-</span> <span class="dv">8</span> <span class="do">## decreased to 25-50k</span></span>
<span id="cb17-119"><a href="paramset.html#cb17-119" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb17-120"><a href="paramset.html#cb17-120" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb17-121"><a href="paramset.html#cb17-121" aria-hidden="true" tabindex="-1"></a>  }<span class="cf">else</span> <span class="cf">if</span>(wave2_income <span class="sc">==</span> <span class="st">&quot;$50k-100k&quot;</span>){</span>
<span id="cb17-122"><a href="paramset.html#cb17-122" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb17-123"><a href="paramset.html#cb17-123" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(wave1_income <span class="sc">==</span> <span class="st">&quot;$50k-100k&quot;</span>){</span>
<span id="cb17-124"><a href="paramset.html#cb17-124" aria-hidden="true" tabindex="-1"></a>      data<span class="sc">$</span>baseline_income[i] <span class="ot">&lt;-</span> <span class="dv">4</span> <span class="do">## $50-100k, stable </span></span>
<span id="cb17-125"><a href="paramset.html#cb17-125" aria-hidden="true" tabindex="-1"></a>    }<span class="cf">else</span> <span class="cf">if</span>(wave1_income <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;&lt;$10k&quot;</span>, <span class="st">&quot;$10-25k&quot;</span>,<span class="st">&quot;$25-50k&quot;</span>)){</span>
<span id="cb17-126"><a href="paramset.html#cb17-126" aria-hidden="true" tabindex="-1"></a>      data<span class="sc">$</span>baseline_income[i] <span class="ot">&lt;-</span> <span class="dv">12</span> <span class="do">## increased to 50-100k</span></span>
<span id="cb17-127"><a href="paramset.html#cb17-127" aria-hidden="true" tabindex="-1"></a>    }<span class="cf">else</span> <span class="cf">if</span>(wave1_income <span class="sc">==</span> <span class="st">&quot;&gt;=$100k&quot;</span>){</span>
<span id="cb17-128"><a href="paramset.html#cb17-128" aria-hidden="true" tabindex="-1"></a>      data<span class="sc">$</span>baseline_income[i] <span class="ot">&lt;-</span> <span class="dv">9</span> <span class="do">## decreased to 50-100k</span></span>
<span id="cb17-129"><a href="paramset.html#cb17-129" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb17-130"><a href="paramset.html#cb17-130" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb17-131"><a href="paramset.html#cb17-131" aria-hidden="true" tabindex="-1"></a>  }<span class="cf">else</span> <span class="cf">if</span>(wave2_income <span class="sc">==</span> <span class="st">&quot;&gt;=$100k&quot;</span>){</span>
<span id="cb17-132"><a href="paramset.html#cb17-132" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb17-133"><a href="paramset.html#cb17-133" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(wave1_income <span class="sc">==</span> <span class="st">&quot;&gt;=$100k&quot;</span>){</span>
<span id="cb17-134"><a href="paramset.html#cb17-134" aria-hidden="true" tabindex="-1"></a>      data<span class="sc">$</span>baseline_income[i] <span class="ot">&lt;-</span> <span class="dv">5</span> <span class="do">## $100k, stable </span></span>
<span id="cb17-135"><a href="paramset.html#cb17-135" aria-hidden="true" tabindex="-1"></a>    }<span class="cf">else</span> <span class="cf">if</span>(wave1_income <span class="sc">!=</span> <span class="st">&quot;&gt;=$100k&quot;</span>){</span>
<span id="cb17-136"><a href="paramset.html#cb17-136" aria-hidden="true" tabindex="-1"></a>      data<span class="sc">$</span>baseline_income[i] <span class="ot">&lt;-</span> <span class="dv">13</span> <span class="do">## increased to $100k</span></span>
<span id="cb17-137"><a href="paramset.html#cb17-137" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb17-138"><a href="paramset.html#cb17-138" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb17-139"><a href="paramset.html#cb17-139" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="defining-absolute-age-specific-income-transition-totals" class="section level2" number="4.4">
<h2><span class="header-section-number">4.4</span> Defining Absolute Age-Specific Income Transition Totals</h2>
<p>Next we need to calculate how many people transition between income levels and we need to do it by age group. This is because income transitions appear to be more inelastic as people get older (i.e. income level less likely to fluctuate extremes as people age). Essentially, for each age we want to know how many people at Income Level X at Wave 2 transition to Income Level Y at Wave 3. Note that we are only calculating income transitions for the 5 income levels - we are not calculating transitions between the 13 income compartments. The ODE solver will handle identifying if people are in an income stable or income transitionary compartment.</p>
<p>We will call the object we are storing the transition totals in “alpha_income_transitions”, because they will be applied later (when we generate our sample) to sample the transition probability from a Dirichlet distribution (alpha parameters).</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="paramset.html#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Generate an array (allocate memory) which stores how many  people transition from Level X at wave 2 to level Y at wave 3</span></span>
<span id="cb18-2"><a href="paramset.html#cb18-2" aria-hidden="true" tabindex="-1"></a>alpha_income_transitions <span class="ot">&lt;-</span> <span class="fu">toArray</span>(<span class="fu">rep</span>(<span class="dv">0</span>,<span class="dv">150</span>),<span class="at">dim =</span> <span class="fu">c</span>(age_types, <span class="dv">5</span>, <span class="dv">5</span>))</span>
<span id="cb18-3"><a href="paramset.html#cb18-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-4"><a href="paramset.html#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="do">## Loop through each participant</span></span>
<span id="cb18-5"><a href="paramset.html#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(data)){</span>
<span id="cb18-6"><a href="paramset.html#cb18-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb18-7"><a href="paramset.html#cb18-7" aria-hidden="true" tabindex="-1"></a>  <span class="do">## extract age and wave 2 and 3 income level</span></span>
<span id="cb18-8"><a href="paramset.html#cb18-8" aria-hidden="true" tabindex="-1"></a>  age <span class="ot">&lt;-</span> data<span class="sc">$</span>baseline_age[i]</span>
<span id="cb18-9"><a href="paramset.html#cb18-9" aria-hidden="true" tabindex="-1"></a>  wave2_income <span class="ot">&lt;-</span> data<span class="sc">$</span>wave2_income[i]</span>
<span id="cb18-10"><a href="paramset.html#cb18-10" aria-hidden="true" tabindex="-1"></a>  wave3_income <span class="ot">&lt;-</span> data<span class="sc">$</span>wave3_income[i]</span>
<span id="cb18-11"><a href="paramset.html#cb18-11" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb18-12"><a href="paramset.html#cb18-12" aria-hidden="true" tabindex="-1"></a>  <span class="do">## assign the appropriate numeric value for income level</span></span>
<span id="cb18-13"><a href="paramset.html#cb18-13" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(wave2_income <span class="sc">==</span> <span class="st">&quot;&lt;$10k&quot;</span>){</span>
<span id="cb18-14"><a href="paramset.html#cb18-14" aria-hidden="true" tabindex="-1"></a>    wave2_income <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb18-15"><a href="paramset.html#cb18-15" aria-hidden="true" tabindex="-1"></a>  }<span class="cf">else</span> <span class="cf">if</span>(wave2_income <span class="sc">==</span> <span class="st">&quot;$10-25k&quot;</span>){</span>
<span id="cb18-16"><a href="paramset.html#cb18-16" aria-hidden="true" tabindex="-1"></a>    wave2_income <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb18-17"><a href="paramset.html#cb18-17" aria-hidden="true" tabindex="-1"></a>  }<span class="cf">else</span> <span class="cf">if</span>(wave2_income <span class="sc">==</span> <span class="st">&quot;$25-50k&quot;</span>){</span>
<span id="cb18-18"><a href="paramset.html#cb18-18" aria-hidden="true" tabindex="-1"></a>    wave2_income <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb18-19"><a href="paramset.html#cb18-19" aria-hidden="true" tabindex="-1"></a>  }<span class="cf">else</span> <span class="cf">if</span>(wave2_income <span class="sc">==</span> <span class="st">&quot;$50k-100k&quot;</span>){</span>
<span id="cb18-20"><a href="paramset.html#cb18-20" aria-hidden="true" tabindex="-1"></a>    wave2_income <span class="ot">&lt;-</span> <span class="dv">4</span></span>
<span id="cb18-21"><a href="paramset.html#cb18-21" aria-hidden="true" tabindex="-1"></a>  }<span class="cf">else</span> <span class="cf">if</span>(wave2_income <span class="sc">==</span> <span class="st">&quot;&gt;=$100k&quot;</span>){</span>
<span id="cb18-22"><a href="paramset.html#cb18-22" aria-hidden="true" tabindex="-1"></a>    wave2_income <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb18-23"><a href="paramset.html#cb18-23" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb18-24"><a href="paramset.html#cb18-24" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb18-25"><a href="paramset.html#cb18-25" aria-hidden="true" tabindex="-1"></a>  <span class="do">## assign the appropriate numeric value for income level</span></span>
<span id="cb18-26"><a href="paramset.html#cb18-26" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(wave3_income <span class="sc">==</span> <span class="st">&quot;&lt;$10k&quot;</span>){</span>
<span id="cb18-27"><a href="paramset.html#cb18-27" aria-hidden="true" tabindex="-1"></a>    wave3_income <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb18-28"><a href="paramset.html#cb18-28" aria-hidden="true" tabindex="-1"></a>  }<span class="cf">else</span> <span class="cf">if</span>(wave3_income <span class="sc">==</span> <span class="st">&quot;$10-25k&quot;</span>){</span>
<span id="cb18-29"><a href="paramset.html#cb18-29" aria-hidden="true" tabindex="-1"></a>    wave3_income <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb18-30"><a href="paramset.html#cb18-30" aria-hidden="true" tabindex="-1"></a>  }<span class="cf">else</span> <span class="cf">if</span>(wave3_income <span class="sc">==</span> <span class="st">&quot;$25-50k&quot;</span>){</span>
<span id="cb18-31"><a href="paramset.html#cb18-31" aria-hidden="true" tabindex="-1"></a>    wave3_income <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb18-32"><a href="paramset.html#cb18-32" aria-hidden="true" tabindex="-1"></a>  }<span class="cf">else</span> <span class="cf">if</span>(wave3_income <span class="sc">==</span> <span class="st">&quot;$50k-100k&quot;</span>){</span>
<span id="cb18-33"><a href="paramset.html#cb18-33" aria-hidden="true" tabindex="-1"></a>    wave3_income <span class="ot">&lt;-</span> <span class="dv">4</span></span>
<span id="cb18-34"><a href="paramset.html#cb18-34" aria-hidden="true" tabindex="-1"></a>  }<span class="cf">else</span> <span class="cf">if</span>(wave3_income <span class="sc">==</span> <span class="st">&quot;&gt;=$100k&quot;</span>){</span>
<span id="cb18-35"><a href="paramset.html#cb18-35" aria-hidden="true" tabindex="-1"></a>    wave3_income <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb18-36"><a href="paramset.html#cb18-36" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb18-37"><a href="paramset.html#cb18-37" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb18-38"><a href="paramset.html#cb18-38" aria-hidden="true" tabindex="-1"></a>  <span class="do">## We add the number of people to the appropriate cell for how many people transition from level X at wave 2 to level Y at aim 3</span></span>
<span id="cb18-39"><a href="paramset.html#cb18-39" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Note that each person doesn&#39;t represent 1 person, but instead is weighted to represent a set of people</span></span>
<span id="cb18-40"><a href="paramset.html#cb18-40" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Thus, instead of adding 1 to the cell, we are going to add the weighted value (R03_A_AWGT)</span></span>
<span id="cb18-41"><a href="paramset.html#cb18-41" aria-hidden="true" tabindex="-1"></a>  alpha_income_transitions[age,wave2_income,wave3_income] <span class="ot">&lt;-</span> alpha_income_transitions[age,wave2_income,wave3_income] <span class="sc">+</span> data<span class="sc">$</span>R03_A_AWGT[i]</span>
<span id="cb18-42"><a href="paramset.html#cb18-42" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb18-43"><a href="paramset.html#cb18-43" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb18-44"><a href="paramset.html#cb18-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-45"><a href="paramset.html#cb18-45" aria-hidden="true" tabindex="-1"></a><span class="do">## We then want the average transition rates. Remember, we just added all the imputed datasets</span></span>
<span id="cb18-46"><a href="paramset.html#cb18-46" aria-hidden="true" tabindex="-1"></a><span class="do">## But the more observations in this array, the more power and the smaller our sampling distribution will be</span></span>
<span id="cb18-47"><a href="paramset.html#cb18-47" aria-hidden="true" tabindex="-1"></a><span class="do">## THus, to get our average across all the imputations, we simply divide the values by the number of imputations</span></span>
<span id="cb18-48"><a href="paramset.html#cb18-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-49"><a href="paramset.html#cb18-49" aria-hidden="true" tabindex="-1"></a>alpha_income_transitions <span class="ot">&lt;-</span> alpha_income_transitions<span class="sc">/</span>imputations</span></code></pre></div>
</div>
<div id="defining-cigarette-use-transitions" class="section level2" number="4.5">
<h2><span class="header-section-number">4.5</span> Defining Cigarette Use Transitions</h2>
<p>Next, we will calculate the cigarette use transition totals (from wave 2 to wave 3). We will do this only for a “referent class” because we are going to modify these transitions in the ODE by age, sex, income level, and alternate tobacco product use. These modifications will be applied via relative risks extracted from models later in this chapter. These models will use the referent class defined here: Men, aged 18-24, making &lt;$10k. Similar to with income transitions, we store the transition totals to later sample probabilities from a Dirichlet distribution.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="paramset.html#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="do">## First we extract our referent data</span></span>
<span id="cb19-2"><a href="paramset.html#cb19-2" aria-hidden="true" tabindex="-1"></a>referent_data <span class="ot">&lt;-</span> data[data<span class="sc">$</span>baseline_age <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span> data<span class="sc">$</span>wave2_income <span class="sc">==</span> <span class="st">&quot;&lt;$10k&quot;</span> <span class="sc">&amp;</span> data<span class="sc">$</span>baseline_sex <span class="sc">==</span> <span class="dv">1</span>,]</span>
<span id="cb19-3"><a href="paramset.html#cb19-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-4"><a href="paramset.html#cb19-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-5"><a href="paramset.html#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="do">## Next we allocate memory to store how many people (weighted) transition from cigarette use level X at wave 2 to level Y at wave 3</span></span>
<span id="cb19-6"><a href="paramset.html#cb19-6" aria-hidden="true" tabindex="-1"></a>alpha_cigarette_transitions <span class="ot">&lt;-</span> <span class="fu">toArray</span>(<span class="fu">rep</span>(<span class="dv">0</span>,cigarette_types<span class="sc">*</span>cigarette_types), <span class="at">dim =</span> <span class="fu">c</span>(cigarette_types, cigarette_types))</span>
<span id="cb19-7"><a href="paramset.html#cb19-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-8"><a href="paramset.html#cb19-8" aria-hidden="true" tabindex="-1"></a><span class="do">## we go through each observation</span></span>
<span id="cb19-9"><a href="paramset.html#cb19-9" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(referent_data)){</span>
<span id="cb19-10"><a href="paramset.html#cb19-10" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb19-11"><a href="paramset.html#cb19-11" aria-hidden="true" tabindex="-1"></a>  <span class="do">## First we extract the baseline cigarette use (wave 2)</span></span>
<span id="cb19-12"><a href="paramset.html#cb19-12" aria-hidden="true" tabindex="-1"></a>  wave2_cigarette <span class="ot">&lt;-</span> referent_data<span class="sc">$</span>baseline_cigarette[i]</span>
<span id="cb19-13"><a href="paramset.html#cb19-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb19-14"><a href="paramset.html#cb19-14" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Next we allocate memory for the wave 3 status (which we need to compute)</span></span>
<span id="cb19-15"><a href="paramset.html#cb19-15" aria-hidden="true" tabindex="-1"></a>  wave3_cigarette <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb19-16"><a href="paramset.html#cb19-16" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb19-17"><a href="paramset.html#cb19-17" aria-hidden="true" tabindex="-1"></a>  <span class="do">## we extract the current and former status</span></span>
<span id="cb19-18"><a href="paramset.html#cb19-18" aria-hidden="true" tabindex="-1"></a>  cigarette_current <span class="ot">&lt;-</span> referent_data<span class="sc">$</span>wave3_smoker[i]</span>
<span id="cb19-19"><a href="paramset.html#cb19-19" aria-hidden="true" tabindex="-1"></a>  cigarette_former <span class="ot">&lt;-</span> referent_data<span class="sc">$</span>wave3_former_smoker[i]</span>
<span id="cb19-20"><a href="paramset.html#cb19-20" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb19-21"><a href="paramset.html#cb19-21" aria-hidden="true" tabindex="-1"></a>  <span class="do">## and then, as before, we generate three booleans to figure out which cigarette level they are at</span></span>
<span id="cb19-22"><a href="paramset.html#cb19-22" aria-hidden="true" tabindex="-1"></a>  never_smoker <span class="ot">&lt;-</span> cigarette_current <span class="sc">==</span> <span class="st">&quot;No&quot;</span> <span class="sc">&amp;&amp;</span> cigarette_former <span class="sc">==</span> <span class="st">&quot;No&quot;</span></span>
<span id="cb19-23"><a href="paramset.html#cb19-23" aria-hidden="true" tabindex="-1"></a>  current_smoker <span class="ot">&lt;-</span> cigarette_current <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span> </span>
<span id="cb19-24"><a href="paramset.html#cb19-24" aria-hidden="true" tabindex="-1"></a>  former_smoker <span class="ot">&lt;-</span> cigarette_current <span class="sc">==</span> <span class="st">&quot;No&quot;</span> <span class="sc">&amp;&amp;</span> cigarette_former <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span></span>
<span id="cb19-25"><a href="paramset.html#cb19-25" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb19-26"><a href="paramset.html#cb19-26" aria-hidden="true" tabindex="-1"></a>  <span class="do">## then we assign the appropriate value</span></span>
<span id="cb19-27"><a href="paramset.html#cb19-27" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(never_smoker){wave3_cigarette <span class="ot">&lt;-</span> <span class="dv">1</span>}</span>
<span id="cb19-28"><a href="paramset.html#cb19-28" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(current_smoker){wave3_cigarette <span class="ot">&lt;-</span> <span class="dv">2</span>}</span>
<span id="cb19-29"><a href="paramset.html#cb19-29" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(former_smoker){wave3_cigarette <span class="ot">&lt;-</span> <span class="dv">3</span>}</span>
<span id="cb19-30"><a href="paramset.html#cb19-30" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb19-31"><a href="paramset.html#cb19-31" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Add the correct number of weighted people for the given transition</span></span>
<span id="cb19-32"><a href="paramset.html#cb19-32" aria-hidden="true" tabindex="-1"></a>  alpha_cigarette_transitions[wave2_cigarette, wave3_cigarette] <span class="ot">&lt;-</span> alpha_cigarette_transitions[wave2_cigarette, wave3_cigarette] <span class="sc">+</span> referent_data<span class="sc">$</span>R03_A_AWGT[i]</span>
<span id="cb19-33"><a href="paramset.html#cb19-33" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb19-34"><a href="paramset.html#cb19-34" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb19-35"><a href="paramset.html#cb19-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-36"><a href="paramset.html#cb19-36" aria-hidden="true" tabindex="-1"></a><span class="do">## Finally need to take the average number of transitions across all the imputations</span></span>
<span id="cb19-37"><a href="paramset.html#cb19-37" aria-hidden="true" tabindex="-1"></a>alpha_cigarette_transitions <span class="ot">&lt;-</span> alpha_cigarette_transitions<span class="sc">/</span>imputations</span></code></pre></div>
</div>
<div id="defining-e-cigarette-transitions" class="section level2" number="4.6">
<h2><span class="header-section-number">4.6</span> Defining E-Cigarette Transitions</h2>
<p>We are going to do the same thing for e-cigarette transitions with the referent group data. We are similarly going to modify these rates with relative risks extracted from regression models based on other factors.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="paramset.html#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Allocate memory to store how many people (weighted) make given transitions</span></span>
<span id="cb20-2"><a href="paramset.html#cb20-2" aria-hidden="true" tabindex="-1"></a>alpha_e_cigarette_transitions <span class="ot">&lt;-</span> <span class="fu">toArray</span>(<span class="fu">rep</span>(<span class="dv">0</span>,e_cigarette_types<span class="sc">*</span>e_cigarette_types), <span class="at">dim =</span> <span class="fu">c</span>(e_cigarette_types, e_cigarette_types))</span>
<span id="cb20-3"><a href="paramset.html#cb20-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-4"><a href="paramset.html#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="do">## Loop through each participant in the referent data</span></span>
<span id="cb20-5"><a href="paramset.html#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(referent_data)){</span>
<span id="cb20-6"><a href="paramset.html#cb20-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-7"><a href="paramset.html#cb20-7" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Get wave 2 e-cig status</span></span>
<span id="cb20-8"><a href="paramset.html#cb20-8" aria-hidden="true" tabindex="-1"></a>  wave2_e_cigarette <span class="ot">&lt;-</span> referent_data<span class="sc">$</span>baseline_e_cigarette[i]</span>
<span id="cb20-9"><a href="paramset.html#cb20-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-10"><a href="paramset.html#cb20-10" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Allocate memory for wave 3 value</span></span>
<span id="cb20-11"><a href="paramset.html#cb20-11" aria-hidden="true" tabindex="-1"></a>  wave3_e_cigarette <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb20-12"><a href="paramset.html#cb20-12" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-13"><a href="paramset.html#cb20-13" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Get the wave 3 current and former use status</span></span>
<span id="cb20-14"><a href="paramset.html#cb20-14" aria-hidden="true" tabindex="-1"></a>  e_cigarette_current <span class="ot">&lt;-</span> referent_data<span class="sc">$</span>wave3_e_smoker[i]</span>
<span id="cb20-15"><a href="paramset.html#cb20-15" aria-hidden="true" tabindex="-1"></a>  e_cigarette_former <span class="ot">&lt;-</span> referent_data<span class="sc">$</span>wave3_former_e_smoker[i]</span>
<span id="cb20-16"><a href="paramset.html#cb20-16" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-17"><a href="paramset.html#cb20-17" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Generate the 3 boolean values</span></span>
<span id="cb20-18"><a href="paramset.html#cb20-18" aria-hidden="true" tabindex="-1"></a>  never_smoker <span class="ot">&lt;-</span> e_cigarette_current <span class="sc">==</span> <span class="st">&quot;No&quot;</span> <span class="sc">&amp;&amp;</span> e_cigarette_former <span class="sc">==</span> <span class="st">&quot;No&quot;</span></span>
<span id="cb20-19"><a href="paramset.html#cb20-19" aria-hidden="true" tabindex="-1"></a>  current_smoker <span class="ot">&lt;-</span> e_cigarette_current <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span> </span>
<span id="cb20-20"><a href="paramset.html#cb20-20" aria-hidden="true" tabindex="-1"></a>  former_smoker <span class="ot">&lt;-</span> e_cigarette_current <span class="sc">==</span> <span class="st">&quot;No&quot;</span> <span class="sc">&amp;&amp;</span> e_cigarette_former <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span></span>
<span id="cb20-21"><a href="paramset.html#cb20-21" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-22"><a href="paramset.html#cb20-22" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Then assign the appropriate value</span></span>
<span id="cb20-23"><a href="paramset.html#cb20-23" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(never_smoker){wave3_e_cigarette <span class="ot">&lt;-</span> <span class="dv">1</span>}</span>
<span id="cb20-24"><a href="paramset.html#cb20-24" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(current_smoker){wave3_e_cigarette <span class="ot">&lt;-</span> <span class="dv">2</span>}</span>
<span id="cb20-25"><a href="paramset.html#cb20-25" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(former_smoker){wave3_e_cigarette <span class="ot">&lt;-</span> <span class="dv">3</span>}</span>
<span id="cb20-26"><a href="paramset.html#cb20-26" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-27"><a href="paramset.html#cb20-27" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Add the appropriate number of people for the given transition</span></span>
<span id="cb20-28"><a href="paramset.html#cb20-28" aria-hidden="true" tabindex="-1"></a>  alpha_e_cigarette_transitions[wave2_e_cigarette, wave3_e_cigarette] <span class="ot">&lt;-</span> alpha_e_cigarette_transitions[wave2_e_cigarette, wave3_e_cigarette] <span class="sc">+</span> referent_data<span class="sc">$</span>R03_A_AWGT[i]</span>
<span id="cb20-29"><a href="paramset.html#cb20-29" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-30"><a href="paramset.html#cb20-30" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb20-31"><a href="paramset.html#cb20-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-32"><a href="paramset.html#cb20-32" aria-hidden="true" tabindex="-1"></a><span class="do">## Finally need to take the average number of transitions across all the imputations</span></span>
<span id="cb20-33"><a href="paramset.html#cb20-33" aria-hidden="true" tabindex="-1"></a>alpha_e_cigarette_transitions <span class="ot">&lt;-</span> alpha_e_cigarette_transitions<span class="sc">/</span>imputations</span>
<span id="cb20-34"><a href="paramset.html#cb20-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-35"><a href="paramset.html#cb20-35" aria-hidden="true" tabindex="-1"></a><span class="do">## To correct for an imputation quirk, a couple participants ended up transitioning from Current E-Smoke to Never (which shouldn&#39;t be possible)</span></span>
<span id="cb20-36"><a href="paramset.html#cb20-36" aria-hidden="true" tabindex="-1"></a><span class="do">## To account for this, we reassign those transition values to the current to former use</span></span>
<span id="cb20-37"><a href="paramset.html#cb20-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-38"><a href="paramset.html#cb20-38" aria-hidden="true" tabindex="-1"></a>alpha_e_cigarette_transitions[<span class="dv">2</span>,<span class="dv">3</span>] <span class="ot">&lt;-</span> alpha_e_cigarette_transitions[<span class="dv">2</span>,<span class="dv">3</span>] <span class="sc">+</span> alpha_e_cigarette_transitions[<span class="dv">2</span>,<span class="dv">1</span>]</span>
<span id="cb20-39"><a href="paramset.html#cb20-39" aria-hidden="true" tabindex="-1"></a>alpha_e_cigarette_transitions[<span class="dv">2</span>,<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">0</span></span></code></pre></div>
</div>
<div id="running-regression-analyses-to-extract-log-relative-risks" class="section level2" number="4.7">
<h2><span class="header-section-number">4.7</span> Running Regression Analyses to Extract Log-Relative Risks</h2>
<p>Now that we have identified our absolute transitions<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a> we need to extract relative modifiers for the cigarette and e-cigarette transitions. Essentially, we want to modify transition rates by age, sex, income, and the other tobacco product use.</p>
<p>To do so, we are going to fit 6 regressions aimed at capturing:</p>
<ol style="list-style-type: decimal">
<li>Cigarette Initiation</li>
<li>Cigarette Cessation</li>
<li>Cigarette Re-Instatment</li>
<li>E-Cigarette Initiation</li>
<li>E-Cigarette Cessation</li>
<li>E-Cigarette Re-Instatment</li>
</ol>
<p>Given our 15 imputed datasets, we will be running the regression separately for each dataset and then pooling the results. We will use Zou’s modified Poisson regression so that we may extract log-relative risks and standard errors that can then be applied for sampling relative risks to modify transistion rates in the model.</p>
<div id="defining-income-change-variable" class="section level3" number="4.7.1">
<h3><span class="header-section-number">4.7.1</span> Defining Income Change Variable</h3>
<p>One of the modifiers in our model will be whether someone’s income has recently increased or decreased or if they are in a stable compartment. We will use a variable in our statistical models to capture this where the referent value is stable income and the two other values are: 1) increased from previous and 2) decreased from previous.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="paramset.html#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb21-2"><a href="paramset.html#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="do">## First we need a simplified variable for income change where 1 = stayed the same from Wave 1 to 2, 2 = decreased, 3 = increased</span></span>
<span id="cb21-3"><a href="paramset.html#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb21-4"><a href="paramset.html#cb21-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-5"><a href="paramset.html#cb21-5" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>income_change <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb21-6"><a href="paramset.html#cb21-6" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>income_change[data<span class="sc">$</span>baseline_income <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>)] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb21-7"><a href="paramset.html#cb21-7" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>income_change[data<span class="sc">$</span>baseline_income <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">8</span>,<span class="dv">9</span>)] <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb21-8"><a href="paramset.html#cb21-8" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>income_change[data<span class="sc">$</span>baseline_income <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">10</span>,<span class="dv">11</span>,<span class="dv">12</span>,<span class="dv">13</span>)] <span class="ot">&lt;-</span> <span class="dv">3</span></span></code></pre></div>
</div>
<div id="cigarette-initiation-model" class="section level3" number="4.7.2">
<h3><span class="header-section-number">4.7.2</span> Cigarette Initiation Model</h3>
<p>For the first model, we are going to subset the data into all those who report never smoking status at Wave 2. We then want to fit a model where the outcome is wave 3 smoking status. 0 = still a never smoker and 1 = current smoker (i.e. smoking initiation).</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="paramset.html#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="do">## First we get the subset of all participants who report</span></span>
<span id="cb22-2"><a href="paramset.html#cb22-2" aria-hidden="true" tabindex="-1"></a>never_smokers <span class="ot">&lt;-</span> data[<span class="fu">which</span>(data<span class="sc">$</span>baseline_cigarette <span class="sc">==</span> <span class="dv">1</span>),<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span>)]</span>
<span id="cb22-3"><a href="paramset.html#cb22-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-4"><a href="paramset.html#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="do">## We need to generate our outcome</span></span>
<span id="cb22-5"><a href="paramset.html#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="do">## Since it is a poisson regression it needs to be numeric</span></span>
<span id="cb22-6"><a href="paramset.html#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="do">## Thus we assign 1 to those who initiated smoking </span></span>
<span id="cb22-7"><a href="paramset.html#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="do">## And we assign 0 to those who did not</span></span>
<span id="cb22-8"><a href="paramset.html#cb22-8" aria-hidden="true" tabindex="-1"></a>never_smokers<span class="sc">$</span>wave3_smoker_poisson <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb22-9"><a href="paramset.html#cb22-9" aria-hidden="true" tabindex="-1"></a>never_smokers<span class="sc">$</span>wave3_smoker_poisson[never_smokers<span class="sc">$</span>wave3_smoker <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb22-10"><a href="paramset.html#cb22-10" aria-hidden="true" tabindex="-1"></a>never_smokers<span class="sc">$</span>wave3_smoker_poisson[never_smokers<span class="sc">$</span>wave3_smoker <span class="sc">==</span> <span class="st">&quot;No&quot;</span>] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb22-11"><a href="paramset.html#cb22-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-12"><a href="paramset.html#cb22-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-13"><a href="paramset.html#cb22-13" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb22-14"><a href="paramset.html#cb22-14" aria-hidden="true" tabindex="-1"></a><span class="do">## Because of the imputed datasets, we must run the regression for each</span></span>
<span id="cb22-15"><a href="paramset.html#cb22-15" aria-hidden="true" tabindex="-1"></a><span class="do">## To execute this we must chain several functions</span></span>
<span id="cb22-16"><a href="paramset.html#cb22-16" aria-hidden="true" tabindex="-1"></a><span class="do">## First we use the with/by function pairing to run the analysis on each imputed dataset</span></span>
<span id="cb22-17"><a href="paramset.html#cb22-17" aria-hidden="true" tabindex="-1"></a><span class="do">## We then chain three functions. The interior function is that we must use the survey weights and replicate weights to generate a population-weighted dataset</span></span>
<span id="cb22-18"><a href="paramset.html#cb22-18" aria-hidden="true" tabindex="-1"></a><span class="do">## This is done with code design = svrepdesign(....). This function uses the weights provided to ensure the dataset is representative of us adults</span></span>
<span id="cb22-19"><a href="paramset.html#cb22-19" aria-hidden="true" tabindex="-1"></a><span class="do">## We then run the poisson regression (svyglm) with a log link, using age, sex, income level, income change, and wave 2 e-cigarette use as predictors</span></span>
<span id="cb22-20"><a href="paramset.html#cb22-20" aria-hidden="true" tabindex="-1"></a><span class="do">## Finally, we use the coeftest function to apply a sandwhich error estimator</span></span>
<span id="cb22-21"><a href="paramset.html#cb22-21" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb22-22"><a href="paramset.html#cb22-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-23"><a href="paramset.html#cb22-23" aria-hidden="true" tabindex="-1"></a><span class="do">## The final object returned is a list of 15 regression results, one from each imputed dataset</span></span>
<span id="cb22-24"><a href="paramset.html#cb22-24" aria-hidden="true" tabindex="-1"></a>zou <span class="ot">&lt;-</span> <span class="fu">with</span>(never_smokers, <span class="fu">by</span>(never_smokers, .imp, </span>
<span id="cb22-25"><a href="paramset.html#cb22-25" aria-hidden="true" tabindex="-1"></a>                          <span class="cf">function</span> (x) <span class="fu">coeftest</span>(<span class="fu">svyglm</span>(<span class="at">formula =</span> wave3_smoker_poisson <span class="sc">~</span> <span class="fu">factor</span>(baseline_age, <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;18-24&quot;</span>,<span class="st">&quot;25-34&quot;</span>,<span class="st">&quot;35-44&quot;</span>,<span class="st">&quot;45-54&quot;</span>,<span class="st">&quot;55-64&quot;</span>,<span class="st">&quot;65+&quot;</span>)) <span class="sc">+</span> </span>
<span id="cb22-26"><a href="paramset.html#cb22-26" aria-hidden="true" tabindex="-1"></a>                                                         <span class="fu">factor</span>(baseline_sex, <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;Male&quot;</span>,<span class="st">&quot;Female&quot;</span>)) <span class="sc">+</span></span>
<span id="cb22-27"><a href="paramset.html#cb22-27" aria-hidden="true" tabindex="-1"></a>                                                         <span class="fu">relevel</span>(wave2_income, <span class="at">ref =</span> <span class="st">&quot;&lt;$10k&quot;</span>) <span class="sc">+</span> </span>
<span id="cb22-28"><a href="paramset.html#cb22-28" aria-hidden="true" tabindex="-1"></a>                                                         <span class="fu">factor</span>(income_change, <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;Stable&quot;</span>,<span class="st">&quot;Decreased From Prior&quot;</span>,<span class="st">&quot;Increased From Prior&quot;</span>)) <span class="sc">+</span></span>
<span id="cb22-29"><a href="paramset.html#cb22-29" aria-hidden="true" tabindex="-1"></a>                                                         <span class="fu">factor</span>(baseline_e_cigarette, <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;Never E-Cigarette&quot;</span>,<span class="st">&quot;Current E-Cigarette&quot;</span>,<span class="st">&quot;Former E-Cigarette&quot;</span>)),</span>
<span id="cb22-30"><a href="paramset.html#cb22-30" aria-hidden="true" tabindex="-1"></a>                                                       <span class="at">design=</span><span class="fu">svrepdesign</span>(<span class="at">variables=</span>x[,<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">17</span>,<span class="dv">119</span><span class="sc">:</span><span class="dv">127</span>)],</span>
<span id="cb22-31"><a href="paramset.html#cb22-31" aria-hidden="true" tabindex="-1"></a>                                                                          <span class="at">repweights=</span>x[,<span class="dv">19</span><span class="sc">:</span><span class="dv">118</span>],</span>
<span id="cb22-32"><a href="paramset.html#cb22-32" aria-hidden="true" tabindex="-1"></a>                                                                          <span class="at">weights=</span>x[,<span class="dv">18</span>], <span class="at">combined.weights=</span><span class="cn">TRUE</span>,</span>
<span id="cb22-33"><a href="paramset.html#cb22-33" aria-hidden="true" tabindex="-1"></a>                                                                          <span class="at">type=</span><span class="st">&quot;other&quot;</span>, <span class="at">scale=</span><span class="dv">1</span>, <span class="at">rscales=</span><span class="dv">1</span>), <span class="at">family =</span> <span class="fu">poisson</span>(<span class="at">link=</span><span class="st">&quot;log&quot;</span>)), <span class="at">vcov =</span> sandwich)))</span>
<span id="cb22-34"><a href="paramset.html#cb22-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-35"><a href="paramset.html#cb22-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-36"><a href="paramset.html#cb22-36" aria-hidden="true" tabindex="-1"></a><span class="do">## We are then able to use the pool function in the mice package to get the pooled results of the regressions</span></span>
<span id="cb22-37"><a href="paramset.html#cb22-37" aria-hidden="true" tabindex="-1"></a>ct <span class="ot">&lt;-</span> <span class="fu">summary</span>(<span class="fu">pool</span>(zou))</span>
<span id="cb22-38"><a href="paramset.html#cb22-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-39"><a href="paramset.html#cb22-39" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb22-40"><a href="paramset.html#cb22-40" aria-hidden="true" tabindex="-1"></a><span class="do">## Finally, we need to store the results so that we can sample from them later on</span></span>
<span id="cb22-41"><a href="paramset.html#cb22-41" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb22-42"><a href="paramset.html#cb22-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-43"><a href="paramset.html#cb22-43" aria-hidden="true" tabindex="-1"></a>rr_cigarette_initiation_age_point_estimates <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, ct[<span class="dv">2</span><span class="sc">:</span><span class="dv">6</span>,<span class="dv">2</span>])</span>
<span id="cb22-44"><a href="paramset.html#cb22-44" aria-hidden="true" tabindex="-1"></a>rr_cigarette_initiation_age_standard_errors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, ct[<span class="dv">2</span><span class="sc">:</span><span class="dv">6</span>,<span class="dv">3</span>])</span>
<span id="cb22-45"><a href="paramset.html#cb22-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-46"><a href="paramset.html#cb22-46" aria-hidden="true" tabindex="-1"></a>rr_cigarette_initiation_sex_point_estimates <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, ct[<span class="dv">7</span>,<span class="dv">2</span>])</span>
<span id="cb22-47"><a href="paramset.html#cb22-47" aria-hidden="true" tabindex="-1"></a>rr_cigarette_initiation_sex_standard_errors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, ct[<span class="dv">7</span>,<span class="dv">3</span>])</span>
<span id="cb22-48"><a href="paramset.html#cb22-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-49"><a href="paramset.html#cb22-49" aria-hidden="true" tabindex="-1"></a>rr_cigarette_initiation_income_point_estimates <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, ct[<span class="dv">8</span><span class="sc">:</span><span class="dv">11</span>,<span class="dv">2</span>])</span>
<span id="cb22-50"><a href="paramset.html#cb22-50" aria-hidden="true" tabindex="-1"></a>rr_cigarette_initiation_income_standard_errors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, ct[<span class="dv">8</span><span class="sc">:</span><span class="dv">11</span>,<span class="dv">3</span>])</span>
<span id="cb22-51"><a href="paramset.html#cb22-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-52"><a href="paramset.html#cb22-52" aria-hidden="true" tabindex="-1"></a>rr_cigarette_initiation_income_change_point_estimates <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, ct[<span class="dv">12</span><span class="sc">:</span><span class="dv">13</span>,<span class="dv">2</span>])</span>
<span id="cb22-53"><a href="paramset.html#cb22-53" aria-hidden="true" tabindex="-1"></a>rr_cigarette_initiation_income_change_standard_errors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, ct[<span class="dv">12</span><span class="sc">:</span><span class="dv">13</span>,<span class="dv">3</span>])</span>
<span id="cb22-54"><a href="paramset.html#cb22-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-55"><a href="paramset.html#cb22-55" aria-hidden="true" tabindex="-1"></a>rr_cigarette_initiation_e_cig_point_estimates <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, ct[<span class="dv">14</span><span class="sc">:</span><span class="dv">15</span>,<span class="dv">2</span>])</span>
<span id="cb22-56"><a href="paramset.html#cb22-56" aria-hidden="true" tabindex="-1"></a>rr_cigarette_initiation_e_cig_standard_errors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, ct[<span class="dv">14</span><span class="sc">:</span><span class="dv">15</span>,<span class="dv">3</span>])</span></code></pre></div>
</div>
<div id="cigarette-cessation-model" class="section level3" number="4.7.3">
<h3><span class="header-section-number">4.7.3</span> Cigarette Cessation Model</h3>
<p>For the second model, we will subset the data to just those who report current smoking with the outcome being cessation (i.e. no use, at Wave 3).</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="paramset.html#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Subset the data to just current smokers at Wave 2</span></span>
<span id="cb23-2"><a href="paramset.html#cb23-2" aria-hidden="true" tabindex="-1"></a>current_smokers <span class="ot">&lt;-</span> data[<span class="fu">which</span>(data<span class="sc">$</span>baseline_cigarette <span class="sc">==</span> <span class="dv">2</span>),<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span>)]</span>
<span id="cb23-3"><a href="paramset.html#cb23-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-4"><a href="paramset.html#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="do">## Then we need to define our outcome, with no smoking at Wave 3 as our cessation outcome</span></span>
<span id="cb23-5"><a href="paramset.html#cb23-5" aria-hidden="true" tabindex="-1"></a>current_smokers<span class="sc">$</span>wave3_former_smoker_poisson <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb23-6"><a href="paramset.html#cb23-6" aria-hidden="true" tabindex="-1"></a>current_smokers<span class="sc">$</span>wave3_former_smoker_poisson[current_smokers<span class="sc">$</span>wave3_smoker <span class="sc">==</span> <span class="st">&quot;No&quot;</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb23-7"><a href="paramset.html#cb23-7" aria-hidden="true" tabindex="-1"></a>current_smokers<span class="sc">$</span>wave3_former_smoker_poisson[current_smokers<span class="sc">$</span>wave3_smoker <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span>] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb23-8"><a href="paramset.html#cb23-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-9"><a href="paramset.html#cb23-9" aria-hidden="true" tabindex="-1"></a><span class="do">## As described in previous section, we need to chain several functions in order to run the Zou&#39;s modified regression</span></span>
<span id="cb23-10"><a href="paramset.html#cb23-10" aria-hidden="true" tabindex="-1"></a>zou <span class="ot">&lt;-</span> <span class="fu">with</span>(current_smokers, <span class="fu">by</span>(current_smokers, .imp, </span>
<span id="cb23-11"><a href="paramset.html#cb23-11" aria-hidden="true" tabindex="-1"></a>                              <span class="cf">function</span> (x) <span class="fu">coeftest</span>(<span class="fu">svyglm</span>(<span class="at">formula =</span> wave3_former_smoker_poisson <span class="sc">~</span> <span class="fu">factor</span>(baseline_age, <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;18-24&quot;</span>,<span class="st">&quot;25-34&quot;</span>,<span class="st">&quot;35-44&quot;</span>,<span class="st">&quot;45-54&quot;</span>,<span class="st">&quot;55-64&quot;</span>,<span class="st">&quot;65+&quot;</span>)) <span class="sc">+</span></span>
<span id="cb23-12"><a href="paramset.html#cb23-12" aria-hidden="true" tabindex="-1"></a>                                                             <span class="fu">factor</span>(baseline_sex, <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;Male&quot;</span>,<span class="st">&quot;Female&quot;</span>)) <span class="sc">+</span></span>
<span id="cb23-13"><a href="paramset.html#cb23-13" aria-hidden="true" tabindex="-1"></a>                                                             <span class="fu">relevel</span>(wave2_income, <span class="at">ref =</span> <span class="st">&quot;&lt;$10k&quot;</span>) <span class="sc">+</span></span>
<span id="cb23-14"><a href="paramset.html#cb23-14" aria-hidden="true" tabindex="-1"></a>                                                             <span class="fu">factor</span>(income_change, <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;Stable&quot;</span>,<span class="st">&quot;Decreased From Prior&quot;</span>,<span class="st">&quot;Increased From Prior&quot;</span>)) <span class="sc">+</span></span>
<span id="cb23-15"><a href="paramset.html#cb23-15" aria-hidden="true" tabindex="-1"></a>                                                             <span class="fu">factor</span>(baseline_e_cigarette, <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;Never E-Cigarette&quot;</span>,<span class="st">&quot;Current E-Cigarette&quot;</span>,<span class="st">&quot;Former E-Cigarette&quot;</span>)),</span>
<span id="cb23-16"><a href="paramset.html#cb23-16" aria-hidden="true" tabindex="-1"></a>                                                           <span class="at">design=</span><span class="fu">svrepdesign</span>(<span class="at">variables=</span>x[,<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">17</span>,<span class="dv">119</span><span class="sc">:</span><span class="dv">127</span>)],</span>
<span id="cb23-17"><a href="paramset.html#cb23-17" aria-hidden="true" tabindex="-1"></a>                                                                              <span class="at">repweights=</span>x[,<span class="dv">19</span><span class="sc">:</span><span class="dv">118</span>],</span>
<span id="cb23-18"><a href="paramset.html#cb23-18" aria-hidden="true" tabindex="-1"></a>                                                                              <span class="at">weights=</span>x[,<span class="dv">18</span>], <span class="at">combined.weights=</span><span class="cn">TRUE</span>,</span>
<span id="cb23-19"><a href="paramset.html#cb23-19" aria-hidden="true" tabindex="-1"></a>                                                                              <span class="at">type=</span><span class="st">&quot;other&quot;</span>, <span class="at">scale=</span><span class="dv">1</span>, <span class="at">rscales=</span><span class="dv">1</span>), <span class="at">family =</span> <span class="fu">poisson</span>(<span class="at">link=</span><span class="st">&quot;log&quot;</span>)), <span class="at">vcov =</span> sandwich)))</span>
<span id="cb23-20"><a href="paramset.html#cb23-20" aria-hidden="true" tabindex="-1"></a><span class="do">## Then we pool the results</span></span>
<span id="cb23-21"><a href="paramset.html#cb23-21" aria-hidden="true" tabindex="-1"></a>ct <span class="ot">&lt;-</span> <span class="fu">summary</span>(<span class="fu">pool</span>(zou))</span>
<span id="cb23-22"><a href="paramset.html#cb23-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-23"><a href="paramset.html#cb23-23" aria-hidden="true" tabindex="-1"></a><span class="do">## Finally, we store the results for sampling from later</span></span>
<span id="cb23-24"><a href="paramset.html#cb23-24" aria-hidden="true" tabindex="-1"></a>rr_cigarette_cessation_age_point_estimates <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, ct[<span class="dv">2</span><span class="sc">:</span><span class="dv">6</span>,<span class="dv">2</span>])</span>
<span id="cb23-25"><a href="paramset.html#cb23-25" aria-hidden="true" tabindex="-1"></a>rr_cigarette_cessation_age_standard_errors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, ct[<span class="dv">2</span><span class="sc">:</span><span class="dv">6</span>,<span class="dv">3</span>])</span>
<span id="cb23-26"><a href="paramset.html#cb23-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-27"><a href="paramset.html#cb23-27" aria-hidden="true" tabindex="-1"></a>rr_cigarette_cessation_sex_point_estimates <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, ct[<span class="dv">7</span>,<span class="dv">2</span>])</span>
<span id="cb23-28"><a href="paramset.html#cb23-28" aria-hidden="true" tabindex="-1"></a>rr_cigarette_cessation_sex_standard_errors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, ct[<span class="dv">7</span>,<span class="dv">3</span>])</span>
<span id="cb23-29"><a href="paramset.html#cb23-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-30"><a href="paramset.html#cb23-30" aria-hidden="true" tabindex="-1"></a>rr_cigarette_cessation_income_point_estimates <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, ct[<span class="dv">8</span><span class="sc">:</span><span class="dv">11</span>,<span class="dv">2</span>])</span>
<span id="cb23-31"><a href="paramset.html#cb23-31" aria-hidden="true" tabindex="-1"></a>rr_cigarette_cessation_income_standard_errors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, ct[<span class="dv">8</span><span class="sc">:</span><span class="dv">11</span>,<span class="dv">3</span>])</span>
<span id="cb23-32"><a href="paramset.html#cb23-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-33"><a href="paramset.html#cb23-33" aria-hidden="true" tabindex="-1"></a>rr_cigarette_cessation_income_change_point_estimates <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, ct[<span class="dv">12</span><span class="sc">:</span><span class="dv">13</span>,<span class="dv">2</span>])</span>
<span id="cb23-34"><a href="paramset.html#cb23-34" aria-hidden="true" tabindex="-1"></a>rr_cigarette_cessation_income_change_standard_errors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, ct[<span class="dv">12</span><span class="sc">:</span><span class="dv">13</span>,<span class="dv">3</span>])</span>
<span id="cb23-35"><a href="paramset.html#cb23-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-36"><a href="paramset.html#cb23-36" aria-hidden="true" tabindex="-1"></a>rr_cigarette_cessation_e_cig_point_estimates <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, ct[<span class="dv">14</span><span class="sc">:</span><span class="dv">15</span>,<span class="dv">2</span>])</span>
<span id="cb23-37"><a href="paramset.html#cb23-37" aria-hidden="true" tabindex="-1"></a>rr_cigarette_cessation_e_cig_standard_errors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, ct[<span class="dv">14</span><span class="sc">:</span><span class="dv">15</span>,<span class="dv">3</span>])</span></code></pre></div>
</div>
<div id="cigarette-re-instatement-model" class="section level3" number="4.7.4">
<h3><span class="header-section-number">4.7.4</span> Cigarette Re-Instatement Model</h3>
<p>For this model, we will look at reinstatement of cigarette use among former smokers at Wave 2.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="paramset.html#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Subset the data to just look at former smokers</span></span>
<span id="cb24-2"><a href="paramset.html#cb24-2" aria-hidden="true" tabindex="-1"></a>former_smokers <span class="ot">&lt;-</span> data[<span class="fu">which</span>(data<span class="sc">$</span>baseline_cigarette <span class="sc">==</span> <span class="dv">3</span>),<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span>)]</span>
<span id="cb24-3"><a href="paramset.html#cb24-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-4"><a href="paramset.html#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="do">## The outcome is then, whether or not the participant reported reinstating cigarette use at Wave 3.</span></span>
<span id="cb24-5"><a href="paramset.html#cb24-5" aria-hidden="true" tabindex="-1"></a>former_smokers<span class="sc">$</span>wave3_smoker_poisson <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb24-6"><a href="paramset.html#cb24-6" aria-hidden="true" tabindex="-1"></a>former_smokers<span class="sc">$</span>wave3_smoker_poisson[former_smokers<span class="sc">$</span>wave3_smoker <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb24-7"><a href="paramset.html#cb24-7" aria-hidden="true" tabindex="-1"></a>former_smokers<span class="sc">$</span>wave3_smoker_poisson[former_smokers<span class="sc">$</span>wave3_smoker <span class="sc">==</span> <span class="st">&quot;No&quot;</span>] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb24-8"><a href="paramset.html#cb24-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-9"><a href="paramset.html#cb24-9" aria-hidden="true" tabindex="-1"></a><span class="do">## As before, we chain several functions to run the regression on each imputed dataset</span></span>
<span id="cb24-10"><a href="paramset.html#cb24-10" aria-hidden="true" tabindex="-1"></a>zou <span class="ot">&lt;-</span> <span class="fu">with</span>(former_smokers, <span class="fu">by</span>(former_smokers, .imp, </span>
<span id="cb24-11"><a href="paramset.html#cb24-11" aria-hidden="true" tabindex="-1"></a>                                <span class="cf">function</span> (x) <span class="fu">coeftest</span>(<span class="fu">svyglm</span>(<span class="at">formula =</span> wave3_smoker_poisson <span class="sc">~</span> <span class="fu">factor</span>(baseline_age, <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;18-24&quot;</span>,<span class="st">&quot;25-34&quot;</span>,<span class="st">&quot;35-44&quot;</span>,<span class="st">&quot;45-54&quot;</span>,<span class="st">&quot;55-64&quot;</span>,<span class="st">&quot;65+&quot;</span>)) <span class="sc">+</span> </span>
<span id="cb24-12"><a href="paramset.html#cb24-12" aria-hidden="true" tabindex="-1"></a>                                                               <span class="fu">factor</span>(baseline_sex, <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;Male&quot;</span>,<span class="st">&quot;Female&quot;</span>)) <span class="sc">+</span></span>
<span id="cb24-13"><a href="paramset.html#cb24-13" aria-hidden="true" tabindex="-1"></a>                                                               <span class="fu">relevel</span>(wave2_income, <span class="at">ref =</span> <span class="st">&quot;&lt;$10k&quot;</span>) <span class="sc">+</span> </span>
<span id="cb24-14"><a href="paramset.html#cb24-14" aria-hidden="true" tabindex="-1"></a>                                                               <span class="fu">factor</span>(income_change, <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;Stable&quot;</span>,<span class="st">&quot;Decreased From Prior&quot;</span>,<span class="st">&quot;Increased From Prior&quot;</span>)) <span class="sc">+</span></span>
<span id="cb24-15"><a href="paramset.html#cb24-15" aria-hidden="true" tabindex="-1"></a>                                                               <span class="fu">factor</span>(baseline_e_cigarette, <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;Never E-Cigarette&quot;</span>,<span class="st">&quot;Current E-Cigarette&quot;</span>,<span class="st">&quot;Former E-Cigarette&quot;</span>)),</span>
<span id="cb24-16"><a href="paramset.html#cb24-16" aria-hidden="true" tabindex="-1"></a>                                                             <span class="at">design=</span><span class="fu">svrepdesign</span>(<span class="at">variables=</span>x[,<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">17</span>,<span class="dv">119</span><span class="sc">:</span><span class="dv">127</span>)],</span>
<span id="cb24-17"><a href="paramset.html#cb24-17" aria-hidden="true" tabindex="-1"></a>                                                                                <span class="at">repweights=</span>x[,<span class="dv">19</span><span class="sc">:</span><span class="dv">118</span>],</span>
<span id="cb24-18"><a href="paramset.html#cb24-18" aria-hidden="true" tabindex="-1"></a>                                                                                <span class="at">weights=</span>x[,<span class="dv">18</span>], <span class="at">combined.weights=</span><span class="cn">TRUE</span>,</span>
<span id="cb24-19"><a href="paramset.html#cb24-19" aria-hidden="true" tabindex="-1"></a>                                                                                <span class="at">type=</span><span class="st">&quot;other&quot;</span>, <span class="at">scale=</span><span class="dv">1</span>, <span class="at">rscales=</span><span class="dv">1</span>), <span class="at">family =</span> <span class="fu">poisson</span>(<span class="at">link=</span><span class="st">&quot;log&quot;</span>)), <span class="at">vcov =</span> sandwich)))</span>
<span id="cb24-20"><a href="paramset.html#cb24-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-21"><a href="paramset.html#cb24-21" aria-hidden="true" tabindex="-1"></a><span class="do">## Then, we pool the results</span></span>
<span id="cb24-22"><a href="paramset.html#cb24-22" aria-hidden="true" tabindex="-1"></a>ct <span class="ot">&lt;-</span> <span class="fu">summary</span>(<span class="fu">pool</span>(zou))</span>
<span id="cb24-23"><a href="paramset.html#cb24-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-24"><a href="paramset.html#cb24-24" aria-hidden="true" tabindex="-1"></a><span class="do">## And store the results for later</span></span>
<span id="cb24-25"><a href="paramset.html#cb24-25" aria-hidden="true" tabindex="-1"></a>rr_cigarette_reinstatement_age_point_estimates <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, ct[<span class="dv">2</span><span class="sc">:</span><span class="dv">6</span>,<span class="dv">2</span>])</span>
<span id="cb24-26"><a href="paramset.html#cb24-26" aria-hidden="true" tabindex="-1"></a>rr_cigarette_reinstatement_age_standard_errors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, ct[<span class="dv">2</span><span class="sc">:</span><span class="dv">6</span>,<span class="dv">3</span>])</span>
<span id="cb24-27"><a href="paramset.html#cb24-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-28"><a href="paramset.html#cb24-28" aria-hidden="true" tabindex="-1"></a>rr_cigarette_reinstatement_sex_point_estimates <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, ct[<span class="dv">7</span>,<span class="dv">2</span>])</span>
<span id="cb24-29"><a href="paramset.html#cb24-29" aria-hidden="true" tabindex="-1"></a>rr_cigarette_reinstatement_sex_standard_errors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, ct[<span class="dv">7</span>,<span class="dv">3</span>])</span>
<span id="cb24-30"><a href="paramset.html#cb24-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-31"><a href="paramset.html#cb24-31" aria-hidden="true" tabindex="-1"></a>rr_cigarette_reinstatement_income_point_estimates <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, ct[<span class="dv">8</span><span class="sc">:</span><span class="dv">11</span>,<span class="dv">2</span>])</span>
<span id="cb24-32"><a href="paramset.html#cb24-32" aria-hidden="true" tabindex="-1"></a>rr_cigarette_reinstatement_income_standard_errors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, ct[<span class="dv">8</span><span class="sc">:</span><span class="dv">11</span>,<span class="dv">3</span>])</span>
<span id="cb24-33"><a href="paramset.html#cb24-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-34"><a href="paramset.html#cb24-34" aria-hidden="true" tabindex="-1"></a>rr_cigarette_reinstatement_income_change_point_estimates <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, ct[<span class="dv">12</span><span class="sc">:</span><span class="dv">13</span>,<span class="dv">2</span>])</span>
<span id="cb24-35"><a href="paramset.html#cb24-35" aria-hidden="true" tabindex="-1"></a>rr_cigarette_reinstatement_income_change_standard_errors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, ct[<span class="dv">12</span><span class="sc">:</span><span class="dv">13</span>,<span class="dv">3</span>])</span>
<span id="cb24-36"><a href="paramset.html#cb24-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-37"><a href="paramset.html#cb24-37" aria-hidden="true" tabindex="-1"></a>rr_cigarette_reinstatement_e_cig_point_estimates <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, ct[<span class="dv">14</span><span class="sc">:</span><span class="dv">15</span>,<span class="dv">2</span>])</span>
<span id="cb24-38"><a href="paramset.html#cb24-38" aria-hidden="true" tabindex="-1"></a>rr_cigarette_reinstatement_e_cig_standard_errors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, ct[<span class="dv">14</span><span class="sc">:</span><span class="dv">15</span>,<span class="dv">3</span>])</span></code></pre></div>
</div>
<div id="e-cigarette-initiation-model" class="section level3" number="4.7.5">
<h3><span class="header-section-number">4.7.5</span> E-Cigarette Initiation Model</h3>
<p>We repeat the same process, but now with e-cigarette transitions. We start by looking at initiation of e-cigarette use at Wave 3 amongst those reporting no e-cig use at Wave 2.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="paramset.html#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Subset the data to look at never e-cig users at Wave 2</span></span>
<span id="cb25-2"><a href="paramset.html#cb25-2" aria-hidden="true" tabindex="-1"></a>never_e_smokers <span class="ot">&lt;-</span> data[<span class="fu">which</span>(data<span class="sc">$</span>baseline_e_cigarette <span class="sc">==</span> <span class="dv">1</span>),<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span>)]</span>
<span id="cb25-3"><a href="paramset.html#cb25-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-4"><a href="paramset.html#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="do">## Define the outcome</span></span>
<span id="cb25-5"><a href="paramset.html#cb25-5" aria-hidden="true" tabindex="-1"></a>never_e_smokers<span class="sc">$</span>wave3_e_smoker_poisson <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb25-6"><a href="paramset.html#cb25-6" aria-hidden="true" tabindex="-1"></a>never_e_smokers<span class="sc">$</span>wave3_e_smoker_poisson[never_e_smokers<span class="sc">$</span>wave3_e_smoker <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb25-7"><a href="paramset.html#cb25-7" aria-hidden="true" tabindex="-1"></a>never_e_smokers<span class="sc">$</span>wave3_e_smoker_poisson[never_e_smokers<span class="sc">$</span>wave3_e_smoker <span class="sc">==</span> <span class="st">&quot;No&quot;</span>] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb25-8"><a href="paramset.html#cb25-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-9"><a href="paramset.html#cb25-9" aria-hidden="true" tabindex="-1"></a><span class="do">## Chain the appropriate functions in order to run the regression on each imputed dataset</span></span>
<span id="cb25-10"><a href="paramset.html#cb25-10" aria-hidden="true" tabindex="-1"></a>zou <span class="ot">&lt;-</span> <span class="fu">with</span>(never_e_smokers, <span class="fu">by</span>(never_e_smokers, .imp, </span>
<span id="cb25-11"><a href="paramset.html#cb25-11" aria-hidden="true" tabindex="-1"></a>                               <span class="cf">function</span> (x) <span class="fu">coeftest</span>(<span class="fu">svyglm</span>(<span class="at">formula =</span> wave3_e_smoker_poisson <span class="sc">~</span> <span class="fu">factor</span>(baseline_age, <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;18-24&quot;</span>,<span class="st">&quot;25-34&quot;</span>,<span class="st">&quot;35-44&quot;</span>,<span class="st">&quot;45-54&quot;</span>,<span class="st">&quot;55-64&quot;</span>,<span class="st">&quot;65+&quot;</span>)) <span class="sc">+</span> </span>
<span id="cb25-12"><a href="paramset.html#cb25-12" aria-hidden="true" tabindex="-1"></a>                                                              <span class="fu">factor</span>(baseline_sex, <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;Male&quot;</span>,<span class="st">&quot;Female&quot;</span>)) <span class="sc">+</span></span>
<span id="cb25-13"><a href="paramset.html#cb25-13" aria-hidden="true" tabindex="-1"></a>                                                              <span class="fu">relevel</span>(wave2_income, <span class="at">ref =</span> <span class="st">&quot;&lt;$10k&quot;</span>) <span class="sc">+</span> </span>
<span id="cb25-14"><a href="paramset.html#cb25-14" aria-hidden="true" tabindex="-1"></a>                                                              <span class="fu">factor</span>(income_change, <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;Stable&quot;</span>,<span class="st">&quot;Decreased From Prior&quot;</span>,<span class="st">&quot;Increased From Prior&quot;</span>)) <span class="sc">+</span></span>
<span id="cb25-15"><a href="paramset.html#cb25-15" aria-hidden="true" tabindex="-1"></a>                                                              <span class="fu">factor</span>(baseline_cigarette, <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;Never Cigarette&quot;</span>,<span class="st">&quot;Current Cigarette&quot;</span>,<span class="st">&quot;Former Cigarette&quot;</span>)),</span>
<span id="cb25-16"><a href="paramset.html#cb25-16" aria-hidden="true" tabindex="-1"></a>                                                            <span class="at">design=</span><span class="fu">svrepdesign</span>(<span class="at">variables=</span>x[,<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">17</span>,<span class="dv">119</span><span class="sc">:</span><span class="dv">127</span>)],</span>
<span id="cb25-17"><a href="paramset.html#cb25-17" aria-hidden="true" tabindex="-1"></a>                                                                               <span class="at">repweights=</span>x[,<span class="dv">19</span><span class="sc">:</span><span class="dv">118</span>],</span>
<span id="cb25-18"><a href="paramset.html#cb25-18" aria-hidden="true" tabindex="-1"></a>                                                                               <span class="at">weights=</span>x[,<span class="dv">18</span>], <span class="at">combined.weights=</span><span class="cn">TRUE</span>,</span>
<span id="cb25-19"><a href="paramset.html#cb25-19" aria-hidden="true" tabindex="-1"></a>                                                                               <span class="at">type=</span><span class="st">&quot;other&quot;</span>, <span class="at">scale=</span><span class="dv">1</span>, <span class="at">rscales=</span><span class="dv">1</span>), <span class="at">family =</span> <span class="fu">poisson</span>(<span class="at">link=</span><span class="st">&quot;log&quot;</span>)), <span class="at">vcov =</span> sandwich)))</span>
<span id="cb25-20"><a href="paramset.html#cb25-20" aria-hidden="true" tabindex="-1"></a><span class="do">## Pool the results</span></span>
<span id="cb25-21"><a href="paramset.html#cb25-21" aria-hidden="true" tabindex="-1"></a>ct <span class="ot">&lt;-</span> <span class="fu">summary</span>(<span class="fu">pool</span>(zou))</span>
<span id="cb25-22"><a href="paramset.html#cb25-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-23"><a href="paramset.html#cb25-23" aria-hidden="true" tabindex="-1"></a><span class="do">## Store the results for future sampling</span></span>
<span id="cb25-24"><a href="paramset.html#cb25-24" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_initiation_age_point_estimates <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, ct[<span class="dv">2</span><span class="sc">:</span><span class="dv">6</span>,<span class="dv">2</span>])</span>
<span id="cb25-25"><a href="paramset.html#cb25-25" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_initiation_age_standard_errors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, ct[<span class="dv">2</span><span class="sc">:</span><span class="dv">6</span>,<span class="dv">3</span>])</span>
<span id="cb25-26"><a href="paramset.html#cb25-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-27"><a href="paramset.html#cb25-27" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_initiation_sex_point_estimates <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, ct[<span class="dv">7</span>,<span class="dv">2</span>])</span>
<span id="cb25-28"><a href="paramset.html#cb25-28" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_initiation_sex_standard_errors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, ct[<span class="dv">7</span>,<span class="dv">3</span>])</span>
<span id="cb25-29"><a href="paramset.html#cb25-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-30"><a href="paramset.html#cb25-30" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_initiation_income_point_estimates <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, ct[<span class="dv">8</span><span class="sc">:</span><span class="dv">11</span>,<span class="dv">2</span>])</span>
<span id="cb25-31"><a href="paramset.html#cb25-31" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_initiation_income_standard_errors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, ct[<span class="dv">8</span><span class="sc">:</span><span class="dv">11</span>,<span class="dv">3</span>])</span>
<span id="cb25-32"><a href="paramset.html#cb25-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-33"><a href="paramset.html#cb25-33" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_initiation_income_change_point_estimates <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, ct[<span class="dv">12</span><span class="sc">:</span><span class="dv">13</span>,<span class="dv">2</span>])</span>
<span id="cb25-34"><a href="paramset.html#cb25-34" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_initiation_income_change_standard_errors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, ct[<span class="dv">12</span><span class="sc">:</span><span class="dv">13</span>,<span class="dv">3</span>])</span>
<span id="cb25-35"><a href="paramset.html#cb25-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-36"><a href="paramset.html#cb25-36" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_initiation_cig_point_estimates <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, ct[<span class="dv">14</span><span class="sc">:</span><span class="dv">15</span>,<span class="dv">2</span>])</span>
<span id="cb25-37"><a href="paramset.html#cb25-37" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_initiation_cig_standard_errors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, ct[<span class="dv">14</span><span class="sc">:</span><span class="dv">15</span>,<span class="dv">3</span>])</span></code></pre></div>
</div>
<div id="e-cigarette-cessation-model" class="section level3" number="4.7.6">
<h3><span class="header-section-number">4.7.6</span> E-Cigarette Cessation Model</h3>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="paramset.html#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Subset to just look at current e-cig users at Wave 2</span></span>
<span id="cb26-2"><a href="paramset.html#cb26-2" aria-hidden="true" tabindex="-1"></a>current_e_smokers <span class="ot">&lt;-</span> data[<span class="fu">which</span>(data<span class="sc">$</span>baseline_e_cigarette <span class="sc">==</span> <span class="dv">2</span>),<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span>)]</span>
<span id="cb26-3"><a href="paramset.html#cb26-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-4"><a href="paramset.html#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="do">## Define the outcome as cessation of e-cig use at Wave 3</span></span>
<span id="cb26-5"><a href="paramset.html#cb26-5" aria-hidden="true" tabindex="-1"></a>current_e_smokers<span class="sc">$</span>wave3_former_e_smoker_poisson <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb26-6"><a href="paramset.html#cb26-6" aria-hidden="true" tabindex="-1"></a>current_e_smokers<span class="sc">$</span>wave3_former_e_smoker_poisson[current_e_smokers<span class="sc">$</span>wave3_e_smoker <span class="sc">==</span> <span class="st">&quot;No&quot;</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb26-7"><a href="paramset.html#cb26-7" aria-hidden="true" tabindex="-1"></a>current_e_smokers<span class="sc">$</span>wave3_former_e_smoker_poisson[current_e_smokers<span class="sc">$</span>wave3_e_smoker <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span>] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb26-8"><a href="paramset.html#cb26-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-9"><a href="paramset.html#cb26-9" aria-hidden="true" tabindex="-1"></a><span class="do">## Chain the appropriate functions to run the regression on each imputed dataset</span></span>
<span id="cb26-10"><a href="paramset.html#cb26-10" aria-hidden="true" tabindex="-1"></a>zou <span class="ot">&lt;-</span> <span class="fu">with</span>(current_e_smokers, <span class="fu">by</span>(current_e_smokers, .imp, </span>
<span id="cb26-11"><a href="paramset.html#cb26-11" aria-hidden="true" tabindex="-1"></a>                                <span class="cf">function</span> (x) <span class="fu">coeftest</span>(<span class="fu">svyglm</span>(<span class="at">formula =</span> wave3_former_e_smoker_poisson <span class="sc">~</span> <span class="fu">factor</span>(baseline_age, <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;18-24&quot;</span>,<span class="st">&quot;25-34&quot;</span>,<span class="st">&quot;35-44&quot;</span>,<span class="st">&quot;45-54&quot;</span>,<span class="st">&quot;55-64&quot;</span>,<span class="st">&quot;65+&quot;</span>)) <span class="sc">+</span> </span>
<span id="cb26-12"><a href="paramset.html#cb26-12" aria-hidden="true" tabindex="-1"></a>                                                               <span class="fu">factor</span>(baseline_sex, <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;Male&quot;</span>,<span class="st">&quot;Female&quot;</span>)) <span class="sc">+</span></span>
<span id="cb26-13"><a href="paramset.html#cb26-13" aria-hidden="true" tabindex="-1"></a>                                                               <span class="fu">relevel</span>(wave2_income, <span class="at">ref =</span> <span class="st">&quot;&lt;$10k&quot;</span>) <span class="sc">+</span> </span>
<span id="cb26-14"><a href="paramset.html#cb26-14" aria-hidden="true" tabindex="-1"></a>                                                               <span class="fu">factor</span>(income_change, <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;Stable&quot;</span>,<span class="st">&quot;Decreased From Prior&quot;</span>,<span class="st">&quot;Increased From Prior&quot;</span>)) <span class="sc">+</span></span>
<span id="cb26-15"><a href="paramset.html#cb26-15" aria-hidden="true" tabindex="-1"></a>                                                               <span class="fu">factor</span>(baseline_cigarette, <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;Never Cigarette&quot;</span>,<span class="st">&quot;Current Cigarette&quot;</span>,<span class="st">&quot;Former Cigarette&quot;</span>)),</span>
<span id="cb26-16"><a href="paramset.html#cb26-16" aria-hidden="true" tabindex="-1"></a>                                                             <span class="at">design=</span><span class="fu">svrepdesign</span>(<span class="at">variables=</span>x[,<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">17</span>,<span class="dv">119</span><span class="sc">:</span><span class="dv">127</span>)],</span>
<span id="cb26-17"><a href="paramset.html#cb26-17" aria-hidden="true" tabindex="-1"></a>                                                                                <span class="at">repweights=</span>x[,<span class="dv">19</span><span class="sc">:</span><span class="dv">118</span>],</span>
<span id="cb26-18"><a href="paramset.html#cb26-18" aria-hidden="true" tabindex="-1"></a>                                                                                <span class="at">weights=</span>x[,<span class="dv">18</span>], <span class="at">combined.weights=</span><span class="cn">TRUE</span>,</span>
<span id="cb26-19"><a href="paramset.html#cb26-19" aria-hidden="true" tabindex="-1"></a>                                                                                <span class="at">type=</span><span class="st">&quot;other&quot;</span>, <span class="at">scale=</span><span class="dv">1</span>, <span class="at">rscales=</span><span class="dv">1</span>), <span class="at">family =</span> <span class="fu">poisson</span>(<span class="at">link=</span><span class="st">&quot;log&quot;</span>)), <span class="at">vcov =</span> sandwich)))</span>
<span id="cb26-20"><a href="paramset.html#cb26-20" aria-hidden="true" tabindex="-1"></a><span class="do">## Pool the results</span></span>
<span id="cb26-21"><a href="paramset.html#cb26-21" aria-hidden="true" tabindex="-1"></a>ct <span class="ot">&lt;-</span> <span class="fu">summary</span>(<span class="fu">pool</span>(zou))</span>
<span id="cb26-22"><a href="paramset.html#cb26-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-23"><a href="paramset.html#cb26-23" aria-hidden="true" tabindex="-1"></a><span class="do">## Store the results for sampling from later on</span></span>
<span id="cb26-24"><a href="paramset.html#cb26-24" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_cessation_age_point_estimates <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, ct[<span class="dv">2</span><span class="sc">:</span><span class="dv">6</span>,<span class="dv">2</span>])</span>
<span id="cb26-25"><a href="paramset.html#cb26-25" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_cessation_age_standard_errors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, ct[<span class="dv">2</span><span class="sc">:</span><span class="dv">6</span>,<span class="dv">3</span>])</span>
<span id="cb26-26"><a href="paramset.html#cb26-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-27"><a href="paramset.html#cb26-27" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_cessation_sex_point_estimates <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, ct[<span class="dv">7</span>,<span class="dv">2</span>])</span>
<span id="cb26-28"><a href="paramset.html#cb26-28" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_cessation_sex_standard_errors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, ct[<span class="dv">7</span>,<span class="dv">3</span>])</span>
<span id="cb26-29"><a href="paramset.html#cb26-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-30"><a href="paramset.html#cb26-30" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_cessation_income_point_estimates <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, ct[<span class="dv">8</span><span class="sc">:</span><span class="dv">11</span>,<span class="dv">2</span>])</span>
<span id="cb26-31"><a href="paramset.html#cb26-31" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_cessation_income_standard_errors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, ct[<span class="dv">8</span><span class="sc">:</span><span class="dv">11</span>,<span class="dv">3</span>])</span>
<span id="cb26-32"><a href="paramset.html#cb26-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-33"><a href="paramset.html#cb26-33" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_cessation_income_change_point_estimates <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, ct[<span class="dv">12</span><span class="sc">:</span><span class="dv">13</span>,<span class="dv">2</span>])</span>
<span id="cb26-34"><a href="paramset.html#cb26-34" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_cessation_income_change_standard_errors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, ct[<span class="dv">12</span><span class="sc">:</span><span class="dv">13</span>,<span class="dv">3</span>])</span>
<span id="cb26-35"><a href="paramset.html#cb26-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-36"><a href="paramset.html#cb26-36" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_cessation_cig_point_estimates <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, ct[<span class="dv">14</span><span class="sc">:</span><span class="dv">15</span>,<span class="dv">2</span>])</span>
<span id="cb26-37"><a href="paramset.html#cb26-37" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_cessation_cig_standard_errors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, ct[<span class="dv">14</span><span class="sc">:</span><span class="dv">15</span>,<span class="dv">3</span>])</span></code></pre></div>
</div>
<div id="e-cigarette-reinstatement-model" class="section level3" number="4.7.7">
<h3><span class="header-section-number">4.7.7</span> E-Cigarette Reinstatement Model</h3>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="paramset.html#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Subset the data to only look at former e-cig users at Wave 2</span></span>
<span id="cb27-2"><a href="paramset.html#cb27-2" aria-hidden="true" tabindex="-1"></a>former_e_smokers <span class="ot">&lt;-</span> data[<span class="fu">which</span>(data<span class="sc">$</span>baseline_e_cigarette <span class="sc">==</span> <span class="dv">3</span>),<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span>)]</span>
<span id="cb27-3"><a href="paramset.html#cb27-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-4"><a href="paramset.html#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="do">## Define the outcome as resuming e-cig use at Wave 3</span></span>
<span id="cb27-5"><a href="paramset.html#cb27-5" aria-hidden="true" tabindex="-1"></a>former_e_smokers<span class="sc">$</span>wave3_e_smoker_poisson <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb27-6"><a href="paramset.html#cb27-6" aria-hidden="true" tabindex="-1"></a>former_e_smokers<span class="sc">$</span>wave3_e_smoker_poisson[former_e_smokers<span class="sc">$</span>wave3_e_smoker <span class="sc">==</span> <span class="st">&quot;Yes&quot;</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb27-7"><a href="paramset.html#cb27-7" aria-hidden="true" tabindex="-1"></a>former_e_smokers<span class="sc">$</span>wave3_e_smoker_poisson[former_e_smokers<span class="sc">$</span>wave3_e_smoker <span class="sc">==</span> <span class="st">&quot;No&quot;</span>] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb27-8"><a href="paramset.html#cb27-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-9"><a href="paramset.html#cb27-9" aria-hidden="true" tabindex="-1"></a><span class="do">## Chain the appropriate functions to run the regression on each imputed dataset</span></span>
<span id="cb27-10"><a href="paramset.html#cb27-10" aria-hidden="true" tabindex="-1"></a>zou <span class="ot">&lt;-</span> <span class="fu">with</span>(former_e_smokers, <span class="fu">by</span>(former_e_smokers, .imp, </span>
<span id="cb27-11"><a href="paramset.html#cb27-11" aria-hidden="true" tabindex="-1"></a>                                  <span class="cf">function</span> (x) <span class="fu">coeftest</span>(<span class="fu">svyglm</span>(<span class="at">formula =</span> wave3_e_smoker_poisson <span class="sc">~</span> <span class="fu">factor</span>(baseline_age, <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;18-24&quot;</span>,<span class="st">&quot;25-34&quot;</span>,<span class="st">&quot;35-44&quot;</span>,<span class="st">&quot;45-54&quot;</span>,<span class="st">&quot;55-64&quot;</span>,<span class="st">&quot;65+&quot;</span>)) <span class="sc">+</span> </span>
<span id="cb27-12"><a href="paramset.html#cb27-12" aria-hidden="true" tabindex="-1"></a>                                                                 <span class="fu">factor</span>(baseline_sex, <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;Male&quot;</span>,<span class="st">&quot;Female&quot;</span>)) <span class="sc">+</span></span>
<span id="cb27-13"><a href="paramset.html#cb27-13" aria-hidden="true" tabindex="-1"></a>                                                                 <span class="fu">relevel</span>(wave2_income, <span class="at">ref =</span> <span class="st">&quot;&lt;$10k&quot;</span>) <span class="sc">+</span> </span>
<span id="cb27-14"><a href="paramset.html#cb27-14" aria-hidden="true" tabindex="-1"></a>                                                                 <span class="fu">factor</span>(income_change, <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;Stable&quot;</span>,<span class="st">&quot;Decreased From Prior&quot;</span>,<span class="st">&quot;Increased From Prior&quot;</span>)) <span class="sc">+</span></span>
<span id="cb27-15"><a href="paramset.html#cb27-15" aria-hidden="true" tabindex="-1"></a>                                                                 <span class="fu">factor</span>(baseline_cigarette, <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;Never Cigarette&quot;</span>,<span class="st">&quot;Current Cigarette&quot;</span>,<span class="st">&quot;Former Cigarette&quot;</span>)),</span>
<span id="cb27-16"><a href="paramset.html#cb27-16" aria-hidden="true" tabindex="-1"></a>                                                               <span class="at">design=</span><span class="fu">svrepdesign</span>(<span class="at">variables=</span>x[,<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">17</span>,<span class="dv">119</span><span class="sc">:</span><span class="dv">127</span>)],</span>
<span id="cb27-17"><a href="paramset.html#cb27-17" aria-hidden="true" tabindex="-1"></a>                                                                                  <span class="at">repweights=</span>x[,<span class="dv">19</span><span class="sc">:</span><span class="dv">118</span>],</span>
<span id="cb27-18"><a href="paramset.html#cb27-18" aria-hidden="true" tabindex="-1"></a>                                                                                  <span class="at">weights=</span>x[,<span class="dv">18</span>], <span class="at">combined.weights=</span><span class="cn">TRUE</span>,</span>
<span id="cb27-19"><a href="paramset.html#cb27-19" aria-hidden="true" tabindex="-1"></a>                                                                                  <span class="at">type=</span><span class="st">&quot;other&quot;</span>, <span class="at">scale=</span><span class="dv">1</span>, <span class="at">rscales=</span><span class="dv">1</span>), <span class="at">family =</span> <span class="fu">poisson</span>(<span class="at">link=</span><span class="st">&quot;log&quot;</span>)), <span class="at">vcov =</span> sandwich)))</span>
<span id="cb27-20"><a href="paramset.html#cb27-20" aria-hidden="true" tabindex="-1"></a><span class="do">## Pool the results</span></span>
<span id="cb27-21"><a href="paramset.html#cb27-21" aria-hidden="true" tabindex="-1"></a>ct <span class="ot">&lt;-</span> <span class="fu">summary</span>(<span class="fu">pool</span>(zou))</span>
<span id="cb27-22"><a href="paramset.html#cb27-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-23"><a href="paramset.html#cb27-23" aria-hidden="true" tabindex="-1"></a><span class="do">## Save the results for later sampling</span></span>
<span id="cb27-24"><a href="paramset.html#cb27-24" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_reinstatement_age_point_estimates <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, ct[<span class="dv">2</span><span class="sc">:</span><span class="dv">6</span>,<span class="dv">2</span>])</span>
<span id="cb27-25"><a href="paramset.html#cb27-25" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_reinstatement_age_standard_errors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, ct[<span class="dv">2</span><span class="sc">:</span><span class="dv">6</span>,<span class="dv">3</span>])</span>
<span id="cb27-26"><a href="paramset.html#cb27-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-27"><a href="paramset.html#cb27-27" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_reinstatement_sex_point_estimates <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, ct[<span class="dv">7</span>,<span class="dv">2</span>])</span>
<span id="cb27-28"><a href="paramset.html#cb27-28" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_reinstatement_sex_standard_errors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, ct[<span class="dv">7</span>,<span class="dv">3</span>])</span>
<span id="cb27-29"><a href="paramset.html#cb27-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-30"><a href="paramset.html#cb27-30" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_reinstatement_income_point_estimates <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, ct[<span class="dv">8</span><span class="sc">:</span><span class="dv">11</span>,<span class="dv">2</span>])</span>
<span id="cb27-31"><a href="paramset.html#cb27-31" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_reinstatement_income_standard_errors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, ct[<span class="dv">8</span><span class="sc">:</span><span class="dv">11</span>,<span class="dv">3</span>])</span>
<span id="cb27-32"><a href="paramset.html#cb27-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-33"><a href="paramset.html#cb27-33" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_reinstatement_income_change_point_estimates <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, ct[<span class="dv">12</span><span class="sc">:</span><span class="dv">13</span>,<span class="dv">2</span>])</span>
<span id="cb27-34"><a href="paramset.html#cb27-34" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_reinstatement_income_change_standard_errors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, ct[<span class="dv">12</span><span class="sc">:</span><span class="dv">13</span>,<span class="dv">3</span>])</span>
<span id="cb27-35"><a href="paramset.html#cb27-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-36"><a href="paramset.html#cb27-36" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_reinstatement_cig_point_estimates <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, ct[<span class="dv">14</span><span class="sc">:</span><span class="dv">15</span>,<span class="dv">2</span>])</span>
<span id="cb27-37"><a href="paramset.html#cb27-37" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_reinstatement_cig_standard_errors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, ct[<span class="dv">14</span><span class="sc">:</span><span class="dv">15</span>,<span class="dv">3</span>])</span></code></pre></div>
</div>
</div>
<div id="drawing-our-parameter-set-samples" class="section level2" number="4.8">
<h2><span class="header-section-number">4.8</span> Drawing Our Parameter Set Samples</h2>
<p>Now we have the data that we need to draw our parameter set samples. The following code will be used to generate the parameter sets for running uncertainty analyses. The number of parameter sets created is determined by the “sampling_number” hyper-parameter that can be modified at the beginning of this document.</p>
<div id="income-transitions-sample" class="section level3" number="4.8.1">
<h3><span class="header-section-number">4.8.1</span> Income Transitions Sample</h3>
<p>Earlier, we created the “alpha_income_transitions” object, which contains the average number of weighted-people who transition from income level X to income level Y from Waves 2 to 3. We can use use a series of Dirichlet distribution samples to extract samples. We note that the sampled values correspond to proportions (not rates) and that they will need to be converted to rates at a later step.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="paramset.html#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="do">## First, we want to allocate memory for storing the sampled transition proportions</span></span>
<span id="cb28-2"><a href="paramset.html#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="do">## Each row is a different parameter set sample, the columns can then be converted into an array that can be navigated using age, income wave 2, income wave 3 to extract appropriate data</span></span>
<span id="cb28-3"><a href="paramset.html#cb28-3" aria-hidden="true" tabindex="-1"></a>income_transitions_sample <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">nrow =</span> sampling_number, <span class="at">ncol =</span> age_types<span class="sc">*</span><span class="dv">5</span><span class="sc">*</span><span class="dv">5</span>)</span>
<span id="cb28-4"><a href="paramset.html#cb28-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-5"><a href="paramset.html#cb28-5" aria-hidden="true" tabindex="-1"></a><span class="do">## For each parameter set sample, we repeat this process</span></span>
<span id="cb28-6"><a href="paramset.html#cb28-6" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>sampling_number){</span>
<span id="cb28-7"><a href="paramset.html#cb28-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb28-8"><a href="paramset.html#cb28-8" aria-hidden="true" tabindex="-1"></a>  <span class="do">## We first allocate memory for storing our generated parameter set</span></span>
<span id="cb28-9"><a href="paramset.html#cb28-9" aria-hidden="true" tabindex="-1"></a>  temp <span class="ot">&lt;-</span> <span class="fu">toArray</span>(<span class="fu">rep</span>(<span class="dv">0</span>,age_types<span class="sc">*</span><span class="dv">5</span><span class="sc">*</span><span class="dv">5</span>),<span class="at">dim=</span><span class="fu">c</span>(age_types,<span class="dv">5</span>,<span class="dv">5</span>))</span>
<span id="cb28-10"><a href="paramset.html#cb28-10" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb28-11"><a href="paramset.html#cb28-11" aria-hidden="true" tabindex="-1"></a>  <span class="do">## We then want to run a Dirichlet distribution for each age-level, wave 2 income combination</span></span>
<span id="cb28-12"><a href="paramset.html#cb28-12" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Thus we loop through age and income level and run the appropriate Dirichlet</span></span>
<span id="cb28-13"><a href="paramset.html#cb28-13" aria-hidden="true" tabindex="-1"></a>  <span class="do">## The idea here is that, for people at age X, income level Y --&gt; what proportion transition to income level Z</span></span>
<span id="cb28-14"><a href="paramset.html#cb28-14" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(age_level <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>age_types){</span>
<span id="cb28-15"><a href="paramset.html#cb28-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span>(income_level <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>){</span>
<span id="cb28-16"><a href="paramset.html#cb28-16" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb28-17"><a href="paramset.html#cb28-17" aria-hidden="true" tabindex="-1"></a>      <span class="do">## Run the Dirichlet sample and store the results</span></span>
<span id="cb28-18"><a href="paramset.html#cb28-18" aria-hidden="true" tabindex="-1"></a>      temp[age_level,income_level,] <span class="ot">&lt;-</span> <span class="fu">rdirichlet</span>(<span class="dv">1</span>, alpha_income_transitions[age_level,income_level,])</span>
<span id="cb28-19"><a href="paramset.html#cb28-19" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb28-20"><a href="paramset.html#cb28-20" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb28-21"><a href="paramset.html#cb28-21" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb28-22"><a href="paramset.html#cb28-22" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb28-23"><a href="paramset.html#cb28-23" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Finally, we store the full sampling results in the appropriate row of the data frame containing the sampled values</span></span>
<span id="cb28-24"><a href="paramset.html#cb28-24" aria-hidden="true" tabindex="-1"></a>  income_transitions_sample[i,] <span class="ot">&lt;-</span> <span class="fu">toVector</span>(temp)</span>
<span id="cb28-25"><a href="paramset.html#cb28-25" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="cigarette-transitions-sample" class="section level3" number="4.8.2">
<h3><span class="header-section-number">4.8.2</span> Cigarette Transitions Sample</h3>
<p>This process mirrors the previous, in which we sample our absolute cigarette transition proportions based on the alpha_cigarette_transitions object defined previously. We will need to convert these proportions to rates at a later step.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="paramset.html#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Allocate memory for storing our results</span></span>
<span id="cb29-2"><a href="paramset.html#cb29-2" aria-hidden="true" tabindex="-1"></a>cigarette_transitions_sample <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">nrow =</span> sampling_number, <span class="at">ncol =</span> cigarette_types<span class="sc">*</span>cigarette_types)</span>
<span id="cb29-3"><a href="paramset.html#cb29-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-4"><a href="paramset.html#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="do">## For each parameter set, we will do the following</span></span>
<span id="cb29-5"><a href="paramset.html#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>sampling_number){</span>
<span id="cb29-6"><a href="paramset.html#cb29-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb29-7"><a href="paramset.html#cb29-7" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Allocate memory for the sampled transition proportions</span></span>
<span id="cb29-8"><a href="paramset.html#cb29-8" aria-hidden="true" tabindex="-1"></a>  temp <span class="ot">&lt;-</span> <span class="fu">toArray</span>(<span class="fu">rep</span>(<span class="dv">0</span>,cigarette_types<span class="sc">*</span>cigarette_types),<span class="at">dim=</span><span class="fu">c</span>(cigarette_types,cigarette_types))</span>
<span id="cb29-9"><a href="paramset.html#cb29-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb29-10"><a href="paramset.html#cb29-10" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Loop through each age, wave 2 cigarette level</span></span>
<span id="cb29-11"><a href="paramset.html#cb29-11" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(age_level <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>age_types){</span>
<span id="cb29-12"><a href="paramset.html#cb29-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span>(cigarette_level <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>cigarette_types){</span>
<span id="cb29-13"><a href="paramset.html#cb29-13" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb29-14"><a href="paramset.html#cb29-14" aria-hidden="true" tabindex="-1"></a>      <span class="do">## Sample the proportion that transition to each cigarette level Z</span></span>
<span id="cb29-15"><a href="paramset.html#cb29-15" aria-hidden="true" tabindex="-1"></a>      temp[cigarette_level,] <span class="ot">&lt;-</span> <span class="fu">rdirichlet</span>(<span class="dv">1</span>, alpha_cigarette_transitions[cigarette_level,])</span>
<span id="cb29-16"><a href="paramset.html#cb29-16" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb29-17"><a href="paramset.html#cb29-17" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb29-18"><a href="paramset.html#cb29-18" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb29-19"><a href="paramset.html#cb29-19" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb29-20"><a href="paramset.html#cb29-20" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Store the results</span></span>
<span id="cb29-21"><a href="paramset.html#cb29-21" aria-hidden="true" tabindex="-1"></a>  cigarette_transitions_sample[i,] <span class="ot">&lt;-</span> <span class="fu">toVector</span>(temp)</span>
<span id="cb29-22"><a href="paramset.html#cb29-22" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="e-cigarette-transitions-sample" class="section level3" number="4.8.3">
<h3><span class="header-section-number">4.8.3</span> E-Cigarette Transitions Sample</h3>
<p>Same idea as above, now sampling e-cigarette transition proportions. Will need to be converted to rates at a later step.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="paramset.html#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Allocate memory for the results</span></span>
<span id="cb30-2"><a href="paramset.html#cb30-2" aria-hidden="true" tabindex="-1"></a>e_cigarette_transitions_sample <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">nrow =</span> sampling_number, <span class="at">ncol =</span> e_cigarette_types<span class="sc">*</span>e_cigarette_types)</span>
<span id="cb30-3"><a href="paramset.html#cb30-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-4"><a href="paramset.html#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="do">## For each parameter set we repeat the following</span></span>
<span id="cb30-5"><a href="paramset.html#cb30-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>sampling_number){</span>
<span id="cb30-6"><a href="paramset.html#cb30-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb30-7"><a href="paramset.html#cb30-7" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Allocate memory for the results</span></span>
<span id="cb30-8"><a href="paramset.html#cb30-8" aria-hidden="true" tabindex="-1"></a>  temp <span class="ot">&lt;-</span> <span class="fu">toArray</span>(<span class="fu">rep</span>(<span class="dv">0</span>,e_cigarette_types<span class="sc">*</span>e_cigarette_types),<span class="at">dim=</span><span class="fu">c</span>(e_cigarette_types,e_cigarette_types))</span>
<span id="cb30-9"><a href="paramset.html#cb30-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb30-10"><a href="paramset.html#cb30-10" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Loop through each age, wave 2 e-cigarette level</span></span>
<span id="cb30-11"><a href="paramset.html#cb30-11" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(age_level <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>age_types){</span>
<span id="cb30-12"><a href="paramset.html#cb30-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span>(e_cigarette_level <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>e_cigarette_types){</span>
<span id="cb30-13"><a href="paramset.html#cb30-13" aria-hidden="true" tabindex="-1"></a>      <span class="do">## Sample the proportion that transition to each e-cigarette level Z</span></span>
<span id="cb30-14"><a href="paramset.html#cb30-14" aria-hidden="true" tabindex="-1"></a>      temp[e_cigarette_level,] <span class="ot">&lt;-</span> <span class="fu">rdirichlet</span>(<span class="dv">1</span>, alpha_e_cigarette_transitions[e_cigarette_level,])</span>
<span id="cb30-15"><a href="paramset.html#cb30-15" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb30-16"><a href="paramset.html#cb30-16" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb30-17"><a href="paramset.html#cb30-17" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb30-18"><a href="paramset.html#cb30-18" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb30-19"><a href="paramset.html#cb30-19" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Save the results for later sampling</span></span>
<span id="cb30-20"><a href="paramset.html#cb30-20" aria-hidden="true" tabindex="-1"></a>  e_cigarette_transitions_sample[i,] <span class="ot">&lt;-</span> <span class="fu">toVector</span>(temp)</span>
<span id="cb30-21"><a href="paramset.html#cb30-21" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="sampling-relative-risks" class="section level3" number="4.8.4">
<h3><span class="header-section-number">4.8.4</span> Sampling Relative Risks</h3>
<p>In total we fit 6 regressions total and each model has 5 predictors of interest and each predictor was categorical with between 2 and 6 categorical levels. In total, this means we have around 100 relative risks that we need to sample<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a>. In the next code chunk, the sampling of every relative risk is documented. It is done in a single code chunk to reduce redundancy in the description and comments are provided in the code to indicate what each section corresponds to.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="paramset.html#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-2"><a href="paramset.html#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="do">## First we sample RRs for cigarette initiation. We have: age, sex, income, change in income, and e-cigarette use RRs to sample</span></span>
<span id="cb31-3"><a href="paramset.html#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-4"><a href="paramset.html#cb31-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-5"><a href="paramset.html#cb31-5" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-6"><a href="paramset.html#cb31-6" aria-hidden="true" tabindex="-1"></a><span class="do">## Cigarette Initiation: Age</span></span>
<span id="cb31-7"><a href="paramset.html#cb31-7" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-8"><a href="paramset.html#cb31-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-9"><a href="paramset.html#cb31-9" aria-hidden="true" tabindex="-1"></a><span class="do">## First allocate memory to store the results</span></span>
<span id="cb31-10"><a href="paramset.html#cb31-10" aria-hidden="true" tabindex="-1"></a><span class="do">## The number of rows correspond to the number of parameter sets being sampled</span></span>
<span id="cb31-11"><a href="paramset.html#cb31-11" aria-hidden="true" tabindex="-1"></a><span class="do">## The number of columns correspond to the number of age categories that RRs are needed for</span></span>
<span id="cb31-12"><a href="paramset.html#cb31-12" aria-hidden="true" tabindex="-1"></a>rr_cigarette_initiation_age_point_estimates_sample <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">nrow =</span> sampling_number, <span class="at">ncol =</span> age_types)</span>
<span id="cb31-13"><a href="paramset.html#cb31-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-14"><a href="paramset.html#cb31-14" aria-hidden="true" tabindex="-1"></a><span class="do">## Next, assign the referent group an RR of 1</span></span>
<span id="cb31-15"><a href="paramset.html#cb31-15" aria-hidden="true" tabindex="-1"></a>rr_cigarette_initiation_age_point_estimates_sample[,<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb31-16"><a href="paramset.html#cb31-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-17"><a href="paramset.html#cb31-17" aria-hidden="true" tabindex="-1"></a><span class="do">## Then, for each of the other 5 age categories, we sample RRs from the log-relative risk and standard errors extracted from the cigarette initiation model earlier</span></span>
<span id="cb31-18"><a href="paramset.html#cb31-18" aria-hidden="true" tabindex="-1"></a><span class="do">## We exponentiate the values in order to get relative risks (as opposed to log relative risks)</span></span>
<span id="cb31-19"><a href="paramset.html#cb31-19" aria-hidden="true" tabindex="-1"></a><span class="do">## We do this separately for each age category</span></span>
<span id="cb31-20"><a href="paramset.html#cb31-20" aria-hidden="true" tabindex="-1"></a>rr_cigarette_initiation_age_point_estimates_sample[,<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-21"><a href="paramset.html#cb31-21" aria-hidden="true" tabindex="-1"></a>                                                                    <span class="at">mean =</span>  rr_cigarette_initiation_age_point_estimates[<span class="dv">2</span>], </span>
<span id="cb31-22"><a href="paramset.html#cb31-22" aria-hidden="true" tabindex="-1"></a>                                                                    <span class="at">sd =</span> rr_cigarette_initiation_age_standard_errors[<span class="dv">2</span>]))</span>
<span id="cb31-23"><a href="paramset.html#cb31-23" aria-hidden="true" tabindex="-1"></a>rr_cigarette_initiation_age_point_estimates_sample[,<span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-24"><a href="paramset.html#cb31-24" aria-hidden="true" tabindex="-1"></a>                                                                    <span class="at">mean =</span>  rr_cigarette_initiation_age_point_estimates[<span class="dv">3</span>], </span>
<span id="cb31-25"><a href="paramset.html#cb31-25" aria-hidden="true" tabindex="-1"></a>                                                                    <span class="at">sd =</span> rr_cigarette_initiation_age_standard_errors[<span class="dv">3</span>]))</span>
<span id="cb31-26"><a href="paramset.html#cb31-26" aria-hidden="true" tabindex="-1"></a>rr_cigarette_initiation_age_point_estimates_sample[,<span class="dv">4</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-27"><a href="paramset.html#cb31-27" aria-hidden="true" tabindex="-1"></a>                                                                    <span class="at">mean =</span>  rr_cigarette_initiation_age_point_estimates[<span class="dv">4</span>], </span>
<span id="cb31-28"><a href="paramset.html#cb31-28" aria-hidden="true" tabindex="-1"></a>                                                                    <span class="at">sd =</span> rr_cigarette_initiation_age_standard_errors[<span class="dv">4</span>]))</span>
<span id="cb31-29"><a href="paramset.html#cb31-29" aria-hidden="true" tabindex="-1"></a>rr_cigarette_initiation_age_point_estimates_sample[,<span class="dv">5</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-30"><a href="paramset.html#cb31-30" aria-hidden="true" tabindex="-1"></a>                                                                    <span class="at">mean =</span>  rr_cigarette_initiation_age_point_estimates[<span class="dv">5</span>], </span>
<span id="cb31-31"><a href="paramset.html#cb31-31" aria-hidden="true" tabindex="-1"></a>                                                                    <span class="at">sd =</span> rr_cigarette_initiation_age_standard_errors[<span class="dv">5</span>]))</span>
<span id="cb31-32"><a href="paramset.html#cb31-32" aria-hidden="true" tabindex="-1"></a>rr_cigarette_initiation_age_point_estimates_sample[,<span class="dv">6</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-33"><a href="paramset.html#cb31-33" aria-hidden="true" tabindex="-1"></a>                                                                    <span class="at">mean =</span>  rr_cigarette_initiation_age_point_estimates[<span class="dv">6</span>], </span>
<span id="cb31-34"><a href="paramset.html#cb31-34" aria-hidden="true" tabindex="-1"></a>                                                                    <span class="at">sd =</span> rr_cigarette_initiation_age_standard_errors[<span class="dv">6</span>]))</span>
<span id="cb31-35"><a href="paramset.html#cb31-35" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-36"><a href="paramset.html#cb31-36" aria-hidden="true" tabindex="-1"></a><span class="do">## Cigarette Initiation: Sex</span></span>
<span id="cb31-37"><a href="paramset.html#cb31-37" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-38"><a href="paramset.html#cb31-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-39"><a href="paramset.html#cb31-39" aria-hidden="true" tabindex="-1"></a><span class="do">## First we allocate memory for the sampled RRs</span></span>
<span id="cb31-40"><a href="paramset.html#cb31-40" aria-hidden="true" tabindex="-1"></a>rr_cigarette_initiation_sex_point_estimates_sample <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">nrow =</span> sampling_number, <span class="at">ncol =</span> sex_types)</span>
<span id="cb31-41"><a href="paramset.html#cb31-41" aria-hidden="true" tabindex="-1"></a><span class="do">## We assign 1 as the RRs for the referent group</span></span>
<span id="cb31-42"><a href="paramset.html#cb31-42" aria-hidden="true" tabindex="-1"></a>rr_cigarette_initiation_sex_point_estimates_sample[,<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb31-43"><a href="paramset.html#cb31-43" aria-hidden="true" tabindex="-1"></a><span class="do">## Then we sample the RRs for the other category level (in this case, corresponding to being female)</span></span>
<span id="cb31-44"><a href="paramset.html#cb31-44" aria-hidden="true" tabindex="-1"></a>rr_cigarette_initiation_sex_point_estimates_sample[,<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-45"><a href="paramset.html#cb31-45" aria-hidden="true" tabindex="-1"></a>                                                                    <span class="at">mean =</span>  rr_cigarette_initiation_sex_point_estimates[<span class="dv">2</span>], </span>
<span id="cb31-46"><a href="paramset.html#cb31-46" aria-hidden="true" tabindex="-1"></a>                                                                    <span class="at">sd =</span> rr_cigarette_initiation_sex_standard_errors[<span class="dv">2</span>]))</span>
<span id="cb31-47"><a href="paramset.html#cb31-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-48"><a href="paramset.html#cb31-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-49"><a href="paramset.html#cb31-49" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-50"><a href="paramset.html#cb31-50" aria-hidden="true" tabindex="-1"></a><span class="do">## Cigarette Initiation: Income Level</span></span>
<span id="cb31-51"><a href="paramset.html#cb31-51" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-52"><a href="paramset.html#cb31-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-53"><a href="paramset.html#cb31-53" aria-hidden="true" tabindex="-1"></a><span class="do">## Allocate memory</span></span>
<span id="cb31-54"><a href="paramset.html#cb31-54" aria-hidden="true" tabindex="-1"></a>rr_cigarette_initiation_income_point_estimates_sample <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">nrow =</span> sampling_number, <span class="at">ncol =</span> <span class="dv">5</span>)</span>
<span id="cb31-55"><a href="paramset.html#cb31-55" aria-hidden="true" tabindex="-1"></a><span class="do">## Set the referent RRs to 1</span></span>
<span id="cb31-56"><a href="paramset.html#cb31-56" aria-hidden="true" tabindex="-1"></a>rr_cigarette_initiation_income_point_estimates_sample[,<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb31-57"><a href="paramset.html#cb31-57" aria-hidden="true" tabindex="-1"></a><span class="do">## Then sample the RRs</span></span>
<span id="cb31-58"><a href="paramset.html#cb31-58" aria-hidden="true" tabindex="-1"></a>rr_cigarette_initiation_income_point_estimates_sample[,<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-59"><a href="paramset.html#cb31-59" aria-hidden="true" tabindex="-1"></a>                                                                       <span class="at">mean =</span>  rr_cigarette_initiation_income_point_estimates[<span class="dv">2</span>], </span>
<span id="cb31-60"><a href="paramset.html#cb31-60" aria-hidden="true" tabindex="-1"></a>                                                                       <span class="at">sd =</span> rr_cigarette_initiation_income_standard_errors[<span class="dv">2</span>]))</span>
<span id="cb31-61"><a href="paramset.html#cb31-61" aria-hidden="true" tabindex="-1"></a>rr_cigarette_initiation_income_point_estimates_sample[,<span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-62"><a href="paramset.html#cb31-62" aria-hidden="true" tabindex="-1"></a>                                                                       <span class="at">mean =</span>  rr_cigarette_initiation_income_point_estimates[<span class="dv">3</span>], </span>
<span id="cb31-63"><a href="paramset.html#cb31-63" aria-hidden="true" tabindex="-1"></a>                                                                       <span class="at">sd =</span> rr_cigarette_initiation_income_standard_errors[<span class="dv">3</span>]))</span>
<span id="cb31-64"><a href="paramset.html#cb31-64" aria-hidden="true" tabindex="-1"></a>rr_cigarette_initiation_income_point_estimates_sample[,<span class="dv">4</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-65"><a href="paramset.html#cb31-65" aria-hidden="true" tabindex="-1"></a>                                                                       <span class="at">mean =</span>  rr_cigarette_initiation_income_point_estimates[<span class="dv">4</span>], </span>
<span id="cb31-66"><a href="paramset.html#cb31-66" aria-hidden="true" tabindex="-1"></a>                                                                       <span class="at">sd =</span> rr_cigarette_initiation_income_standard_errors[<span class="dv">4</span>]))</span>
<span id="cb31-67"><a href="paramset.html#cb31-67" aria-hidden="true" tabindex="-1"></a>rr_cigarette_initiation_income_point_estimates_sample[,<span class="dv">5</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-68"><a href="paramset.html#cb31-68" aria-hidden="true" tabindex="-1"></a>                                                                       <span class="at">mean =</span>  rr_cigarette_initiation_income_point_estimates[<span class="dv">5</span>], </span>
<span id="cb31-69"><a href="paramset.html#cb31-69" aria-hidden="true" tabindex="-1"></a>                                                                       <span class="at">sd =</span> rr_cigarette_initiation_income_standard_errors[<span class="dv">5</span>]))</span>
<span id="cb31-70"><a href="paramset.html#cb31-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-71"><a href="paramset.html#cb31-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-72"><a href="paramset.html#cb31-72" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-73"><a href="paramset.html#cb31-73" aria-hidden="true" tabindex="-1"></a><span class="do">## Cigarette Initiation: Income Change</span></span>
<span id="cb31-74"><a href="paramset.html#cb31-74" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-75"><a href="paramset.html#cb31-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-76"><a href="paramset.html#cb31-76" aria-hidden="true" tabindex="-1"></a><span class="do">## Allocate memory</span></span>
<span id="cb31-77"><a href="paramset.html#cb31-77" aria-hidden="true" tabindex="-1"></a>rr_cigarette_initiation_income_change_point_estimates_sample <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">nrow =</span> sampling_number, <span class="at">ncol =</span> <span class="dv">3</span>)</span>
<span id="cb31-78"><a href="paramset.html#cb31-78" aria-hidden="true" tabindex="-1"></a><span class="do">## Set the referent to 1</span></span>
<span id="cb31-79"><a href="paramset.html#cb31-79" aria-hidden="true" tabindex="-1"></a>rr_cigarette_initiation_income_change_point_estimates_sample[,<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb31-80"><a href="paramset.html#cb31-80" aria-hidden="true" tabindex="-1"></a><span class="do">## Sample the RRs from the regression results</span></span>
<span id="cb31-81"><a href="paramset.html#cb31-81" aria-hidden="true" tabindex="-1"></a>rr_cigarette_initiation_income_change_point_estimates_sample[,<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-82"><a href="paramset.html#cb31-82" aria-hidden="true" tabindex="-1"></a>                                                                              <span class="at">mean =</span>  rr_cigarette_initiation_income_change_point_estimates[<span class="dv">2</span>], </span>
<span id="cb31-83"><a href="paramset.html#cb31-83" aria-hidden="true" tabindex="-1"></a>                                                                              <span class="at">sd =</span> rr_cigarette_initiation_income_change_standard_errors[<span class="dv">2</span>]))</span>
<span id="cb31-84"><a href="paramset.html#cb31-84" aria-hidden="true" tabindex="-1"></a>rr_cigarette_initiation_income_change_point_estimates_sample[,<span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-85"><a href="paramset.html#cb31-85" aria-hidden="true" tabindex="-1"></a>                                                                              <span class="at">mean =</span>  rr_cigarette_initiation_income_change_point_estimates[<span class="dv">3</span>], </span>
<span id="cb31-86"><a href="paramset.html#cb31-86" aria-hidden="true" tabindex="-1"></a>                                                                              <span class="at">sd =</span> rr_cigarette_initiation_income_change_standard_errors[<span class="dv">3</span>]))</span>
<span id="cb31-87"><a href="paramset.html#cb31-87" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-88"><a href="paramset.html#cb31-88" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-89"><a href="paramset.html#cb31-89" aria-hidden="true" tabindex="-1"></a><span class="do">## Cigarette Initiation: E-Cigarette Use </span></span>
<span id="cb31-90"><a href="paramset.html#cb31-90" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-91"><a href="paramset.html#cb31-91" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-92"><a href="paramset.html#cb31-92" aria-hidden="true" tabindex="-1"></a><span class="do">## Allocate the memory</span></span>
<span id="cb31-93"><a href="paramset.html#cb31-93" aria-hidden="true" tabindex="-1"></a>rr_cigarette_initiation_e_cig_point_estimates_sample <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">nrow =</span> sampling_number, <span class="at">ncol =</span> e_cigarette_types)</span>
<span id="cb31-94"><a href="paramset.html#cb31-94" aria-hidden="true" tabindex="-1"></a><span class="do">## Set the referent class RRs to 1</span></span>
<span id="cb31-95"><a href="paramset.html#cb31-95" aria-hidden="true" tabindex="-1"></a>rr_cigarette_initiation_e_cig_point_estimates_sample[,<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb31-96"><a href="paramset.html#cb31-96" aria-hidden="true" tabindex="-1"></a><span class="do">## Sample the RRs from the regression results</span></span>
<span id="cb31-97"><a href="paramset.html#cb31-97" aria-hidden="true" tabindex="-1"></a>rr_cigarette_initiation_e_cig_point_estimates_sample[,<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-98"><a href="paramset.html#cb31-98" aria-hidden="true" tabindex="-1"></a>                                                                      <span class="at">mean =</span>  rr_cigarette_initiation_e_cig_point_estimates[<span class="dv">2</span>], </span>
<span id="cb31-99"><a href="paramset.html#cb31-99" aria-hidden="true" tabindex="-1"></a>                                                                      <span class="at">sd =</span> rr_cigarette_initiation_e_cig_standard_errors[<span class="dv">2</span>]))</span>
<span id="cb31-100"><a href="paramset.html#cb31-100" aria-hidden="true" tabindex="-1"></a>rr_cigarette_initiation_e_cig_point_estimates_sample[,<span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-101"><a href="paramset.html#cb31-101" aria-hidden="true" tabindex="-1"></a>                                                                      <span class="at">mean =</span>  rr_cigarette_initiation_e_cig_point_estimates[<span class="dv">3</span>], </span>
<span id="cb31-102"><a href="paramset.html#cb31-102" aria-hidden="true" tabindex="-1"></a>                                                                      <span class="at">sd =</span> rr_cigarette_initiation_e_cig_standard_errors[<span class="dv">3</span>]))</span>
<span id="cb31-103"><a href="paramset.html#cb31-103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-104"><a href="paramset.html#cb31-104" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-105"><a href="paramset.html#cb31-105" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-106"><a href="paramset.html#cb31-106" aria-hidden="true" tabindex="-1"></a><span class="do">## From this point forward (in this code chunk), comments will only indicate which parameters are being sampled</span></span>
<span id="cb31-107"><a href="paramset.html#cb31-107" aria-hidden="true" tabindex="-1"></a><span class="do">## Detailed notes for the prior code in this chunk correspond to the code throughout</span></span>
<span id="cb31-108"><a href="paramset.html#cb31-108" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-109"><a href="paramset.html#cb31-109" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-110"><a href="paramset.html#cb31-110" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-111"><a href="paramset.html#cb31-111" aria-hidden="true" tabindex="-1"></a><span class="do">## Cigarette Cessation: Age</span></span>
<span id="cb31-112"><a href="paramset.html#cb31-112" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-113"><a href="paramset.html#cb31-113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-114"><a href="paramset.html#cb31-114" aria-hidden="true" tabindex="-1"></a>rr_cigarette_cessation_age_point_estimates_sample <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">nrow =</span> sampling_number, <span class="at">ncol =</span> age_types)</span>
<span id="cb31-115"><a href="paramset.html#cb31-115" aria-hidden="true" tabindex="-1"></a>rr_cigarette_cessation_age_point_estimates_sample[,<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb31-116"><a href="paramset.html#cb31-116" aria-hidden="true" tabindex="-1"></a>rr_cigarette_cessation_age_point_estimates_sample[,<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-117"><a href="paramset.html#cb31-117" aria-hidden="true" tabindex="-1"></a>                                                                   <span class="at">mean =</span>  rr_cigarette_cessation_age_point_estimates[<span class="dv">2</span>], </span>
<span id="cb31-118"><a href="paramset.html#cb31-118" aria-hidden="true" tabindex="-1"></a>                                                                   <span class="at">sd =</span> rr_cigarette_cessation_age_standard_errors[<span class="dv">2</span>]))</span>
<span id="cb31-119"><a href="paramset.html#cb31-119" aria-hidden="true" tabindex="-1"></a>rr_cigarette_cessation_age_point_estimates_sample[,<span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-120"><a href="paramset.html#cb31-120" aria-hidden="true" tabindex="-1"></a>                                                                   <span class="at">mean =</span>  rr_cigarette_cessation_age_point_estimates[<span class="dv">3</span>], </span>
<span id="cb31-121"><a href="paramset.html#cb31-121" aria-hidden="true" tabindex="-1"></a>                                                                   <span class="at">sd =</span> rr_cigarette_cessation_age_standard_errors[<span class="dv">3</span>]))</span>
<span id="cb31-122"><a href="paramset.html#cb31-122" aria-hidden="true" tabindex="-1"></a>rr_cigarette_cessation_age_point_estimates_sample[,<span class="dv">4</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-123"><a href="paramset.html#cb31-123" aria-hidden="true" tabindex="-1"></a>                                                                   <span class="at">mean =</span>  rr_cigarette_cessation_age_point_estimates[<span class="dv">4</span>], </span>
<span id="cb31-124"><a href="paramset.html#cb31-124" aria-hidden="true" tabindex="-1"></a>                                                                   <span class="at">sd =</span> rr_cigarette_cessation_age_standard_errors[<span class="dv">4</span>]))</span>
<span id="cb31-125"><a href="paramset.html#cb31-125" aria-hidden="true" tabindex="-1"></a>rr_cigarette_cessation_age_point_estimates_sample[,<span class="dv">5</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-126"><a href="paramset.html#cb31-126" aria-hidden="true" tabindex="-1"></a>                                                                   <span class="at">mean =</span>  rr_cigarette_cessation_age_point_estimates[<span class="dv">5</span>], </span>
<span id="cb31-127"><a href="paramset.html#cb31-127" aria-hidden="true" tabindex="-1"></a>                                                                   <span class="at">sd =</span> rr_cigarette_cessation_age_standard_errors[<span class="dv">5</span>]))</span>
<span id="cb31-128"><a href="paramset.html#cb31-128" aria-hidden="true" tabindex="-1"></a>rr_cigarette_cessation_age_point_estimates_sample[,<span class="dv">6</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-129"><a href="paramset.html#cb31-129" aria-hidden="true" tabindex="-1"></a>                                                                   <span class="at">mean =</span>  rr_cigarette_cessation_age_point_estimates[<span class="dv">6</span>], </span>
<span id="cb31-130"><a href="paramset.html#cb31-130" aria-hidden="true" tabindex="-1"></a>                                                                   <span class="at">sd =</span> rr_cigarette_cessation_age_standard_errors[<span class="dv">6</span>]))</span>
<span id="cb31-131"><a href="paramset.html#cb31-131" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-132"><a href="paramset.html#cb31-132" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-133"><a href="paramset.html#cb31-133" aria-hidden="true" tabindex="-1"></a><span class="do">## Cigarette Cessation: Sex</span></span>
<span id="cb31-134"><a href="paramset.html#cb31-134" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-135"><a href="paramset.html#cb31-135" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-136"><a href="paramset.html#cb31-136" aria-hidden="true" tabindex="-1"></a>rr_cigarette_cessation_sex_point_estimates_sample <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">nrow =</span> sampling_number, <span class="at">ncol =</span> sex_types)</span>
<span id="cb31-137"><a href="paramset.html#cb31-137" aria-hidden="true" tabindex="-1"></a>rr_cigarette_cessation_sex_point_estimates_sample[,<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb31-138"><a href="paramset.html#cb31-138" aria-hidden="true" tabindex="-1"></a>rr_cigarette_cessation_sex_point_estimates_sample[,<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-139"><a href="paramset.html#cb31-139" aria-hidden="true" tabindex="-1"></a>                                                                   <span class="at">mean =</span>  rr_cigarette_cessation_sex_point_estimates[<span class="dv">2</span>], </span>
<span id="cb31-140"><a href="paramset.html#cb31-140" aria-hidden="true" tabindex="-1"></a>                                                                   <span class="at">sd =</span> rr_cigarette_cessation_sex_standard_errors[<span class="dv">2</span>]))</span>
<span id="cb31-141"><a href="paramset.html#cb31-141" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-142"><a href="paramset.html#cb31-142" aria-hidden="true" tabindex="-1"></a><span class="do">## Cigarette Cessation: Income Level</span></span>
<span id="cb31-143"><a href="paramset.html#cb31-143" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-144"><a href="paramset.html#cb31-144" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-145"><a href="paramset.html#cb31-145" aria-hidden="true" tabindex="-1"></a>rr_cigarette_cessation_income_point_estimates_sample <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">nrow =</span> sampling_number, <span class="at">ncol =</span> <span class="dv">5</span>)</span>
<span id="cb31-146"><a href="paramset.html#cb31-146" aria-hidden="true" tabindex="-1"></a>rr_cigarette_cessation_income_point_estimates_sample[,<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb31-147"><a href="paramset.html#cb31-147" aria-hidden="true" tabindex="-1"></a>rr_cigarette_cessation_income_point_estimates_sample[,<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-148"><a href="paramset.html#cb31-148" aria-hidden="true" tabindex="-1"></a>                                                                      <span class="at">mean =</span>  rr_cigarette_cessation_income_point_estimates[<span class="dv">2</span>], </span>
<span id="cb31-149"><a href="paramset.html#cb31-149" aria-hidden="true" tabindex="-1"></a>                                                                      <span class="at">sd =</span> rr_cigarette_cessation_income_standard_errors[<span class="dv">2</span>]))</span>
<span id="cb31-150"><a href="paramset.html#cb31-150" aria-hidden="true" tabindex="-1"></a>rr_cigarette_cessation_income_point_estimates_sample[,<span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-151"><a href="paramset.html#cb31-151" aria-hidden="true" tabindex="-1"></a>                                                                      <span class="at">mean =</span>  rr_cigarette_cessation_income_point_estimates[<span class="dv">3</span>], </span>
<span id="cb31-152"><a href="paramset.html#cb31-152" aria-hidden="true" tabindex="-1"></a>                                                                      <span class="at">sd =</span> rr_cigarette_cessation_income_standard_errors[<span class="dv">3</span>]))</span>
<span id="cb31-153"><a href="paramset.html#cb31-153" aria-hidden="true" tabindex="-1"></a>rr_cigarette_cessation_income_point_estimates_sample[,<span class="dv">4</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-154"><a href="paramset.html#cb31-154" aria-hidden="true" tabindex="-1"></a>                                                                      <span class="at">mean =</span>  rr_cigarette_cessation_income_point_estimates[<span class="dv">4</span>], </span>
<span id="cb31-155"><a href="paramset.html#cb31-155" aria-hidden="true" tabindex="-1"></a>                                                                      <span class="at">sd =</span> rr_cigarette_cessation_income_standard_errors[<span class="dv">4</span>]))</span>
<span id="cb31-156"><a href="paramset.html#cb31-156" aria-hidden="true" tabindex="-1"></a>rr_cigarette_cessation_income_point_estimates_sample[,<span class="dv">5</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-157"><a href="paramset.html#cb31-157" aria-hidden="true" tabindex="-1"></a>                                                                      <span class="at">mean =</span>  rr_cigarette_cessation_income_point_estimates[<span class="dv">5</span>], </span>
<span id="cb31-158"><a href="paramset.html#cb31-158" aria-hidden="true" tabindex="-1"></a>                                                                      <span class="at">sd =</span> rr_cigarette_cessation_income_standard_errors[<span class="dv">5</span>]))</span>
<span id="cb31-159"><a href="paramset.html#cb31-159" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-160"><a href="paramset.html#cb31-160" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-161"><a href="paramset.html#cb31-161" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-162"><a href="paramset.html#cb31-162" aria-hidden="true" tabindex="-1"></a><span class="do">## Cigarette Cessation: Income Change</span></span>
<span id="cb31-163"><a href="paramset.html#cb31-163" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-164"><a href="paramset.html#cb31-164" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-165"><a href="paramset.html#cb31-165" aria-hidden="true" tabindex="-1"></a>rr_cigarette_cessation_income_change_point_estimates_sample <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">nrow =</span> sampling_number, <span class="at">ncol =</span> <span class="dv">3</span>)</span>
<span id="cb31-166"><a href="paramset.html#cb31-166" aria-hidden="true" tabindex="-1"></a>rr_cigarette_cessation_income_change_point_estimates_sample[,<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb31-167"><a href="paramset.html#cb31-167" aria-hidden="true" tabindex="-1"></a>rr_cigarette_cessation_income_change_point_estimates_sample[,<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-168"><a href="paramset.html#cb31-168" aria-hidden="true" tabindex="-1"></a>                                                                             <span class="at">mean =</span>  rr_cigarette_cessation_income_change_point_estimates[<span class="dv">2</span>], </span>
<span id="cb31-169"><a href="paramset.html#cb31-169" aria-hidden="true" tabindex="-1"></a>                                                                             <span class="at">sd =</span> rr_cigarette_cessation_income_change_standard_errors[<span class="dv">2</span>]))</span>
<span id="cb31-170"><a href="paramset.html#cb31-170" aria-hidden="true" tabindex="-1"></a>rr_cigarette_cessation_income_change_point_estimates_sample[,<span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-171"><a href="paramset.html#cb31-171" aria-hidden="true" tabindex="-1"></a>                                                                             <span class="at">mean =</span>  rr_cigarette_cessation_income_change_point_estimates[<span class="dv">3</span>], </span>
<span id="cb31-172"><a href="paramset.html#cb31-172" aria-hidden="true" tabindex="-1"></a>                                                                             <span class="at">sd =</span> rr_cigarette_cessation_income_change_standard_errors[<span class="dv">3</span>]))</span>
<span id="cb31-173"><a href="paramset.html#cb31-173" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-174"><a href="paramset.html#cb31-174" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-175"><a href="paramset.html#cb31-175" aria-hidden="true" tabindex="-1"></a><span class="do">## Cigarette Cessation: E-Cigarette</span></span>
<span id="cb31-176"><a href="paramset.html#cb31-176" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-177"><a href="paramset.html#cb31-177" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-178"><a href="paramset.html#cb31-178" aria-hidden="true" tabindex="-1"></a>rr_cigarette_cessation_e_cig_point_estimates_sample <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">nrow =</span> sampling_number, <span class="at">ncol =</span> e_cigarette_types)</span>
<span id="cb31-179"><a href="paramset.html#cb31-179" aria-hidden="true" tabindex="-1"></a>rr_cigarette_cessation_e_cig_point_estimates_sample[,<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb31-180"><a href="paramset.html#cb31-180" aria-hidden="true" tabindex="-1"></a>rr_cigarette_cessation_e_cig_point_estimates_sample[,<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-181"><a href="paramset.html#cb31-181" aria-hidden="true" tabindex="-1"></a>                                                                     <span class="at">mean =</span>  rr_cigarette_cessation_e_cig_point_estimates[<span class="dv">2</span>], </span>
<span id="cb31-182"><a href="paramset.html#cb31-182" aria-hidden="true" tabindex="-1"></a>                                                                     <span class="at">sd =</span> rr_cigarette_cessation_e_cig_standard_errors[<span class="dv">2</span>]))</span>
<span id="cb31-183"><a href="paramset.html#cb31-183" aria-hidden="true" tabindex="-1"></a>rr_cigarette_cessation_e_cig_point_estimates_sample[,<span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-184"><a href="paramset.html#cb31-184" aria-hidden="true" tabindex="-1"></a>                                                                     <span class="at">mean =</span>  rr_cigarette_cessation_e_cig_point_estimates[<span class="dv">3</span>], </span>
<span id="cb31-185"><a href="paramset.html#cb31-185" aria-hidden="true" tabindex="-1"></a>                                                                     <span class="at">sd =</span> rr_cigarette_cessation_e_cig_standard_errors[<span class="dv">3</span>]))</span>
<span id="cb31-186"><a href="paramset.html#cb31-186" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-187"><a href="paramset.html#cb31-187" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-188"><a href="paramset.html#cb31-188" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-189"><a href="paramset.html#cb31-189" aria-hidden="true" tabindex="-1"></a><span class="do">## Cigarette Reinstatement: Age</span></span>
<span id="cb31-190"><a href="paramset.html#cb31-190" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-191"><a href="paramset.html#cb31-191" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-192"><a href="paramset.html#cb31-192" aria-hidden="true" tabindex="-1"></a>rr_cigarette_reinstatement_age_point_estimates_sample <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">nrow =</span> sampling_number, <span class="at">ncol =</span> age_types)</span>
<span id="cb31-193"><a href="paramset.html#cb31-193" aria-hidden="true" tabindex="-1"></a>rr_cigarette_reinstatement_age_point_estimates_sample[,<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb31-194"><a href="paramset.html#cb31-194" aria-hidden="true" tabindex="-1"></a>rr_cigarette_reinstatement_age_point_estimates_sample[,<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-195"><a href="paramset.html#cb31-195" aria-hidden="true" tabindex="-1"></a>                                                                       <span class="at">mean =</span>  rr_cigarette_reinstatement_age_point_estimates[<span class="dv">2</span>], </span>
<span id="cb31-196"><a href="paramset.html#cb31-196" aria-hidden="true" tabindex="-1"></a>                                                                       <span class="at">sd =</span> rr_cigarette_reinstatement_age_standard_errors[<span class="dv">2</span>]))</span>
<span id="cb31-197"><a href="paramset.html#cb31-197" aria-hidden="true" tabindex="-1"></a>rr_cigarette_reinstatement_age_point_estimates_sample[,<span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-198"><a href="paramset.html#cb31-198" aria-hidden="true" tabindex="-1"></a>                                                                       <span class="at">mean =</span>  rr_cigarette_reinstatement_age_point_estimates[<span class="dv">3</span>], </span>
<span id="cb31-199"><a href="paramset.html#cb31-199" aria-hidden="true" tabindex="-1"></a>                                                                       <span class="at">sd =</span> rr_cigarette_reinstatement_age_standard_errors[<span class="dv">3</span>]))</span>
<span id="cb31-200"><a href="paramset.html#cb31-200" aria-hidden="true" tabindex="-1"></a>rr_cigarette_reinstatement_age_point_estimates_sample[,<span class="dv">4</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-201"><a href="paramset.html#cb31-201" aria-hidden="true" tabindex="-1"></a>                                                                       <span class="at">mean =</span>  rr_cigarette_reinstatement_age_point_estimates[<span class="dv">4</span>], </span>
<span id="cb31-202"><a href="paramset.html#cb31-202" aria-hidden="true" tabindex="-1"></a>                                                                       <span class="at">sd =</span> rr_cigarette_reinstatement_age_standard_errors[<span class="dv">4</span>]))</span>
<span id="cb31-203"><a href="paramset.html#cb31-203" aria-hidden="true" tabindex="-1"></a>rr_cigarette_reinstatement_age_point_estimates_sample[,<span class="dv">5</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-204"><a href="paramset.html#cb31-204" aria-hidden="true" tabindex="-1"></a>                                                                       <span class="at">mean =</span>  rr_cigarette_reinstatement_age_point_estimates[<span class="dv">5</span>], </span>
<span id="cb31-205"><a href="paramset.html#cb31-205" aria-hidden="true" tabindex="-1"></a>                                                                       <span class="at">sd =</span> rr_cigarette_reinstatement_age_standard_errors[<span class="dv">5</span>]))</span>
<span id="cb31-206"><a href="paramset.html#cb31-206" aria-hidden="true" tabindex="-1"></a>rr_cigarette_reinstatement_age_point_estimates_sample[,<span class="dv">6</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-207"><a href="paramset.html#cb31-207" aria-hidden="true" tabindex="-1"></a>                                                                       <span class="at">mean =</span>  rr_cigarette_reinstatement_age_point_estimates[<span class="dv">6</span>], </span>
<span id="cb31-208"><a href="paramset.html#cb31-208" aria-hidden="true" tabindex="-1"></a>                                                                       <span class="at">sd =</span> rr_cigarette_reinstatement_age_standard_errors[<span class="dv">6</span>]))</span>
<span id="cb31-209"><a href="paramset.html#cb31-209" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-210"><a href="paramset.html#cb31-210" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-211"><a href="paramset.html#cb31-211" aria-hidden="true" tabindex="-1"></a><span class="do">## Cigarette Reinstatement: Sex</span></span>
<span id="cb31-212"><a href="paramset.html#cb31-212" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-213"><a href="paramset.html#cb31-213" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-214"><a href="paramset.html#cb31-214" aria-hidden="true" tabindex="-1"></a>rr_cigarette_reinstatement_sex_point_estimates_sample <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">nrow =</span> sampling_number, <span class="at">ncol =</span> sex_types)</span>
<span id="cb31-215"><a href="paramset.html#cb31-215" aria-hidden="true" tabindex="-1"></a>rr_cigarette_reinstatement_sex_point_estimates_sample[,<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb31-216"><a href="paramset.html#cb31-216" aria-hidden="true" tabindex="-1"></a>rr_cigarette_reinstatement_sex_point_estimates_sample[,<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-217"><a href="paramset.html#cb31-217" aria-hidden="true" tabindex="-1"></a>                                                                       <span class="at">mean =</span>  rr_cigarette_reinstatement_sex_point_estimates[<span class="dv">2</span>], </span>
<span id="cb31-218"><a href="paramset.html#cb31-218" aria-hidden="true" tabindex="-1"></a>                                                                       <span class="at">sd =</span> rr_cigarette_reinstatement_sex_standard_errors[<span class="dv">2</span>]))</span>
<span id="cb31-219"><a href="paramset.html#cb31-219" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-220"><a href="paramset.html#cb31-220" aria-hidden="true" tabindex="-1"></a><span class="do">## Cigarette Reinstatement: Income Level</span></span>
<span id="cb31-221"><a href="paramset.html#cb31-221" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-222"><a href="paramset.html#cb31-222" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-223"><a href="paramset.html#cb31-223" aria-hidden="true" tabindex="-1"></a>rr_cigarette_reinstatement_income_point_estimates_sample <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">nrow =</span> sampling_number, <span class="at">ncol =</span> <span class="dv">5</span>)</span>
<span id="cb31-224"><a href="paramset.html#cb31-224" aria-hidden="true" tabindex="-1"></a>rr_cigarette_reinstatement_income_point_estimates_sample[,<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb31-225"><a href="paramset.html#cb31-225" aria-hidden="true" tabindex="-1"></a>rr_cigarette_reinstatement_income_point_estimates_sample[,<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-226"><a href="paramset.html#cb31-226" aria-hidden="true" tabindex="-1"></a>                                                                          <span class="at">mean =</span>  rr_cigarette_reinstatement_income_point_estimates[<span class="dv">2</span>], </span>
<span id="cb31-227"><a href="paramset.html#cb31-227" aria-hidden="true" tabindex="-1"></a>                                                                          <span class="at">sd =</span> rr_cigarette_reinstatement_income_standard_errors[<span class="dv">2</span>]))</span>
<span id="cb31-228"><a href="paramset.html#cb31-228" aria-hidden="true" tabindex="-1"></a>rr_cigarette_reinstatement_income_point_estimates_sample[,<span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-229"><a href="paramset.html#cb31-229" aria-hidden="true" tabindex="-1"></a>                                                                          <span class="at">mean =</span>  rr_cigarette_reinstatement_income_point_estimates[<span class="dv">3</span>], </span>
<span id="cb31-230"><a href="paramset.html#cb31-230" aria-hidden="true" tabindex="-1"></a>                                                                          <span class="at">sd =</span> rr_cigarette_reinstatement_income_standard_errors[<span class="dv">3</span>]))</span>
<span id="cb31-231"><a href="paramset.html#cb31-231" aria-hidden="true" tabindex="-1"></a>rr_cigarette_reinstatement_income_point_estimates_sample[,<span class="dv">4</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-232"><a href="paramset.html#cb31-232" aria-hidden="true" tabindex="-1"></a>                                                                          <span class="at">mean =</span>  rr_cigarette_reinstatement_income_point_estimates[<span class="dv">4</span>], </span>
<span id="cb31-233"><a href="paramset.html#cb31-233" aria-hidden="true" tabindex="-1"></a>                                                                          <span class="at">sd =</span> rr_cigarette_reinstatement_income_standard_errors[<span class="dv">4</span>]))</span>
<span id="cb31-234"><a href="paramset.html#cb31-234" aria-hidden="true" tabindex="-1"></a>rr_cigarette_reinstatement_income_point_estimates_sample[,<span class="dv">5</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-235"><a href="paramset.html#cb31-235" aria-hidden="true" tabindex="-1"></a>                                                                          <span class="at">mean =</span>  rr_cigarette_reinstatement_income_point_estimates[<span class="dv">5</span>], </span>
<span id="cb31-236"><a href="paramset.html#cb31-236" aria-hidden="true" tabindex="-1"></a>                                                                          <span class="at">sd =</span> rr_cigarette_reinstatement_income_standard_errors[<span class="dv">5</span>]))</span>
<span id="cb31-237"><a href="paramset.html#cb31-237" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-238"><a href="paramset.html#cb31-238" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-239"><a href="paramset.html#cb31-239" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-240"><a href="paramset.html#cb31-240" aria-hidden="true" tabindex="-1"></a><span class="do">## Cigarette Reinstatement: Income Change</span></span>
<span id="cb31-241"><a href="paramset.html#cb31-241" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-242"><a href="paramset.html#cb31-242" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-243"><a href="paramset.html#cb31-243" aria-hidden="true" tabindex="-1"></a>rr_cigarette_reinstatement_income_change_point_estimates_sample <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">nrow =</span> sampling_number, <span class="at">ncol =</span> <span class="dv">3</span>)</span>
<span id="cb31-244"><a href="paramset.html#cb31-244" aria-hidden="true" tabindex="-1"></a>rr_cigarette_reinstatement_income_change_point_estimates_sample[,<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb31-245"><a href="paramset.html#cb31-245" aria-hidden="true" tabindex="-1"></a>rr_cigarette_reinstatement_income_change_point_estimates_sample[,<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-246"><a href="paramset.html#cb31-246" aria-hidden="true" tabindex="-1"></a>                                                                                 <span class="at">mean =</span>  rr_cigarette_reinstatement_income_change_point_estimates[<span class="dv">2</span>], </span>
<span id="cb31-247"><a href="paramset.html#cb31-247" aria-hidden="true" tabindex="-1"></a>                                                                                 <span class="at">sd =</span> rr_cigarette_reinstatement_income_change_standard_errors[<span class="dv">2</span>]))</span>
<span id="cb31-248"><a href="paramset.html#cb31-248" aria-hidden="true" tabindex="-1"></a>rr_cigarette_reinstatement_income_change_point_estimates_sample[,<span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-249"><a href="paramset.html#cb31-249" aria-hidden="true" tabindex="-1"></a>                                                                                 <span class="at">mean =</span>  rr_cigarette_reinstatement_income_change_point_estimates[<span class="dv">3</span>], </span>
<span id="cb31-250"><a href="paramset.html#cb31-250" aria-hidden="true" tabindex="-1"></a>                                                                                 <span class="at">sd =</span> rr_cigarette_reinstatement_income_change_standard_errors[<span class="dv">3</span>]))</span>
<span id="cb31-251"><a href="paramset.html#cb31-251" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-252"><a href="paramset.html#cb31-252" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-253"><a href="paramset.html#cb31-253" aria-hidden="true" tabindex="-1"></a><span class="do">## Cigarette Reinstatement: E-Cigarette</span></span>
<span id="cb31-254"><a href="paramset.html#cb31-254" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-255"><a href="paramset.html#cb31-255" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-256"><a href="paramset.html#cb31-256" aria-hidden="true" tabindex="-1"></a>rr_cigarette_reinstatement_e_cig_point_estimates_sample <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">nrow =</span> sampling_number, <span class="at">ncol =</span> e_cigarette_types)</span>
<span id="cb31-257"><a href="paramset.html#cb31-257" aria-hidden="true" tabindex="-1"></a>rr_cigarette_reinstatement_e_cig_point_estimates_sample[,<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb31-258"><a href="paramset.html#cb31-258" aria-hidden="true" tabindex="-1"></a>rr_cigarette_reinstatement_e_cig_point_estimates_sample[,<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-259"><a href="paramset.html#cb31-259" aria-hidden="true" tabindex="-1"></a>                                                                         <span class="at">mean =</span>  rr_cigarette_reinstatement_e_cig_point_estimates[<span class="dv">2</span>], </span>
<span id="cb31-260"><a href="paramset.html#cb31-260" aria-hidden="true" tabindex="-1"></a>                                                                         <span class="at">sd =</span> rr_cigarette_reinstatement_e_cig_standard_errors[<span class="dv">2</span>]))</span>
<span id="cb31-261"><a href="paramset.html#cb31-261" aria-hidden="true" tabindex="-1"></a>rr_cigarette_reinstatement_e_cig_point_estimates_sample[,<span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-262"><a href="paramset.html#cb31-262" aria-hidden="true" tabindex="-1"></a>                                                                         <span class="at">mean =</span>  rr_cigarette_reinstatement_e_cig_point_estimates[<span class="dv">3</span>], </span>
<span id="cb31-263"><a href="paramset.html#cb31-263" aria-hidden="true" tabindex="-1"></a>                                                                         <span class="at">sd =</span> rr_cigarette_reinstatement_e_cig_standard_errors[<span class="dv">3</span>]))</span>
<span id="cb31-264"><a href="paramset.html#cb31-264" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-265"><a href="paramset.html#cb31-265" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-266"><a href="paramset.html#cb31-266" aria-hidden="true" tabindex="-1"></a><span class="do">## E-Cigarette Initiation: Age</span></span>
<span id="cb31-267"><a href="paramset.html#cb31-267" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-268"><a href="paramset.html#cb31-268" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-269"><a href="paramset.html#cb31-269" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_initiation_age_point_estimates_sample <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">nrow =</span> sampling_number, <span class="at">ncol =</span> age_types)</span>
<span id="cb31-270"><a href="paramset.html#cb31-270" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_initiation_age_point_estimates_sample[,<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb31-271"><a href="paramset.html#cb31-271" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_initiation_age_point_estimates_sample[,<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-272"><a href="paramset.html#cb31-272" aria-hidden="true" tabindex="-1"></a>                                                                      <span class="at">mean =</span>  rr_e_cigarette_initiation_age_point_estimates[<span class="dv">2</span>], </span>
<span id="cb31-273"><a href="paramset.html#cb31-273" aria-hidden="true" tabindex="-1"></a>                                                                      <span class="at">sd =</span> rr_e_cigarette_initiation_age_standard_errors[<span class="dv">2</span>]))</span>
<span id="cb31-274"><a href="paramset.html#cb31-274" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_initiation_age_point_estimates_sample[,<span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-275"><a href="paramset.html#cb31-275" aria-hidden="true" tabindex="-1"></a>                                                                      <span class="at">mean =</span>  rr_e_cigarette_initiation_age_point_estimates[<span class="dv">3</span>], </span>
<span id="cb31-276"><a href="paramset.html#cb31-276" aria-hidden="true" tabindex="-1"></a>                                                                      <span class="at">sd =</span> rr_e_cigarette_initiation_age_standard_errors[<span class="dv">3</span>]))</span>
<span id="cb31-277"><a href="paramset.html#cb31-277" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_initiation_age_point_estimates_sample[,<span class="dv">4</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-278"><a href="paramset.html#cb31-278" aria-hidden="true" tabindex="-1"></a>                                                                      <span class="at">mean =</span>  rr_e_cigarette_initiation_age_point_estimates[<span class="dv">4</span>], </span>
<span id="cb31-279"><a href="paramset.html#cb31-279" aria-hidden="true" tabindex="-1"></a>                                                                      <span class="at">sd =</span> rr_e_cigarette_initiation_age_standard_errors[<span class="dv">4</span>]))</span>
<span id="cb31-280"><a href="paramset.html#cb31-280" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_initiation_age_point_estimates_sample[,<span class="dv">5</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-281"><a href="paramset.html#cb31-281" aria-hidden="true" tabindex="-1"></a>                                                                      <span class="at">mean =</span>  rr_e_cigarette_initiation_age_point_estimates[<span class="dv">5</span>], </span>
<span id="cb31-282"><a href="paramset.html#cb31-282" aria-hidden="true" tabindex="-1"></a>                                                                      <span class="at">sd =</span> rr_e_cigarette_initiation_age_standard_errors[<span class="dv">5</span>]))</span>
<span id="cb31-283"><a href="paramset.html#cb31-283" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_initiation_age_point_estimates_sample[,<span class="dv">6</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-284"><a href="paramset.html#cb31-284" aria-hidden="true" tabindex="-1"></a>                                                                      <span class="at">mean =</span>  rr_e_cigarette_initiation_age_point_estimates[<span class="dv">6</span>], </span>
<span id="cb31-285"><a href="paramset.html#cb31-285" aria-hidden="true" tabindex="-1"></a>                                                                      <span class="at">sd =</span> rr_e_cigarette_initiation_age_standard_errors[<span class="dv">6</span>]))</span>
<span id="cb31-286"><a href="paramset.html#cb31-286" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-287"><a href="paramset.html#cb31-287" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-288"><a href="paramset.html#cb31-288" aria-hidden="true" tabindex="-1"></a><span class="do">## E-Cigarette Initiation: Sex</span></span>
<span id="cb31-289"><a href="paramset.html#cb31-289" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-290"><a href="paramset.html#cb31-290" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-291"><a href="paramset.html#cb31-291" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_initiation_sex_point_estimates_sample <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">nrow =</span> sampling_number, <span class="at">ncol =</span> sex_types)</span>
<span id="cb31-292"><a href="paramset.html#cb31-292" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_initiation_sex_point_estimates_sample[,<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb31-293"><a href="paramset.html#cb31-293" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_initiation_sex_point_estimates_sample[,<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-294"><a href="paramset.html#cb31-294" aria-hidden="true" tabindex="-1"></a>                                                                      <span class="at">mean =</span>  rr_e_cigarette_initiation_sex_point_estimates[<span class="dv">2</span>], </span>
<span id="cb31-295"><a href="paramset.html#cb31-295" aria-hidden="true" tabindex="-1"></a>                                                                      <span class="at">sd =</span> rr_e_cigarette_initiation_sex_standard_errors[<span class="dv">2</span>]))</span>
<span id="cb31-296"><a href="paramset.html#cb31-296" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-297"><a href="paramset.html#cb31-297" aria-hidden="true" tabindex="-1"></a><span class="do">## E-Cigarette Initiation: Income Level</span></span>
<span id="cb31-298"><a href="paramset.html#cb31-298" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-299"><a href="paramset.html#cb31-299" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-300"><a href="paramset.html#cb31-300" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_initiation_income_point_estimates_sample <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">nrow =</span> sampling_number, <span class="at">ncol =</span> <span class="dv">5</span>)</span>
<span id="cb31-301"><a href="paramset.html#cb31-301" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_initiation_income_point_estimates_sample[,<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb31-302"><a href="paramset.html#cb31-302" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_initiation_income_point_estimates_sample[,<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-303"><a href="paramset.html#cb31-303" aria-hidden="true" tabindex="-1"></a>                                                                         <span class="at">mean =</span>  rr_e_cigarette_initiation_income_point_estimates[<span class="dv">2</span>], </span>
<span id="cb31-304"><a href="paramset.html#cb31-304" aria-hidden="true" tabindex="-1"></a>                                                                         <span class="at">sd =</span> rr_e_cigarette_initiation_income_standard_errors[<span class="dv">2</span>]))</span>
<span id="cb31-305"><a href="paramset.html#cb31-305" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_initiation_income_point_estimates_sample[,<span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-306"><a href="paramset.html#cb31-306" aria-hidden="true" tabindex="-1"></a>                                                                         <span class="at">mean =</span>  rr_e_cigarette_initiation_income_point_estimates[<span class="dv">3</span>], </span>
<span id="cb31-307"><a href="paramset.html#cb31-307" aria-hidden="true" tabindex="-1"></a>                                                                         <span class="at">sd =</span> rr_e_cigarette_initiation_income_standard_errors[<span class="dv">3</span>]))</span>
<span id="cb31-308"><a href="paramset.html#cb31-308" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_initiation_income_point_estimates_sample[,<span class="dv">4</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-309"><a href="paramset.html#cb31-309" aria-hidden="true" tabindex="-1"></a>                                                                         <span class="at">mean =</span>  rr_e_cigarette_initiation_income_point_estimates[<span class="dv">4</span>], </span>
<span id="cb31-310"><a href="paramset.html#cb31-310" aria-hidden="true" tabindex="-1"></a>                                                                         <span class="at">sd =</span> rr_e_cigarette_initiation_income_standard_errors[<span class="dv">4</span>]))</span>
<span id="cb31-311"><a href="paramset.html#cb31-311" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_initiation_income_point_estimates_sample[,<span class="dv">5</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-312"><a href="paramset.html#cb31-312" aria-hidden="true" tabindex="-1"></a>                                                                         <span class="at">mean =</span>  rr_e_cigarette_initiation_income_point_estimates[<span class="dv">5</span>], </span>
<span id="cb31-313"><a href="paramset.html#cb31-313" aria-hidden="true" tabindex="-1"></a>                                                                         <span class="at">sd =</span> rr_e_cigarette_initiation_income_standard_errors[<span class="dv">5</span>]))</span>
<span id="cb31-314"><a href="paramset.html#cb31-314" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-315"><a href="paramset.html#cb31-315" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-316"><a href="paramset.html#cb31-316" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-317"><a href="paramset.html#cb31-317" aria-hidden="true" tabindex="-1"></a><span class="do">## E-Cigarette Initiation: Income Change</span></span>
<span id="cb31-318"><a href="paramset.html#cb31-318" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-319"><a href="paramset.html#cb31-319" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-320"><a href="paramset.html#cb31-320" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_initiation_income_change_point_estimates_sample <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">nrow =</span> sampling_number, <span class="at">ncol =</span> <span class="dv">3</span>)</span>
<span id="cb31-321"><a href="paramset.html#cb31-321" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_initiation_income_change_point_estimates_sample[,<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb31-322"><a href="paramset.html#cb31-322" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_initiation_income_change_point_estimates_sample[,<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-323"><a href="paramset.html#cb31-323" aria-hidden="true" tabindex="-1"></a>                                                                                <span class="at">mean =</span>  rr_e_cigarette_initiation_income_change_point_estimates[<span class="dv">2</span>], </span>
<span id="cb31-324"><a href="paramset.html#cb31-324" aria-hidden="true" tabindex="-1"></a>                                                                                <span class="at">sd =</span> rr_e_cigarette_initiation_income_change_standard_errors[<span class="dv">2</span>]))</span>
<span id="cb31-325"><a href="paramset.html#cb31-325" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_initiation_income_change_point_estimates_sample[,<span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-326"><a href="paramset.html#cb31-326" aria-hidden="true" tabindex="-1"></a>                                                                                <span class="at">mean =</span>  rr_e_cigarette_initiation_income_change_point_estimates[<span class="dv">3</span>], </span>
<span id="cb31-327"><a href="paramset.html#cb31-327" aria-hidden="true" tabindex="-1"></a>                                                                                <span class="at">sd =</span> rr_e_cigarette_initiation_income_change_standard_errors[<span class="dv">3</span>]))</span>
<span id="cb31-328"><a href="paramset.html#cb31-328" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-329"><a href="paramset.html#cb31-329" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-330"><a href="paramset.html#cb31-330" aria-hidden="true" tabindex="-1"></a><span class="do">## E-Cigarette Initiation: Cigarette Use</span></span>
<span id="cb31-331"><a href="paramset.html#cb31-331" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-332"><a href="paramset.html#cb31-332" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-333"><a href="paramset.html#cb31-333" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_initiation_cig_point_estimates_sample <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">nrow =</span> sampling_number, <span class="at">ncol =</span> cigarette_types)</span>
<span id="cb31-334"><a href="paramset.html#cb31-334" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_initiation_cig_point_estimates_sample[,<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb31-335"><a href="paramset.html#cb31-335" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_initiation_cig_point_estimates_sample[,<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-336"><a href="paramset.html#cb31-336" aria-hidden="true" tabindex="-1"></a>                                                                      <span class="at">mean =</span>  rr_e_cigarette_initiation_cig_point_estimates[<span class="dv">2</span>], </span>
<span id="cb31-337"><a href="paramset.html#cb31-337" aria-hidden="true" tabindex="-1"></a>                                                                      <span class="at">sd =</span> rr_e_cigarette_initiation_cig_standard_errors[<span class="dv">2</span>]))</span>
<span id="cb31-338"><a href="paramset.html#cb31-338" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_initiation_cig_point_estimates_sample[,<span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-339"><a href="paramset.html#cb31-339" aria-hidden="true" tabindex="-1"></a>                                                                      <span class="at">mean =</span>  rr_e_cigarette_initiation_cig_point_estimates[<span class="dv">3</span>], </span>
<span id="cb31-340"><a href="paramset.html#cb31-340" aria-hidden="true" tabindex="-1"></a>                                                                      <span class="at">sd =</span> rr_e_cigarette_initiation_cig_standard_errors[<span class="dv">3</span>]))</span>
<span id="cb31-341"><a href="paramset.html#cb31-341" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-342"><a href="paramset.html#cb31-342" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-343"><a href="paramset.html#cb31-343" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-344"><a href="paramset.html#cb31-344" aria-hidden="true" tabindex="-1"></a><span class="do">## E-Cigarette Cessation: Age</span></span>
<span id="cb31-345"><a href="paramset.html#cb31-345" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-346"><a href="paramset.html#cb31-346" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-347"><a href="paramset.html#cb31-347" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_cessation_age_point_estimates_sample <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">nrow =</span> sampling_number, <span class="at">ncol =</span> age_types)</span>
<span id="cb31-348"><a href="paramset.html#cb31-348" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_cessation_age_point_estimates_sample[,<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb31-349"><a href="paramset.html#cb31-349" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_cessation_age_point_estimates_sample[,<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-350"><a href="paramset.html#cb31-350" aria-hidden="true" tabindex="-1"></a>                                                                     <span class="at">mean =</span>  rr_e_cigarette_cessation_age_point_estimates[<span class="dv">2</span>], </span>
<span id="cb31-351"><a href="paramset.html#cb31-351" aria-hidden="true" tabindex="-1"></a>                                                                     <span class="at">sd =</span> rr_e_cigarette_cessation_age_standard_errors[<span class="dv">2</span>]))</span>
<span id="cb31-352"><a href="paramset.html#cb31-352" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_cessation_age_point_estimates_sample[,<span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-353"><a href="paramset.html#cb31-353" aria-hidden="true" tabindex="-1"></a>                                                                     <span class="at">mean =</span>  rr_e_cigarette_cessation_age_point_estimates[<span class="dv">3</span>], </span>
<span id="cb31-354"><a href="paramset.html#cb31-354" aria-hidden="true" tabindex="-1"></a>                                                                     <span class="at">sd =</span> rr_e_cigarette_cessation_age_standard_errors[<span class="dv">3</span>]))</span>
<span id="cb31-355"><a href="paramset.html#cb31-355" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_cessation_age_point_estimates_sample[,<span class="dv">4</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-356"><a href="paramset.html#cb31-356" aria-hidden="true" tabindex="-1"></a>                                                                     <span class="at">mean =</span>  rr_e_cigarette_cessation_age_point_estimates[<span class="dv">4</span>], </span>
<span id="cb31-357"><a href="paramset.html#cb31-357" aria-hidden="true" tabindex="-1"></a>                                                                     <span class="at">sd =</span> rr_e_cigarette_cessation_age_standard_errors[<span class="dv">4</span>]))</span>
<span id="cb31-358"><a href="paramset.html#cb31-358" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_cessation_age_point_estimates_sample[,<span class="dv">5</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-359"><a href="paramset.html#cb31-359" aria-hidden="true" tabindex="-1"></a>                                                                     <span class="at">mean =</span>  rr_e_cigarette_cessation_age_point_estimates[<span class="dv">5</span>], </span>
<span id="cb31-360"><a href="paramset.html#cb31-360" aria-hidden="true" tabindex="-1"></a>                                                                     <span class="at">sd =</span> rr_e_cigarette_cessation_age_standard_errors[<span class="dv">5</span>]))</span>
<span id="cb31-361"><a href="paramset.html#cb31-361" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_cessation_age_point_estimates_sample[,<span class="dv">6</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-362"><a href="paramset.html#cb31-362" aria-hidden="true" tabindex="-1"></a>                                                                     <span class="at">mean =</span>  rr_e_cigarette_cessation_age_point_estimates[<span class="dv">6</span>], </span>
<span id="cb31-363"><a href="paramset.html#cb31-363" aria-hidden="true" tabindex="-1"></a>                                                                     <span class="at">sd =</span> rr_e_cigarette_cessation_age_standard_errors[<span class="dv">6</span>]))</span>
<span id="cb31-364"><a href="paramset.html#cb31-364" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-365"><a href="paramset.html#cb31-365" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-366"><a href="paramset.html#cb31-366" aria-hidden="true" tabindex="-1"></a><span class="do">## E-Cigarette Cessation: Sex</span></span>
<span id="cb31-367"><a href="paramset.html#cb31-367" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-368"><a href="paramset.html#cb31-368" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-369"><a href="paramset.html#cb31-369" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_cessation_sex_point_estimates_sample <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">nrow =</span> sampling_number, <span class="at">ncol =</span> sex_types)</span>
<span id="cb31-370"><a href="paramset.html#cb31-370" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_cessation_sex_point_estimates_sample[,<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb31-371"><a href="paramset.html#cb31-371" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_cessation_sex_point_estimates_sample[,<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-372"><a href="paramset.html#cb31-372" aria-hidden="true" tabindex="-1"></a>                                                                     <span class="at">mean =</span>  rr_e_cigarette_cessation_sex_point_estimates[<span class="dv">2</span>], </span>
<span id="cb31-373"><a href="paramset.html#cb31-373" aria-hidden="true" tabindex="-1"></a>                                                                     <span class="at">sd =</span> rr_e_cigarette_cessation_sex_standard_errors[<span class="dv">2</span>]))</span>
<span id="cb31-374"><a href="paramset.html#cb31-374" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-375"><a href="paramset.html#cb31-375" aria-hidden="true" tabindex="-1"></a><span class="do">## E-Cigarette Cessation: Income Level</span></span>
<span id="cb31-376"><a href="paramset.html#cb31-376" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-377"><a href="paramset.html#cb31-377" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-378"><a href="paramset.html#cb31-378" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_cessation_income_point_estimates_sample <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">nrow =</span> sampling_number, <span class="at">ncol =</span> <span class="dv">5</span>)</span>
<span id="cb31-379"><a href="paramset.html#cb31-379" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_cessation_income_point_estimates_sample[,<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb31-380"><a href="paramset.html#cb31-380" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_cessation_income_point_estimates_sample[,<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-381"><a href="paramset.html#cb31-381" aria-hidden="true" tabindex="-1"></a>                                                                        <span class="at">mean =</span>  rr_e_cigarette_cessation_income_point_estimates[<span class="dv">2</span>], </span>
<span id="cb31-382"><a href="paramset.html#cb31-382" aria-hidden="true" tabindex="-1"></a>                                                                        <span class="at">sd =</span> rr_e_cigarette_cessation_income_standard_errors[<span class="dv">2</span>]))</span>
<span id="cb31-383"><a href="paramset.html#cb31-383" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_cessation_income_point_estimates_sample[,<span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-384"><a href="paramset.html#cb31-384" aria-hidden="true" tabindex="-1"></a>                                                                        <span class="at">mean =</span>  rr_e_cigarette_cessation_income_point_estimates[<span class="dv">3</span>], </span>
<span id="cb31-385"><a href="paramset.html#cb31-385" aria-hidden="true" tabindex="-1"></a>                                                                        <span class="at">sd =</span> rr_e_cigarette_cessation_income_standard_errors[<span class="dv">3</span>]))</span>
<span id="cb31-386"><a href="paramset.html#cb31-386" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_cessation_income_point_estimates_sample[,<span class="dv">4</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-387"><a href="paramset.html#cb31-387" aria-hidden="true" tabindex="-1"></a>                                                                        <span class="at">mean =</span>  rr_e_cigarette_cessation_income_point_estimates[<span class="dv">4</span>], </span>
<span id="cb31-388"><a href="paramset.html#cb31-388" aria-hidden="true" tabindex="-1"></a>                                                                        <span class="at">sd =</span> rr_e_cigarette_cessation_income_standard_errors[<span class="dv">4</span>]))</span>
<span id="cb31-389"><a href="paramset.html#cb31-389" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_cessation_income_point_estimates_sample[,<span class="dv">5</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-390"><a href="paramset.html#cb31-390" aria-hidden="true" tabindex="-1"></a>                                                                        <span class="at">mean =</span>  rr_e_cigarette_cessation_income_point_estimates[<span class="dv">5</span>], </span>
<span id="cb31-391"><a href="paramset.html#cb31-391" aria-hidden="true" tabindex="-1"></a>                                                                        <span class="at">sd =</span> rr_e_cigarette_cessation_income_standard_errors[<span class="dv">5</span>]))</span>
<span id="cb31-392"><a href="paramset.html#cb31-392" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-393"><a href="paramset.html#cb31-393" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-394"><a href="paramset.html#cb31-394" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-395"><a href="paramset.html#cb31-395" aria-hidden="true" tabindex="-1"></a><span class="do">## E-Cigarette Cessation: Income Change</span></span>
<span id="cb31-396"><a href="paramset.html#cb31-396" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-397"><a href="paramset.html#cb31-397" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-398"><a href="paramset.html#cb31-398" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_cessation_income_change_point_estimates_sample <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">nrow =</span> sampling_number, <span class="at">ncol =</span> <span class="dv">3</span>)</span>
<span id="cb31-399"><a href="paramset.html#cb31-399" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_cessation_income_change_point_estimates_sample[,<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb31-400"><a href="paramset.html#cb31-400" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_cessation_income_change_point_estimates_sample[,<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-401"><a href="paramset.html#cb31-401" aria-hidden="true" tabindex="-1"></a>                                                                               <span class="at">mean =</span>  rr_e_cigarette_cessation_income_change_point_estimates[<span class="dv">2</span>], </span>
<span id="cb31-402"><a href="paramset.html#cb31-402" aria-hidden="true" tabindex="-1"></a>                                                                               <span class="at">sd =</span> rr_e_cigarette_cessation_income_change_standard_errors[<span class="dv">2</span>]))</span>
<span id="cb31-403"><a href="paramset.html#cb31-403" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_cessation_income_change_point_estimates_sample[,<span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-404"><a href="paramset.html#cb31-404" aria-hidden="true" tabindex="-1"></a>                                                                               <span class="at">mean =</span>  rr_e_cigarette_cessation_income_change_point_estimates[<span class="dv">3</span>], </span>
<span id="cb31-405"><a href="paramset.html#cb31-405" aria-hidden="true" tabindex="-1"></a>                                                                               <span class="at">sd =</span> rr_e_cigarette_cessation_income_change_standard_errors[<span class="dv">3</span>]))</span>
<span id="cb31-406"><a href="paramset.html#cb31-406" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-407"><a href="paramset.html#cb31-407" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-408"><a href="paramset.html#cb31-408" aria-hidden="true" tabindex="-1"></a><span class="do">## E-Cigarette Cessation: Cigarette Use</span></span>
<span id="cb31-409"><a href="paramset.html#cb31-409" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-410"><a href="paramset.html#cb31-410" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-411"><a href="paramset.html#cb31-411" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_cessation_cig_point_estimates_sample <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">nrow =</span> sampling_number, <span class="at">ncol =</span> cigarette_types)</span>
<span id="cb31-412"><a href="paramset.html#cb31-412" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_cessation_cig_point_estimates_sample[,<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb31-413"><a href="paramset.html#cb31-413" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_cessation_cig_point_estimates_sample[,<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-414"><a href="paramset.html#cb31-414" aria-hidden="true" tabindex="-1"></a>                                                                     <span class="at">mean =</span>  rr_e_cigarette_cessation_cig_point_estimates[<span class="dv">2</span>], </span>
<span id="cb31-415"><a href="paramset.html#cb31-415" aria-hidden="true" tabindex="-1"></a>                                                                     <span class="at">sd =</span> rr_e_cigarette_cessation_cig_standard_errors[<span class="dv">2</span>]))</span>
<span id="cb31-416"><a href="paramset.html#cb31-416" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_cessation_cig_point_estimates_sample[,<span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-417"><a href="paramset.html#cb31-417" aria-hidden="true" tabindex="-1"></a>                                                                     <span class="at">mean =</span>  rr_e_cigarette_cessation_cig_point_estimates[<span class="dv">3</span>], </span>
<span id="cb31-418"><a href="paramset.html#cb31-418" aria-hidden="true" tabindex="-1"></a>                                                                     <span class="at">sd =</span> rr_e_cigarette_cessation_cig_standard_errors[<span class="dv">3</span>]))</span>
<span id="cb31-419"><a href="paramset.html#cb31-419" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-420"><a href="paramset.html#cb31-420" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-421"><a href="paramset.html#cb31-421" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-422"><a href="paramset.html#cb31-422" aria-hidden="true" tabindex="-1"></a><span class="do">## E-Cigarette Reinstatement: Age</span></span>
<span id="cb31-423"><a href="paramset.html#cb31-423" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-424"><a href="paramset.html#cb31-424" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-425"><a href="paramset.html#cb31-425" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_reinstatement_age_point_estimates_sample <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">nrow =</span> sampling_number, <span class="at">ncol =</span> age_types)</span>
<span id="cb31-426"><a href="paramset.html#cb31-426" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_reinstatement_age_point_estimates_sample[,<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb31-427"><a href="paramset.html#cb31-427" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_reinstatement_age_point_estimates_sample[,<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-428"><a href="paramset.html#cb31-428" aria-hidden="true" tabindex="-1"></a>                                                                         <span class="at">mean =</span>  rr_e_cigarette_reinstatement_age_point_estimates[<span class="dv">2</span>], </span>
<span id="cb31-429"><a href="paramset.html#cb31-429" aria-hidden="true" tabindex="-1"></a>                                                                         <span class="at">sd =</span> rr_e_cigarette_reinstatement_age_standard_errors[<span class="dv">2</span>]))</span>
<span id="cb31-430"><a href="paramset.html#cb31-430" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_reinstatement_age_point_estimates_sample[,<span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-431"><a href="paramset.html#cb31-431" aria-hidden="true" tabindex="-1"></a>                                                                         <span class="at">mean =</span>  rr_e_cigarette_reinstatement_age_point_estimates[<span class="dv">3</span>], </span>
<span id="cb31-432"><a href="paramset.html#cb31-432" aria-hidden="true" tabindex="-1"></a>                                                                         <span class="at">sd =</span> rr_e_cigarette_reinstatement_age_standard_errors[<span class="dv">3</span>]))</span>
<span id="cb31-433"><a href="paramset.html#cb31-433" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_reinstatement_age_point_estimates_sample[,<span class="dv">4</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-434"><a href="paramset.html#cb31-434" aria-hidden="true" tabindex="-1"></a>                                                                         <span class="at">mean =</span>  rr_e_cigarette_reinstatement_age_point_estimates[<span class="dv">4</span>], </span>
<span id="cb31-435"><a href="paramset.html#cb31-435" aria-hidden="true" tabindex="-1"></a>                                                                         <span class="at">sd =</span> rr_e_cigarette_reinstatement_age_standard_errors[<span class="dv">4</span>]))</span>
<span id="cb31-436"><a href="paramset.html#cb31-436" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_reinstatement_age_point_estimates_sample[,<span class="dv">5</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-437"><a href="paramset.html#cb31-437" aria-hidden="true" tabindex="-1"></a>                                                                         <span class="at">mean =</span>  rr_e_cigarette_reinstatement_age_point_estimates[<span class="dv">5</span>], </span>
<span id="cb31-438"><a href="paramset.html#cb31-438" aria-hidden="true" tabindex="-1"></a>                                                                         <span class="at">sd =</span> rr_e_cigarette_reinstatement_age_standard_errors[<span class="dv">5</span>]))</span>
<span id="cb31-439"><a href="paramset.html#cb31-439" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_reinstatement_age_point_estimates_sample[,<span class="dv">6</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-440"><a href="paramset.html#cb31-440" aria-hidden="true" tabindex="-1"></a>                                                                         <span class="at">mean =</span>  rr_e_cigarette_reinstatement_age_point_estimates[<span class="dv">6</span>], </span>
<span id="cb31-441"><a href="paramset.html#cb31-441" aria-hidden="true" tabindex="-1"></a>                                                                         <span class="at">sd =</span> rr_e_cigarette_reinstatement_age_standard_errors[<span class="dv">6</span>]))</span>
<span id="cb31-442"><a href="paramset.html#cb31-442" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-443"><a href="paramset.html#cb31-443" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-444"><a href="paramset.html#cb31-444" aria-hidden="true" tabindex="-1"></a><span class="do">## E-Cigarette Reinstatement: Sex</span></span>
<span id="cb31-445"><a href="paramset.html#cb31-445" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-446"><a href="paramset.html#cb31-446" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-447"><a href="paramset.html#cb31-447" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_reinstatement_sex_point_estimates_sample <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">nrow =</span> sampling_number, <span class="at">ncol =</span> sex_types)</span>
<span id="cb31-448"><a href="paramset.html#cb31-448" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_reinstatement_sex_point_estimates_sample[,<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb31-449"><a href="paramset.html#cb31-449" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_reinstatement_sex_point_estimates_sample[,<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-450"><a href="paramset.html#cb31-450" aria-hidden="true" tabindex="-1"></a>                                                                         <span class="at">mean =</span>  rr_e_cigarette_reinstatement_sex_point_estimates[<span class="dv">2</span>], </span>
<span id="cb31-451"><a href="paramset.html#cb31-451" aria-hidden="true" tabindex="-1"></a>                                                                         <span class="at">sd =</span> rr_e_cigarette_reinstatement_sex_standard_errors[<span class="dv">2</span>]))</span>
<span id="cb31-452"><a href="paramset.html#cb31-452" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-453"><a href="paramset.html#cb31-453" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-454"><a href="paramset.html#cb31-454" aria-hidden="true" tabindex="-1"></a><span class="do">## E-Cigarette Reinstatement: Income Level</span></span>
<span id="cb31-455"><a href="paramset.html#cb31-455" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-456"><a href="paramset.html#cb31-456" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-457"><a href="paramset.html#cb31-457" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_reinstatement_income_point_estimates_sample <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">nrow =</span> sampling_number, <span class="at">ncol =</span> <span class="dv">5</span>)</span>
<span id="cb31-458"><a href="paramset.html#cb31-458" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_reinstatement_income_point_estimates_sample[,<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb31-459"><a href="paramset.html#cb31-459" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_reinstatement_income_point_estimates_sample[,<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-460"><a href="paramset.html#cb31-460" aria-hidden="true" tabindex="-1"></a>                                                                            <span class="at">mean =</span>  rr_e_cigarette_reinstatement_income_point_estimates[<span class="dv">2</span>], </span>
<span id="cb31-461"><a href="paramset.html#cb31-461" aria-hidden="true" tabindex="-1"></a>                                                                            <span class="at">sd =</span> rr_e_cigarette_reinstatement_income_standard_errors[<span class="dv">2</span>]))</span>
<span id="cb31-462"><a href="paramset.html#cb31-462" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_reinstatement_income_point_estimates_sample[,<span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-463"><a href="paramset.html#cb31-463" aria-hidden="true" tabindex="-1"></a>                                                                            <span class="at">mean =</span>  rr_e_cigarette_reinstatement_income_point_estimates[<span class="dv">3</span>], </span>
<span id="cb31-464"><a href="paramset.html#cb31-464" aria-hidden="true" tabindex="-1"></a>                                                                            <span class="at">sd =</span> rr_e_cigarette_reinstatement_income_standard_errors[<span class="dv">3</span>]))</span>
<span id="cb31-465"><a href="paramset.html#cb31-465" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_reinstatement_income_point_estimates_sample[,<span class="dv">4</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-466"><a href="paramset.html#cb31-466" aria-hidden="true" tabindex="-1"></a>                                                                            <span class="at">mean =</span>  rr_e_cigarette_reinstatement_income_point_estimates[<span class="dv">4</span>], </span>
<span id="cb31-467"><a href="paramset.html#cb31-467" aria-hidden="true" tabindex="-1"></a>                                                                            <span class="at">sd =</span> rr_e_cigarette_reinstatement_income_standard_errors[<span class="dv">4</span>]))</span>
<span id="cb31-468"><a href="paramset.html#cb31-468" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_reinstatement_income_point_estimates_sample[,<span class="dv">5</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-469"><a href="paramset.html#cb31-469" aria-hidden="true" tabindex="-1"></a>                                                                            <span class="at">mean =</span>  rr_e_cigarette_reinstatement_income_point_estimates[<span class="dv">5</span>], </span>
<span id="cb31-470"><a href="paramset.html#cb31-470" aria-hidden="true" tabindex="-1"></a>                                                                            <span class="at">sd =</span> rr_e_cigarette_reinstatement_income_standard_errors[<span class="dv">5</span>]))</span>
<span id="cb31-471"><a href="paramset.html#cb31-471" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-472"><a href="paramset.html#cb31-472" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-473"><a href="paramset.html#cb31-473" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-474"><a href="paramset.html#cb31-474" aria-hidden="true" tabindex="-1"></a><span class="do">## E-Cigarette Reinstatement: Income Change</span></span>
<span id="cb31-475"><a href="paramset.html#cb31-475" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-476"><a href="paramset.html#cb31-476" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-477"><a href="paramset.html#cb31-477" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_reinstatement_income_change_point_estimates_sample <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">nrow =</span> sampling_number, <span class="at">ncol =</span> <span class="dv">3</span>)</span>
<span id="cb31-478"><a href="paramset.html#cb31-478" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_reinstatement_income_change_point_estimates_sample[,<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb31-479"><a href="paramset.html#cb31-479" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_reinstatement_income_change_point_estimates_sample[,<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-480"><a href="paramset.html#cb31-480" aria-hidden="true" tabindex="-1"></a>                                                                                   <span class="at">mean =</span>  rr_e_cigarette_reinstatement_income_change_point_estimates[<span class="dv">2</span>], </span>
<span id="cb31-481"><a href="paramset.html#cb31-481" aria-hidden="true" tabindex="-1"></a>                                                                                   <span class="at">sd =</span> rr_e_cigarette_reinstatement_income_change_standard_errors[<span class="dv">2</span>]))</span>
<span id="cb31-482"><a href="paramset.html#cb31-482" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_reinstatement_income_change_point_estimates_sample[,<span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-483"><a href="paramset.html#cb31-483" aria-hidden="true" tabindex="-1"></a>                                                                                   <span class="at">mean =</span>  rr_e_cigarette_reinstatement_income_change_point_estimates[<span class="dv">3</span>], </span>
<span id="cb31-484"><a href="paramset.html#cb31-484" aria-hidden="true" tabindex="-1"></a>                                                                                   <span class="at">sd =</span> rr_e_cigarette_reinstatement_income_change_standard_errors[<span class="dv">3</span>]))</span>
<span id="cb31-485"><a href="paramset.html#cb31-485" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-486"><a href="paramset.html#cb31-486" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-487"><a href="paramset.html#cb31-487" aria-hidden="true" tabindex="-1"></a><span class="do">## E-Cigarette Reinstatement: Cigarette Use</span></span>
<span id="cb31-488"><a href="paramset.html#cb31-488" aria-hidden="true" tabindex="-1"></a><span class="do">##</span></span>
<span id="cb31-489"><a href="paramset.html#cb31-489" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_reinstatement_cig_point_estimates_sample <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">nrow =</span> sampling_number, <span class="at">ncol =</span> cigarette_types)</span>
<span id="cb31-490"><a href="paramset.html#cb31-490" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_reinstatement_cig_point_estimates_sample[,<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb31-491"><a href="paramset.html#cb31-491" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_reinstatement_cig_point_estimates_sample[,<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-492"><a href="paramset.html#cb31-492" aria-hidden="true" tabindex="-1"></a>                                                                         <span class="at">mean =</span>  rr_e_cigarette_reinstatement_cig_point_estimates[<span class="dv">2</span>], </span>
<span id="cb31-493"><a href="paramset.html#cb31-493" aria-hidden="true" tabindex="-1"></a>                                                                         <span class="at">sd =</span> rr_e_cigarette_reinstatement_cig_standard_errors[<span class="dv">2</span>]))</span>
<span id="cb31-494"><a href="paramset.html#cb31-494" aria-hidden="true" tabindex="-1"></a>rr_e_cigarette_reinstatement_cig_point_estimates_sample[,<span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="fu">rnorm</span>(sampling_number, </span>
<span id="cb31-495"><a href="paramset.html#cb31-495" aria-hidden="true" tabindex="-1"></a>                                                                         <span class="at">mean =</span>  rr_e_cigarette_reinstatement_cig_point_estimates[<span class="dv">3</span>], </span>
<span id="cb31-496"><a href="paramset.html#cb31-496" aria-hidden="true" tabindex="-1"></a>                                                                         <span class="at">sd =</span> rr_e_cigarette_reinstatement_cig_standard_errors[<span class="dv">3</span>]))</span></code></pre></div>
</div>
</div>
<div id="generating-the-final-parameter-set-sampling" class="section level2" number="4.9">
<h2><span class="header-section-number">4.9</span> Generating the Final Parameter Set Sampling</h2>
<p>So, now we have sampled all the data that is required to finalize our parameter sets. The following code chunk takes the data extracted and generates a series of data frames. First, we want to generate the parameter sets. However, because we have so many individual RRs from our 6 models, it is convenient to just merge relative risks. Meaning, instead of saving the relative risk for age X and for sex Y and for income level Z and for income change W and for e-cigarette status E, it is more convenient to save the product of the RRs to get a single RR for participants [age = X, sex = Y, income = Z, income change = W, e-cigarette status = E]. However, for potential scenario analyses and sensitivity analyses, we need to save the specifc RRs so that we may modify transition rates appropriately. Thus in this step we not only generate the full parameter set with the RR products, but we also save the specific RRs for each variable and transition.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="paramset.html#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="do">## First, we allocate memory for the data.frames we will output</span></span>
<span id="cb32-2"><a href="paramset.html#cb32-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-3"><a href="paramset.html#cb32-3" aria-hidden="true" tabindex="-1"></a><span class="do">## parameter_set will be the final set of sampled parameters</span></span>
<span id="cb32-4"><a href="paramset.html#cb32-4" aria-hidden="true" tabindex="-1"></a>parameter_set <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb32-5"><a href="paramset.html#cb32-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-6"><a href="paramset.html#cb32-6" aria-hidden="true" tabindex="-1"></a><span class="do">## The additional data frames will be to save factor specific RRs that may then be used to modify the parameter set</span></span>
<span id="cb32-7"><a href="paramset.html#cb32-7" aria-hidden="true" tabindex="-1"></a><span class="do">## When it is called for in given scenario and sensitivity analyses</span></span>
<span id="cb32-8"><a href="paramset.html#cb32-8" aria-hidden="true" tabindex="-1"></a>age_RRs <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb32-9"><a href="paramset.html#cb32-9" aria-hidden="true" tabindex="-1"></a>sex_RRs <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb32-10"><a href="paramset.html#cb32-10" aria-hidden="true" tabindex="-1"></a>income_RRs <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb32-11"><a href="paramset.html#cb32-11" aria-hidden="true" tabindex="-1"></a>income_change_RRs <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb32-12"><a href="paramset.html#cb32-12" aria-hidden="true" tabindex="-1"></a>cigarette_RRs <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb32-13"><a href="paramset.html#cb32-13" aria-hidden="true" tabindex="-1"></a>e_cigarette_RRs <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb32-14"><a href="paramset.html#cb32-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-15"><a href="paramset.html#cb32-15" aria-hidden="true" tabindex="-1"></a><span class="do">## These vectors are helper functions</span></span>
<span id="cb32-16"><a href="paramset.html#cb32-16" aria-hidden="true" tabindex="-1"></a><span class="do">## While we have 13 income compartments, they technically only correspond to 5 income levels, where compartment at the same income level represent differently stability/transitionary trajectories</span></span>
<span id="cb32-17"><a href="paramset.html#cb32-17" aria-hidden="true" tabindex="-1"></a><span class="do">## income_5_cat takes a given compartment and converts it into the appropriate income level (i.e. someone in the increased to &gt;$100k compartment [i.e. compartment 13] tho we want income_5_cat[13] to correspond to 5 = &gt;$100k)</span></span>
<span id="cb32-18"><a href="paramset.html#cb32-18" aria-hidden="true" tabindex="-1"></a><span class="do">## this important because our relative risks for income change only have 5 levels and there is a seperate term (income_change) which includes an RR based on whether income is stable or transitionary</span></span>
<span id="cb32-19"><a href="paramset.html#cb32-19" aria-hidden="true" tabindex="-1"></a>income_5_cat <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>)</span>
<span id="cb32-20"><a href="paramset.html#cb32-20" aria-hidden="true" tabindex="-1"></a><span class="do">## thus we also need to be able to identify from the income compartment if the person is stable, increasing, or decreasing</span></span>
<span id="cb32-21"><a href="paramset.html#cb32-21" aria-hidden="true" tabindex="-1"></a><span class="do">## the income stable compartments (i.e. 1 - 5) all map to 1 = stable</span></span>
<span id="cb32-22"><a href="paramset.html#cb32-22" aria-hidden="true" tabindex="-1"></a><span class="do">## the decreased from previous compartments (i.e. 6-9) all map to 2 =  decreased</span></span>
<span id="cb32-23"><a href="paramset.html#cb32-23" aria-hidden="true" tabindex="-1"></a><span class="do">## the increased from previous compartments (i.e. 10-13) all map to 3 = increased</span></span>
<span id="cb32-24"><a href="paramset.html#cb32-24" aria-hidden="true" tabindex="-1"></a>income_change_3_cat <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">3</span>)</span>
<span id="cb32-25"><a href="paramset.html#cb32-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-26"><a href="paramset.html#cb32-26" aria-hidden="true" tabindex="-1"></a><span class="do">## In an earlier version of the model we had discussed how long individuals would stay in a transitionary income bracket prior to moving to the stable income compartment</span></span>
<span id="cb32-27"><a href="paramset.html#cb32-27" aria-hidden="true" tabindex="-1"></a><span class="do">## We decided, given our statistical models can only reflect on the prior year, that the value should be set to 1 year</span></span>
<span id="cb32-28"><a href="paramset.html#cb32-28" aria-hidden="true" tabindex="-1"></a><span class="do">## The staging_modifieer captures this idea</span></span>
<span id="cb32-29"><a href="paramset.html#cb32-29" aria-hidden="true" tabindex="-1"></a><span class="do">## If future endeavors wish to modify how long people stay in the transitionary state before moving to the stable state, this is the variable that should be modified.</span></span>
<span id="cb32-30"><a href="paramset.html#cb32-30" aria-hidden="true" tabindex="-1"></a>staging_modifier <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb32-31"><a href="paramset.html#cb32-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-32"><a href="paramset.html#cb32-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-33"><a href="paramset.html#cb32-33" aria-hidden="true" tabindex="-1"></a><span class="do">## We loop through each of the samples to generate the final parameter sets</span></span>
<span id="cb32-34"><a href="paramset.html#cb32-34" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(sim_number <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>sampling_number){</span>
<span id="cb32-35"><a href="paramset.html#cb32-35" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb32-36"><a href="paramset.html#cb32-36" aria-hidden="true" tabindex="-1"></a>  <span class="do">##</span></span>
<span id="cb32-37"><a href="paramset.html#cb32-37" aria-hidden="true" tabindex="-1"></a>  <span class="do">## First we will finalize our absolute transition rates for income, cigarette, and e-cigarette use</span></span>
<span id="cb32-38"><a href="paramset.html#cb32-38" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Our Dirichlet samples provided probabilities but we want rates</span></span>
<span id="cb32-39"><a href="paramset.html#cb32-39" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Waves 2 and 3 of PATH are one year apart (i.e. t = 1)</span></span>
<span id="cb32-40"><a href="paramset.html#cb32-40" aria-hidden="true" tabindex="-1"></a>  <span class="do">## So we use the following equation rate = -ln(1 - probability)</span></span>
<span id="cb32-41"><a href="paramset.html#cb32-41" aria-hidden="true" tabindex="-1"></a>  <span class="do">##</span></span>
<span id="cb32-42"><a href="paramset.html#cb32-42" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb32-43"><a href="paramset.html#cb32-43" aria-hidden="true" tabindex="-1"></a>  income_transition_rates <span class="ot">&lt;-</span> income_transitions_sample[sim_number,]</span>
<span id="cb32-44"><a href="paramset.html#cb32-44" aria-hidden="true" tabindex="-1"></a>  income_transition_rates <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">1</span><span class="sc">*</span><span class="fu">log</span>(<span class="dv">1</span> <span class="sc">-</span> income_transition_rates)</span>
<span id="cb32-45"><a href="paramset.html#cb32-45" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb32-46"><a href="paramset.html#cb32-46" aria-hidden="true" tabindex="-1"></a>  cigarette_transition_rates <span class="ot">&lt;-</span> cigarette_transitions_sample[sim_number,]</span>
<span id="cb32-47"><a href="paramset.html#cb32-47" aria-hidden="true" tabindex="-1"></a>  cigarette_transition_rates <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">1</span><span class="sc">*</span><span class="fu">log</span>(<span class="dv">1</span> <span class="sc">-</span> cigarette_transition_rates)</span>
<span id="cb32-48"><a href="paramset.html#cb32-48" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb32-49"><a href="paramset.html#cb32-49" aria-hidden="true" tabindex="-1"></a>  e_cigarette_transition_rates <span class="ot">&lt;-</span> e_cigarette_transitions_sample[sim_number,]</span>
<span id="cb32-50"><a href="paramset.html#cb32-50" aria-hidden="true" tabindex="-1"></a>  e_cigarette_transition_rates <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">1</span><span class="sc">*</span><span class="fu">log</span>(<span class="dv">1</span> <span class="sc">-</span> e_cigarette_transition_rates)</span>
<span id="cb32-51"><a href="paramset.html#cb32-51" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb32-52"><a href="paramset.html#cb32-52" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb32-53"><a href="paramset.html#cb32-53" aria-hidden="true" tabindex="-1"></a>  <span class="do">##</span></span>
<span id="cb32-54"><a href="paramset.html#cb32-54" aria-hidden="true" tabindex="-1"></a>  <span class="do">## While we extracted a lot of specific RRs, it is convenient to convert them into RRs that correspond to the specific compartment someone is in</span></span>
<span id="cb32-55"><a href="paramset.html#cb32-55" aria-hidden="true" tabindex="-1"></a>  <span class="do">## In other words, we want to calculate the RR for someone in the compartment [age =  A, sex =  S, cigarette status = C, e-cigarette status = E, income = I]</span></span>
<span id="cb32-56"><a href="paramset.html#cb32-56" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Thus, we will loop through and multiply the appropriate RRs together to get these new RRs</span></span>
<span id="cb32-57"><a href="paramset.html#cb32-57" aria-hidden="true" tabindex="-1"></a>  <span class="do">## This will be convenient when we feed the parameter set into the ODE solver as it will greatly reduce the number of parameters we need to pass in to the solver</span></span>
<span id="cb32-58"><a href="paramset.html#cb32-58" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Thus, we need to generate 6 specific relative risk objects</span></span>
<span id="cb32-59"><a href="paramset.html#cb32-59" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Relative risks for cig initiation, cig cessation, cig reinstatement</span></span>
<span id="cb32-60"><a href="paramset.html#cb32-60" aria-hidden="true" tabindex="-1"></a>  <span class="do">## ecig initiation, ecig cessation, ecig reinstatement</span></span>
<span id="cb32-61"><a href="paramset.html#cb32-61" aria-hidden="true" tabindex="-1"></a>  <span class="do">## We will do this by multiplying the sampled relative risks for each specific thing together</span></span>
<span id="cb32-62"><a href="paramset.html#cb32-62" aria-hidden="true" tabindex="-1"></a>  <span class="do">##</span></span>
<span id="cb32-63"><a href="paramset.html#cb32-63" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb32-64"><a href="paramset.html#cb32-64" aria-hidden="true" tabindex="-1"></a>  <span class="do">## We will start with the cigarette transition RRs</span></span>
<span id="cb32-65"><a href="paramset.html#cb32-65" aria-hidden="true" tabindex="-1"></a>  <span class="do">## We will allocate memory for objects corresponding to the 3 transitions</span></span>
<span id="cb32-66"><a href="paramset.html#cb32-66" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Each cell in the arrays corresponds to an [age,sex,ecig,income] combination</span></span>
<span id="cb32-67"><a href="paramset.html#cb32-67" aria-hidden="true" tabindex="-1"></a>  <span class="do">## We note that cig status is not included here because RRs are applied to specific cig status</span></span>
<span id="cb32-68"><a href="paramset.html#cb32-68" aria-hidden="true" tabindex="-1"></a>  <span class="do">## (i.e. the initiation RRs are only applied to never smokers)</span></span>
<span id="cb32-69"><a href="paramset.html#cb32-69" aria-hidden="true" tabindex="-1"></a>  rr_cigarette_initiation <span class="ot">&lt;-</span> <span class="fu">toArray</span>(<span class="fu">rep</span>(<span class="dv">1</span>, sex_types<span class="sc">*</span>age_types<span class="sc">*</span>e_cigarette_types<span class="sc">*</span>income_types), <span class="at">dim =</span> <span class="fu">c</span>(sex_types,age_types,e_cigarette_types,income_types))</span>
<span id="cb32-70"><a href="paramset.html#cb32-70" aria-hidden="true" tabindex="-1"></a>  rr_cigarette_cessation <span class="ot">&lt;-</span> <span class="fu">toArray</span>(<span class="fu">rep</span>(<span class="dv">1</span>, sex_types<span class="sc">*</span>age_types<span class="sc">*</span>e_cigarette_types<span class="sc">*</span>income_types), <span class="at">dim =</span> <span class="fu">c</span>(sex_types,age_types,e_cigarette_types,income_types))</span>
<span id="cb32-71"><a href="paramset.html#cb32-71" aria-hidden="true" tabindex="-1"></a>  rr_cigarette_reinstatement <span class="ot">&lt;-</span> <span class="fu">toArray</span>(<span class="fu">rep</span>(<span class="dv">1</span>, sex_types<span class="sc">*</span>age_types<span class="sc">*</span>e_cigarette_types<span class="sc">*</span>income_types), <span class="at">dim =</span> <span class="fu">c</span>(sex_types,age_types,e_cigarette_types,income_types))</span>
<span id="cb32-72"><a href="paramset.html#cb32-72" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb32-73"><a href="paramset.html#cb32-73" aria-hidden="true" tabindex="-1"></a>  <span class="do">## We will then loop through every combination of the noted strata</span></span>
<span id="cb32-74"><a href="paramset.html#cb32-74" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(sex <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>sex_types){</span>
<span id="cb32-75"><a href="paramset.html#cb32-75" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span>(age <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>age_types){</span>
<span id="cb32-76"><a href="paramset.html#cb32-76" aria-hidden="true" tabindex="-1"></a>      <span class="cf">for</span>(e_cig <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>e_cigarette_types){</span>
<span id="cb32-77"><a href="paramset.html#cb32-77" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span>(income <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>income_types){</span>
<span id="cb32-78"><a href="paramset.html#cb32-78" aria-hidden="true" tabindex="-1"></a>          </span>
<span id="cb32-79"><a href="paramset.html#cb32-79" aria-hidden="true" tabindex="-1"></a>          </span>
<span id="cb32-80"><a href="paramset.html#cb32-80" aria-hidden="true" tabindex="-1"></a>          <span class="do">## For each RR, we have 5 terms we need to account for: age, sex, e-cig status, income level (5 category) and income change</span></span>
<span id="cb32-81"><a href="paramset.html#cb32-81" aria-hidden="true" tabindex="-1"></a>          <span class="do">## We use the income_5_cat and income_change_3_cat vector to get the appropriate values for extracting the right RRs</span></span>
<span id="cb32-82"><a href="paramset.html#cb32-82" aria-hidden="true" tabindex="-1"></a>          rr_cigarette_initiation[sex,age,e_cig,income] <span class="ot">&lt;-</span> rr_cigarette_initiation_age_point_estimates_sample[sim_number,age]<span class="sc">*</span>rr_cigarette_initiation_sex_point_estimates_sample[sim_number,sex]<span class="sc">*</span>rr_cigarette_initiation_income_point_estimates_sample[sim_number, income_5_cat[income]]<span class="sc">*</span>rr_cigarette_initiation_income_change_point_estimates_sample[sim_number,income_change_3_cat[income]]<span class="sc">*</span>rr_cigarette_initiation_e_cig_point_estimates_sample[sim_number,e_cig]</span>
<span id="cb32-83"><a href="paramset.html#cb32-83" aria-hidden="true" tabindex="-1"></a>          rr_cigarette_cessation[sex,age,e_cig,income] <span class="ot">&lt;-</span> rr_cigarette_cessation_age_point_estimates_sample[sim_number,age]<span class="sc">*</span>rr_cigarette_cessation_sex_point_estimates_sample[sim_number,sex]<span class="sc">*</span>rr_cigarette_cessation_income_point_estimates_sample[sim_number, income_5_cat[income]]<span class="sc">*</span>rr_cigarette_cessation_income_change_point_estimates_sample[sim_number,income_change_3_cat[income]]<span class="sc">*</span>rr_cigarette_cessation_e_cig_point_estimates_sample[sim_number,e_cig]</span>
<span id="cb32-84"><a href="paramset.html#cb32-84" aria-hidden="true" tabindex="-1"></a>          rr_cigarette_reinstatement[sex,age,e_cig,income] <span class="ot">&lt;-</span> rr_cigarette_reinstatement_age_point_estimates_sample[sim_number,age]<span class="sc">*</span>rr_cigarette_reinstatement_sex_point_estimates_sample[sim_number,sex]<span class="sc">*</span>rr_cigarette_reinstatement_income_point_estimates_sample[sim_number, income_5_cat[income]]<span class="sc">*</span>rr_cigarette_reinstatement_income_change_point_estimates_sample[sim_number,income_change_3_cat[income]]<span class="sc">*</span>rr_cigarette_reinstatement_e_cig_point_estimates_sample[sim_number,e_cig]</span>
<span id="cb32-85"><a href="paramset.html#cb32-85" aria-hidden="true" tabindex="-1"></a>          </span>
<span id="cb32-86"><a href="paramset.html#cb32-86" aria-hidden="true" tabindex="-1"></a>          </span>
<span id="cb32-87"><a href="paramset.html#cb32-87" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb32-88"><a href="paramset.html#cb32-88" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb32-89"><a href="paramset.html#cb32-89" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb32-90"><a href="paramset.html#cb32-90" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb32-91"><a href="paramset.html#cb32-91" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb32-92"><a href="paramset.html#cb32-92" aria-hidden="true" tabindex="-1"></a>  <span class="do">## We now repeat this process with the e_cigarette relative risks </span></span>
<span id="cb32-93"><a href="paramset.html#cb32-93" aria-hidden="true" tabindex="-1"></a>  rr_e_cigarette_initiation <span class="ot">&lt;-</span> <span class="fu">toArray</span>(<span class="fu">rep</span>(<span class="dv">1</span>, sex_types<span class="sc">*</span>age_types<span class="sc">*</span>cigarette_types<span class="sc">*</span>income_types), <span class="at">dim =</span> <span class="fu">c</span>(sex_types,age_types,cigarette_types,income_types))</span>
<span id="cb32-94"><a href="paramset.html#cb32-94" aria-hidden="true" tabindex="-1"></a>  rr_e_cigarette_cessation <span class="ot">&lt;-</span> <span class="fu">toArray</span>(<span class="fu">rep</span>(<span class="dv">1</span>, sex_types<span class="sc">*</span>age_types<span class="sc">*</span>cigarette_types<span class="sc">*</span>income_types), <span class="at">dim =</span> <span class="fu">c</span>(sex_types,age_types,cigarette_types,income_types))</span>
<span id="cb32-95"><a href="paramset.html#cb32-95" aria-hidden="true" tabindex="-1"></a>  rr_e_cigarette_reinstatement <span class="ot">&lt;-</span> <span class="fu">toArray</span>(<span class="fu">rep</span>(<span class="dv">1</span>, sex_types<span class="sc">*</span>age_types<span class="sc">*</span>cigarette_types<span class="sc">*</span>income_types), <span class="at">dim =</span> <span class="fu">c</span>(sex_types,age_types,cigarette_types,income_types))</span>
<span id="cb32-96"><a href="paramset.html#cb32-96" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb32-97"><a href="paramset.html#cb32-97" aria-hidden="true" tabindex="-1"></a>  <span class="do">## We loop through every combination</span></span>
<span id="cb32-98"><a href="paramset.html#cb32-98" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(sex <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>sex_types){</span>
<span id="cb32-99"><a href="paramset.html#cb32-99" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span>(age <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>age_types){</span>
<span id="cb32-100"><a href="paramset.html#cb32-100" aria-hidden="true" tabindex="-1"></a>      <span class="cf">for</span>(cig <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>cigarette_types){</span>
<span id="cb32-101"><a href="paramset.html#cb32-101" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span>(income <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>income_types){</span>
<span id="cb32-102"><a href="paramset.html#cb32-102" aria-hidden="true" tabindex="-1"></a>          </span>
<span id="cb32-103"><a href="paramset.html#cb32-103" aria-hidden="true" tabindex="-1"></a>          <span class="do">## And then take the products of the appropriate RRs to get a single RR</span></span>
<span id="cb32-104"><a href="paramset.html#cb32-104" aria-hidden="true" tabindex="-1"></a>          rr_e_cigarette_initiation[sex,age,cig,income] <span class="ot">&lt;-</span> rr_e_cigarette_initiation_age_point_estimates_sample[sim_number,age]<span class="sc">*</span>rr_e_cigarette_initiation_sex_point_estimates_sample[sim_number,sex]<span class="sc">*</span>rr_e_cigarette_initiation_income_point_estimates_sample[sim_number, income_5_cat[income]]<span class="sc">*</span>rr_e_cigarette_initiation_income_change_point_estimates_sample[sim_number,income_change_3_cat[income]]<span class="sc">*</span>rr_e_cigarette_initiation_cig_point_estimates_sample[sim_number,cig]</span>
<span id="cb32-105"><a href="paramset.html#cb32-105" aria-hidden="true" tabindex="-1"></a>          rr_e_cigarette_cessation[sex,age,cig,income] <span class="ot">&lt;-</span> rr_e_cigarette_cessation_age_point_estimates_sample[sim_number,age]<span class="sc">*</span>rr_e_cigarette_cessation_sex_point_estimates_sample[sim_number,sex]<span class="sc">*</span>rr_e_cigarette_cessation_income_point_estimates_sample[sim_number, income_5_cat[income]]<span class="sc">*</span>rr_e_cigarette_cessation_income_change_point_estimates_sample[sim_number,income_change_3_cat[income]]<span class="sc">*</span>rr_e_cigarette_cessation_cig_point_estimates_sample[sim_number,cig]</span>
<span id="cb32-106"><a href="paramset.html#cb32-106" aria-hidden="true" tabindex="-1"></a>          rr_e_cigarette_reinstatement[sex,age,cig,income] <span class="ot">&lt;-</span> rr_e_cigarette_reinstatement_age_point_estimates_sample[sim_number,age]<span class="sc">*</span>rr_e_cigarette_reinstatement_sex_point_estimates_sample[sim_number,sex]<span class="sc">*</span>rr_e_cigarette_reinstatement_income_point_estimates_sample[sim_number, income_5_cat[income]]<span class="sc">*</span>rr_e_cigarette_reinstatement_income_change_point_estimates_sample[sim_number,income_change_3_cat[income]]<span class="sc">*</span>rr_e_cigarette_reinstatement_cig_point_estimates_sample[sim_number,cig]</span>
<span id="cb32-107"><a href="paramset.html#cb32-107" aria-hidden="true" tabindex="-1"></a>          </span>
<span id="cb32-108"><a href="paramset.html#cb32-108" aria-hidden="true" tabindex="-1"></a>          </span>
<span id="cb32-109"><a href="paramset.html#cb32-109" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb32-110"><a href="paramset.html#cb32-110" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb32-111"><a href="paramset.html#cb32-111" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb32-112"><a href="paramset.html#cb32-112" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb32-113"><a href="paramset.html#cb32-113" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb32-114"><a href="paramset.html#cb32-114" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb32-115"><a href="paramset.html#cb32-115" aria-hidden="true" tabindex="-1"></a>  <span class="do">##</span></span>
<span id="cb32-116"><a href="paramset.html#cb32-116" aria-hidden="true" tabindex="-1"></a>  <span class="do">## While these previous steps represent the finalization of our parameter set,</span></span>
<span id="cb32-117"><a href="paramset.html#cb32-117" aria-hidden="true" tabindex="-1"></a>  <span class="do">## For some potential scenario analyses we want to save our various RRs that we can modify the overall RRs</span></span>
<span id="cb32-118"><a href="paramset.html#cb32-118" aria-hidden="true" tabindex="-1"></a>  <span class="do">## For example, if we wanted to assume that everyone had the same income risk, we could use the saved income RRs to modify overall risk</span></span>
<span id="cb32-119"><a href="paramset.html#cb32-119" aria-hidden="true" tabindex="-1"></a>  <span class="do">## We store these values here -- we highlight that using these as a reference can inform how to use these vectors to modify scenario analyses (i.e. to see which values are at which location)</span></span>
<span id="cb32-120"><a href="paramset.html#cb32-120" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb32-121"><a href="paramset.html#cb32-121" aria-hidden="true" tabindex="-1"></a>  age_RR_sim <span class="ot">&lt;-</span> <span class="fu">c</span>(rr_cigarette_initiation_age_point_estimates_sample[sim_number,],rr_cigarette_cessation_age_point_estimates_sample[sim_number,],rr_cigarette_reinstatement_age_point_estimates_sample[sim_number,],</span>
<span id="cb32-122"><a href="paramset.html#cb32-122" aria-hidden="true" tabindex="-1"></a>                  rr_e_cigarette_initiation_age_point_estimates_sample[sim_number,],rr_e_cigarette_cessation_age_point_estimates_sample[sim_number,],rr_e_cigarette_reinstatement_age_point_estimates_sample[sim_number,])</span>
<span id="cb32-123"><a href="paramset.html#cb32-123" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb32-124"><a href="paramset.html#cb32-124" aria-hidden="true" tabindex="-1"></a>  sex_RR_sim <span class="ot">&lt;-</span> <span class="fu">c</span>(rr_cigarette_initiation_sex_point_estimates_sample[sim_number,],rr_cigarette_cessation_sex_point_estimates_sample[sim_number,],rr_cigarette_reinstatement_sex_point_estimates_sample[sim_number,],</span>
<span id="cb32-125"><a href="paramset.html#cb32-125" aria-hidden="true" tabindex="-1"></a>                  rr_e_cigarette_initiation_sex_point_estimates_sample[sim_number,],rr_e_cigarette_cessation_sex_point_estimates_sample[sim_number,],rr_e_cigarette_reinstatement_sex_point_estimates_sample[sim_number,])</span>
<span id="cb32-126"><a href="paramset.html#cb32-126" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb32-127"><a href="paramset.html#cb32-127" aria-hidden="true" tabindex="-1"></a>  income_RR_sim <span class="ot">&lt;-</span> <span class="fu">c</span>(rr_cigarette_initiation_income_point_estimates_sample[sim_number,],rr_cigarette_cessation_income_point_estimates_sample[sim_number,],rr_cigarette_reinstatement_income_point_estimates_sample[sim_number,],</span>
<span id="cb32-128"><a href="paramset.html#cb32-128" aria-hidden="true" tabindex="-1"></a>                     rr_e_cigarette_initiation_income_point_estimates_sample[sim_number,],rr_e_cigarette_cessation_income_point_estimates_sample[sim_number,],rr_e_cigarette_reinstatement_income_point_estimates_sample[sim_number,])</span>
<span id="cb32-129"><a href="paramset.html#cb32-129" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb32-130"><a href="paramset.html#cb32-130" aria-hidden="true" tabindex="-1"></a>  income_change_RR_sim <span class="ot">&lt;-</span> <span class="fu">c</span>(rr_cigarette_initiation_income_change_point_estimates_sample[sim_number,],rr_cigarette_cessation_income_change_point_estimates_sample[sim_number,],rr_cigarette_reinstatement_income_change_point_estimates_sample[sim_number,],</span>
<span id="cb32-131"><a href="paramset.html#cb32-131" aria-hidden="true" tabindex="-1"></a>                            rr_e_cigarette_initiation_income_change_point_estimates_sample[sim_number,],rr_e_cigarette_cessation_income_change_point_estimates_sample[sim_number,],rr_e_cigarette_reinstatement_income_change_point_estimates_sample[sim_number,])</span>
<span id="cb32-132"><a href="paramset.html#cb32-132" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb32-133"><a href="paramset.html#cb32-133" aria-hidden="true" tabindex="-1"></a>  e_cig_RR_sim <span class="ot">&lt;-</span> <span class="fu">c</span>(rr_cigarette_initiation_e_cig_point_estimates_sample[sim_number,],rr_cigarette_cessation_e_cig_point_estimates_sample[sim_number,],rr_cigarette_reinstatement_e_cig_point_estimates_sample[sim_number,])</span>
<span id="cb32-134"><a href="paramset.html#cb32-134" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb32-135"><a href="paramset.html#cb32-135" aria-hidden="true" tabindex="-1"></a>  cig_RR_sim <span class="ot">&lt;-</span> <span class="fu">c</span>(rr_e_cigarette_initiation_cig_point_estimates_sample[sim_number,],rr_e_cigarette_cessation_cig_point_estimates_sample[sim_number,],rr_e_cigarette_reinstatement_cig_point_estimates_sample[sim_number,])</span>
<span id="cb32-136"><a href="paramset.html#cb32-136" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb32-137"><a href="paramset.html#cb32-137" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb32-138"><a href="paramset.html#cb32-138" aria-hidden="true" tabindex="-1"></a>  <span class="do">##</span></span>
<span id="cb32-139"><a href="paramset.html#cb32-139" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Now we are going to finalize our parameter set</span></span>
<span id="cb32-140"><a href="paramset.html#cb32-140" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Please take note of the indicies of each of the parameters</span></span>
<span id="cb32-141"><a href="paramset.html#cb32-141" aria-hidden="true" tabindex="-1"></a>  <span class="do">## This will be important for when we feed the parameter sets into the ODE solver</span></span>
<span id="cb32-142"><a href="paramset.html#cb32-142" aria-hidden="true" tabindex="-1"></a>  <span class="do">## So that we can make the appropriate references to the right values</span></span>
<span id="cb32-143"><a href="paramset.html#cb32-143" aria-hidden="true" tabindex="-1"></a>  <span class="do">##</span></span>
<span id="cb32-144"><a href="paramset.html#cb32-144" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb32-145"><a href="paramset.html#cb32-145" aria-hidden="true" tabindex="-1"></a>  parameters <span class="ot">&lt;-</span> income_transition_rates <span class="do">## 1 - 150</span></span>
<span id="cb32-146"><a href="paramset.html#cb32-146" aria-hidden="true" tabindex="-1"></a>  parameters <span class="ot">&lt;-</span> <span class="fu">c</span>(parameters, staging_modifier) <span class="do">## 151</span></span>
<span id="cb32-147"><a href="paramset.html#cb32-147" aria-hidden="true" tabindex="-1"></a>  parameters <span class="ot">&lt;-</span> <span class="fu">c</span>(parameters, <span class="fu">toVector</span>(cigarette_transition_rates)) <span class="do">## 152 - 160</span></span>
<span id="cb32-148"><a href="paramset.html#cb32-148" aria-hidden="true" tabindex="-1"></a>  parameters <span class="ot">&lt;-</span> <span class="fu">c</span>(parameters, <span class="fu">toVector</span>(e_cigarette_transition_rates)) <span class="do">## 161 - 169</span></span>
<span id="cb32-149"><a href="paramset.html#cb32-149" aria-hidden="true" tabindex="-1"></a>  parameters <span class="ot">&lt;-</span> <span class="fu">c</span>(parameters, <span class="fu">toVector</span>(rr_cigarette_initiation)) <span class="do">## 169 - 637</span></span>
<span id="cb32-150"><a href="paramset.html#cb32-150" aria-hidden="true" tabindex="-1"></a>  parameters <span class="ot">&lt;-</span> <span class="fu">c</span>(parameters, <span class="fu">toVector</span>(rr_cigarette_cessation)) <span class="do">## 638 - 1105</span></span>
<span id="cb32-151"><a href="paramset.html#cb32-151" aria-hidden="true" tabindex="-1"></a>  parameters <span class="ot">&lt;-</span> <span class="fu">c</span>(parameters, <span class="fu">toVector</span>(rr_cigarette_reinstatement)) <span class="do">## 1106 - 1573</span></span>
<span id="cb32-152"><a href="paramset.html#cb32-152" aria-hidden="true" tabindex="-1"></a>  parameters <span class="ot">&lt;-</span> <span class="fu">c</span>(parameters, <span class="fu">toVector</span>(rr_e_cigarette_initiation)) <span class="do">## 1574 - 2041</span></span>
<span id="cb32-153"><a href="paramset.html#cb32-153" aria-hidden="true" tabindex="-1"></a>  parameters <span class="ot">&lt;-</span> <span class="fu">c</span>(parameters, <span class="fu">toVector</span>(rr_e_cigarette_cessation)) <span class="do">## 2042 - 2509</span></span>
<span id="cb32-154"><a href="paramset.html#cb32-154" aria-hidden="true" tabindex="-1"></a>  parameters <span class="ot">&lt;-</span> <span class="fu">c</span>(parameters, <span class="fu">toVector</span>(rr_e_cigarette_reinstatement)) <span class="do">## 2510 - 2977</span></span>
<span id="cb32-155"><a href="paramset.html#cb32-155" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb32-156"><a href="paramset.html#cb32-156" aria-hidden="true" tabindex="-1"></a>  <span class="do">## The last step then is to store the results</span></span>
<span id="cb32-157"><a href="paramset.html#cb32-157" aria-hidden="true" tabindex="-1"></a>  <span class="do">## If it is the first parameter set, we initialize the final data frames</span></span>
<span id="cb32-158"><a href="paramset.html#cb32-158" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="fu">is.na</span>(parameter_set)){</span>
<span id="cb32-159"><a href="paramset.html#cb32-159" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb32-160"><a href="paramset.html#cb32-160" aria-hidden="true" tabindex="-1"></a>    <span class="do">## We want to store the parameter sets</span></span>
<span id="cb32-161"><a href="paramset.html#cb32-161" aria-hidden="true" tabindex="-1"></a>    parameter_set <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">matrix</span>(parameters, <span class="at">nrow =</span> <span class="dv">1</span>))</span>
<span id="cb32-162"><a href="paramset.html#cb32-162" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb32-163"><a href="paramset.html#cb32-163" aria-hidden="true" tabindex="-1"></a>    <span class="do">## And we want to store the specific RRs for future use</span></span>
<span id="cb32-164"><a href="paramset.html#cb32-164" aria-hidden="true" tabindex="-1"></a>    age_RRs <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">matrix</span>(age_RR_sim, <span class="at">nrow =</span> <span class="dv">1</span>))</span>
<span id="cb32-165"><a href="paramset.html#cb32-165" aria-hidden="true" tabindex="-1"></a>    sex_RRs <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">matrix</span>(sex_RR_sim, <span class="at">nrow =</span> <span class="dv">1</span>))</span>
<span id="cb32-166"><a href="paramset.html#cb32-166" aria-hidden="true" tabindex="-1"></a>    income_RRs <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">matrix</span>(income_RR_sim, <span class="at">nrow =</span> <span class="dv">1</span>))</span>
<span id="cb32-167"><a href="paramset.html#cb32-167" aria-hidden="true" tabindex="-1"></a>    income_change_RRs <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">matrix</span>(income_change_RR_sim, <span class="at">nrow =</span> <span class="dv">1</span>))</span>
<span id="cb32-168"><a href="paramset.html#cb32-168" aria-hidden="true" tabindex="-1"></a>    cigarette_RRs <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">matrix</span>(cig_RR_sim, <span class="at">nrow =</span> <span class="dv">1</span>))</span>
<span id="cb32-169"><a href="paramset.html#cb32-169" aria-hidden="true" tabindex="-1"></a>    e_cigarette_RRs <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">matrix</span>(e_cig_RR_sim, <span class="at">nrow =</span> <span class="dv">1</span>))</span>
<span id="cb32-170"><a href="paramset.html#cb32-170" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb32-171"><a href="paramset.html#cb32-171" aria-hidden="true" tabindex="-1"></a>  <span class="do">## If it is not the first parameter set, we add the values to the already created data.frames    </span></span>
<span id="cb32-172"><a href="paramset.html#cb32-172" aria-hidden="true" tabindex="-1"></a>  }<span class="cf">else</span>{</span>
<span id="cb32-173"><a href="paramset.html#cb32-173" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb32-174"><a href="paramset.html#cb32-174" aria-hidden="true" tabindex="-1"></a>    parameter_set <span class="ot">&lt;-</span> <span class="fu">rbind</span>(parameter_set, parameters)</span>
<span id="cb32-175"><a href="paramset.html#cb32-175" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb32-176"><a href="paramset.html#cb32-176" aria-hidden="true" tabindex="-1"></a>    age_RRs <span class="ot">&lt;-</span> <span class="fu">rbind</span>(age_RRs, age_RR_sim)</span>
<span id="cb32-177"><a href="paramset.html#cb32-177" aria-hidden="true" tabindex="-1"></a>    sex_RRs <span class="ot">&lt;-</span> <span class="fu">rbind</span>(sex_RRs, sex_RR_sim)</span>
<span id="cb32-178"><a href="paramset.html#cb32-178" aria-hidden="true" tabindex="-1"></a>    income_RRs <span class="ot">&lt;-</span> <span class="fu">rbind</span>(income_RRs, income_RR_sim)</span>
<span id="cb32-179"><a href="paramset.html#cb32-179" aria-hidden="true" tabindex="-1"></a>    income_change_RRs <span class="ot">&lt;-</span> <span class="fu">rbind</span>(income_change_RRs, income_change_RR_sim)</span>
<span id="cb32-180"><a href="paramset.html#cb32-180" aria-hidden="true" tabindex="-1"></a>    cigarette_RRs <span class="ot">&lt;-</span> <span class="fu">rbind</span>(cigarette_RRs, cig_RR_sim)</span>
<span id="cb32-181"><a href="paramset.html#cb32-181" aria-hidden="true" tabindex="-1"></a>    e_cigarette_RRs <span class="ot">&lt;-</span> <span class="fu">rbind</span>(e_cigarette_RRs, e_cig_RR_sim)</span>
<span id="cb32-182"><a href="paramset.html#cb32-182" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb32-183"><a href="paramset.html#cb32-183" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb32-184"><a href="paramset.html#cb32-184" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb32-185"><a href="paramset.html#cb32-185" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="output-the-results" class="section level2" number="4.10">
<h2><span class="header-section-number">4.10</span> Output the Results</h2>
<p>Finally, we outpu the final data.frames. We note that a parameter set name is included in the saved file so that analyses from the same parameter set are easy to keep track of.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="paramset.html#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(parameter_set,<span class="fu">paste</span>(<span class="st">&quot;Data/Parameter_Sets/Parameter_Set_&quot;</span>,<span class="fu">as.character</span>(parameter_set_number),<span class="st">&quot;.csv&quot;</span>,<span class="at">sep=</span><span class="st">&quot;&quot;</span>))</span>
<span id="cb33-2"><a href="paramset.html#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(age_RRs,<span class="fu">paste</span>(<span class="st">&quot;Data/Parameter_Sets/Age_RRs_Parameter_Set_&quot;</span>,<span class="fu">as.character</span>(parameter_set_number),<span class="st">&quot;.csv&quot;</span>,<span class="at">sep=</span><span class="st">&quot;&quot;</span>))</span>
<span id="cb33-3"><a href="paramset.html#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(sex_RRs,<span class="fu">paste</span>(<span class="st">&quot;Data/Parameter_Sets/Sex_RRs_Parameter_Set_&quot;</span>,<span class="fu">as.character</span>(parameter_set_number),<span class="st">&quot;.csv&quot;</span>,<span class="at">sep=</span><span class="st">&quot;&quot;</span>))</span>
<span id="cb33-4"><a href="paramset.html#cb33-4" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(income_RRs,<span class="fu">paste</span>(<span class="st">&quot;Data/Parameter_Sets/Income_RRs_Parameter_Set_&quot;</span>,<span class="fu">as.character</span>(parameter_set_number),<span class="st">&quot;.csv&quot;</span>,<span class="at">sep=</span><span class="st">&quot;&quot;</span>))</span>
<span id="cb33-5"><a href="paramset.html#cb33-5" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(income_change_RRs,<span class="fu">paste</span>(<span class="st">&quot;Data/Parameter_Sets/Income_Change_RRs_Parameter_Set_&quot;</span>,<span class="fu">as.character</span>(parameter_set_number),<span class="st">&quot;.csv&quot;</span>,<span class="at">sep=</span><span class="st">&quot;&quot;</span>))</span>
<span id="cb33-6"><a href="paramset.html#cb33-6" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(cigarette_RRs,<span class="fu">paste</span>(<span class="st">&quot;Data/Parameter_Sets/Cig_RRs_Parameter_Set_&quot;</span>,<span class="fu">as.character</span>(parameter_set_number),<span class="st">&quot;.csv&quot;</span>,<span class="at">sep=</span><span class="st">&quot;&quot;</span>))</span>
<span id="cb33-7"><a href="paramset.html#cb33-7" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(e_cigarette_RRs,<span class="fu">paste</span>(<span class="st">&quot;Data/Parameter_Sets/E_Cig_RRs_Parameter_Set_&quot;</span>,<span class="fu">as.character</span>(parameter_set_number),<span class="st">&quot;.csv&quot;</span>,<span class="at">sep=</span><span class="st">&quot;&quot;</span>))</span></code></pre></div>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="1">
<li id="fn1"><p>we don’t need to define absolute transitions for age nor sex because age transitions occur at regular intervals and we aren’t allowing transitions across sex compartments<a href="paramset.html#fnref1" class="footnote-back">↩︎</a></p></li>
<li id="fn2"><p>haven’t hand counted<a href="paramset.html#fnref2" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="imputation.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="start.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection",
"scroll_highlight": true
},
"toolbar": {
"position": "fixed"
},
"search": true
});
});
</script>

</body>

</html>
